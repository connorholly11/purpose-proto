[2025-03-19T18:02:41.326Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742407361326"
}
[2025-03-19T18:02:41.329Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742407361326",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:41.329Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742407361326"
}
[2025-03-19T18:02:41.329Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742407361329",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:41.330Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T18:02:41.330Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742407361329"
}
[2025-03-19T18:02:41.330Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742407361330",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-19T18:02:41.330Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T18:02:41.331Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742407361330",
  "model": "text-embedding-3-small"
}
[2025-03-19T18:02:42.181Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742407361330",
  "duration": 850,
  "dimensions": 1536
}
[2025-03-19T18:02:42.182Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742407361329",
  "embeddingSize": 1536
}
[2025-03-19T18:02:42.182Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742407361329",
  "topK": 5
}
[2025-03-19T18:02:42.655Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742407361329",
  "matchCount": 5,
  "operationTime": 1326
}
[2025-03-19T18:02:42.656Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742407361329",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:43.559Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742407361329",
  "query": "hey there...",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:43.559Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742407361329",
  "contextLength": 1921,
  "contextStart": "org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin..."
}
[2025-03-19T18:02:43.559Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742407361329",
  "operationTime": 1326,
  "matchCount": 5
}
[2025-03-19T18:02:43.559Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742407361326",
  "duration": 2230,
  "matchCount": 5
}
[2025-03-19T18:02:43.675Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742407363675"
}
[2025-03-19T18:02:43.675Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742407363675",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1921,
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:43.675Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742407363675"
}
[2025-03-19T18:02:43.675Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742407363675",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1921
}
[2025-03-19T18:02:43.675Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T18:02:43.676Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742407363675",
  "contextLength": 1921
}
[2025-03-19T18:02:43.676Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742407363675",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T18:02:44.181Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742407363675",
  "duration": 505,
  "promptTokens": 486,
  "completionTokens": 10,
  "totalTokens": 496,
  "responseLength": 34
}
[2025-03-19T18:02:44.181Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742407363675",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9",
  "userMessageLength": 2010,
  "assistantMessageLength": 34
}
[2025-03-19T18:02:44.330Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742407363675",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:44.330Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742407363675",
  "duration": 506,
  "answerLength": 34
}
[2025-03-19T18:02:44.404Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742407364404",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-19T18:02:44.405Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T18:02:44.405Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742407364404",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T18:02:45.764Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742407364404",
  "duration": 1359,
  "bufferSize": 40320
}
[2025-03-19T18:05:04.405Z] [INFO] [API] Getting server logs 
[2025-03-19T18:05:04.406Z] [INFO] [API] Getting server logs 
[2025-03-19T18:05:04.412Z] [INFO] [API] Getting server logs[2025-03-19T19:34:06.309Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742412846309"
}
[2025-03-19T19:34:06.309Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742412846309",
  "query": "what is your favorite thing to do",
  "topK": 5,
  "source": "chat",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:06.309Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742412846309"
}
[2025-03-19T19:34:06.309Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742412846309",
  "query": "what is your favorite thing to do",
  "topK": 5,
  "source": "chat",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:06.310Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742412846309"
}
[2025-03-19T19:34:06.310Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742412846310",
  "textLength": 33,
  "textPreview": "what is your favorite thing to do"
}
[2025-03-19T19:34:06.310Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742412846310",
  "model": "text-embedding-3-small"
}
[2025-03-19T19:34:06.958Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742412846310",
  "duration": 648,
  "dimensions": 1536
}
[2025-03-19T19:34:06.958Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742412846309",
  "embeddingSize": 1536
}
[2025-03-19T19:34:06.958Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742412846309",
  "topK": 5
}
[2025-03-19T19:34:07.295Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742412846309",
  "matchCount": 5,
  "operationTime": 986
}
[2025-03-19T19:34:07.295Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742412846309",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:07.619Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742412846309",
  "query": "what is your favorite thing to...",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:07.619Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742412846309",
  "contextLength": 1839,
  "contextStart": "Learn about powerful built-in tools like web search and file search.\n\n](/docs/guides/tools)[\n\nFuncti..."
}
[2025-03-19T19:34:07.620Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742412846309",
  "operationTime": 986,
  "matchCount": 5
}
[2025-03-19T19:34:07.620Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742412846309",
  "duration": 1311,
  "matchCount": 5
}
[2025-03-19T19:34:07.626Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742412847626"
}
[2025-03-19T19:34:07.626Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742412847626",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1839,
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:07.626Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742412847626"
}
[2025-03-19T19:34:07.626Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742412847626",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1839
}
[2025-03-19T19:34:07.626Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742412847626",
  "contextLength": 1839
}
[2025-03-19T19:34:07.626Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742412847626",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T19:34:09.345Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742412847626",
  "duration": 1719,
  "promptTokens": 422,
  "completionTokens": 50,
  "totalTokens": 472,
  "responseLength": 270
}
[2025-03-19T19:34:09.345Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742412847626",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28",
  "userMessageLength": 1928,
  "assistantMessageLength": 270
}
[2025-03-19T19:34:09.468Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742412847626",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:09.468Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742412847626",
  "duration": 1719,
  "answerLength": 270
}
[2025-03-19T20:20:26.447Z] [INFO] [API] Creating conversation {
  "requestId": "api-create-conv-1742415626447"
}
[2025-03-19T20:20:26.915Z] [INFO] [API] Conversation created {
  "requestId": "api-create-conv-1742415626447",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:35.260Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742415635260"
}
[2025-03-19T20:20:35.261Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742415635260",
  "query": "whats my name",
  "topK": 5,
  "source": "test-page",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:35.261Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742415635260"
}
[2025-03-19T20:20:35.261Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742415635261",
  "query": "whats my name",
  "topK": 5,
  "source": "test-page",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:35.261Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:20:35.262Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742415635261"
}
[2025-03-19T20:20:35.262Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742415635262",
  "textLength": 13,
  "textPreview": "whats my name"
}
[2025-03-19T20:20:35.262Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:20:35.262Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742415635262",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:20:35.981Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742415635262",
  "duration": 719,
  "dimensions": 1536
}
[2025-03-19T20:20:35.981Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742415635261",
  "embeddingSize": 1536
}
[2025-03-19T20:20:35.981Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742415635261",
  "topK": 5
}
[2025-03-19T20:20:36.411Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742415635261",
  "matchCount": 5,
  "operationTime": 1150
}
[2025-03-19T20:20:36.411Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742415635261",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:36.861Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742415635261",
  "query": "whats my name...",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:36.862Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742415635261",
  "contextLength": 2417,
  "contextStart": "type|When set to function_call, indicates this response contains arguments for a named function call..."
}
[2025-03-19T20:20:36.862Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742415635261",
  "operationTime": 1150,
  "matchCount": 5
}
[2025-03-19T20:20:36.862Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742415635260",
  "duration": 1601,
  "matchCount": 5
}
[2025-03-19T20:20:43.834Z] [INFO] [API] Fetching RAG operations {
  "requestId": "api-rag-ops-1742415643834",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:44.071Z] [INFO] [API] RAG operations fetched {
  "requestId": "api-rag-ops-1742415643834",
  "operationCount": 1
}
[2025-03-19T20:50:28.089Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742417428089"
}
[2025-03-19T20:50:28.090Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742417428089",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "5c9e9a51-93d6-4212-9a8e-5465bc80da5b"
}
[2025-03-19T20:50:28.090Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742417428089"
}
[2025-03-19T20:50:28.091Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417428091",
  "textLength": 11,
  "textPreview": "hey there 5"
}
[2025-03-19T20:50:28.091Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:50:28.091Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417428091",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:50:29.411Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417428091",
  "duration": 1320,
  "dimensions": 1536
}
[2025-03-19T20:50:29.411Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:50:29.845Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742417428089",
  "error": "top_k: invalid value \"5c9e9a51-93d6-4212-9a8e-5465bc80da5b\" for type TYPE_UINT32"
}
[2025-03-19T20:50:47.969Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742417447969"
}
[2025-03-19T20:50:47.969Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742417447969",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "1b97452c-a911-4aa3-bc09-f001afd27edf"
}
[2025-03-19T20:50:47.969Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742417447969"
}
[2025-03-19T20:50:47.969Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417447969",
  "textLength": 11,
  "textPreview": "hey there 5"
}
[2025-03-19T20:50:47.969Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:50:47.970Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417447969",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:50:48.648Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417447969",
  "duration": 678,
  "dimensions": 1536
}
[2025-03-19T20:50:48.648Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:50:49.020Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742417447969",
  "error": "top_k: invalid value \"1b97452c-a911-4aa3-bc09-f001afd27edf\" for type TYPE_UINT32"
}
[2025-03-19T20:52:07.266Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742417527266"
}
[2025-03-19T20:52:07.267Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742417527266",
  "query": "hey",
  "topK": 5,
  "source": "chat",
  "conversationId": "58a27b47-799e-4445-bd18-fd881461b495"
}
[2025-03-19T20:52:07.267Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742417527266"
}
[2025-03-19T20:52:07.268Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417527268",
  "textLength": 5,
  "textPreview": "hey 5"
}
[2025-03-19T20:52:07.268Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:52:07.268Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417527268",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:52:07.928Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417527268",
  "duration": 660,
  "dimensions": 1536
}
[2025-03-19T20:52:07.928Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:52:08.406Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742417527266",
  "error": "top_k: invalid value \"58a27b47-799e-4445-bd18-fd881461b495\" for type TYPE_UINT32"
}
[2025-03-19T20:52:43.755Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742417563755",
  "bufferSize": 25451
}
[2025-03-19T20:52:43.756Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:52:43.756Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742417563755",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742417563756.webm"
}
[2025-03-19T20:52:43.757Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742417563755",
  "model": "whisper-1"
}
[2025-03-19T20:52:44.781Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742417563755",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742417563756.webm"
}
[2025-03-19T20:52:44.782Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742417563755",
  "duration": 1024,
  "transcriptLength": 34
}
[2025-03-19T20:52:44.926Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417564926",
  "textLength": 36,
  "textPreview": "Telsing, Telsing, can you hear me? 5"
}
[2025-03-19T20:52:44.926Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:52:44.927Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417564926",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:52:45.283Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417564926",
  "duration": 357,
  "dimensions": 1536
}
[2025-03-19T20:52:45.283Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:52:57.189Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:57.189Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:57.197Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:57.612Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:58.281Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:58.625Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:58.946Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:59.431Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:59.747Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:00.058Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:00.360Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:00.719Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:01.040Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:01.451Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:18.417Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742419638417",
  "bufferSize": 28350
}
[2025-03-19T21:27:18.418Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:27:18.418Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742419638417",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742419638418.webm"
}
[2025-03-19T21:27:18.418Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742419638417",
  "model": "whisper-1"
}
[2025-03-19T21:27:19.556Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742419638417",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742419638418.webm"
}
[2025-03-19T21:27:19.556Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742419638417",
  "duration": 1138,
  "transcriptLength": 34
}
[2025-03-19T21:27:19.878Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742419639878",
  "query": "Testing, testing, can you hear me?",
  "topK": 5,
  "source": "chat",
  "conversationId": "6d41bfc5-1c0a-4f15-a344-a753ae9b5c90"
}
[2025-03-19T21:27:19.878Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:27:19.879Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742419639878"
}
[2025-03-19T21:27:19.879Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742419639879",
  "textLength": 34,
  "textPreview": "Testing, testing, can you hear me?"
}
[2025-03-19T21:27:19.879Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:27:19.879Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742419639879",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:27:20.790Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742419639879",
  "duration": 911,
  "dimensions": 1536
}
[2025-03-19T21:27:20.790Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742419639878",
  "embeddingSize": 1536
}
[2025-03-19T21:27:20.791Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742419639878",
  "topK": 5
}
[2025-03-19T21:27:21.443Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742419639878",
  "matchCount": 5,
  "operationTime": 1565
}
[2025-03-19T21:27:21.444Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742419639878",
  "conversationId": "6d41bfc5-1c0a-4f15-a344-a753ae9b5c90"
}
[2025-03-19T21:27:21.980Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742419639878",
  "query": "Testing, testing, can you hear...",
  "conversationId": "6d41bfc5-1c0a-4f15-a344-a753ae9b5c90"
}
[2025-03-19T21:27:21.982Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742419639878",
  "contextLength": 2456,
  "contextStart": "res.json({\n       message: 'TTS generated successfully',\n       audioUrl: `/audio/${path.basename(te..."
}
[2025-03-19T21:27:21.982Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742419639878",
  "operationTime": 1565,
  "matchCount": 5
}
[2025-03-19T21:27:21.983Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742419641983",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2456
}
[2025-03-19T21:27:21.983Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742419641983",
  "contextLength": 2456
}
[2025-03-19T21:27:21.984Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742419641983",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:27:23.721Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742419641983",
  "duration": 1737,
  "promptTokens": 646,
  "completionTokens": 64,
  "totalTokens": 710,
  "responseLength": 285
}
[2025-03-19T21:27:24.236Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742419644236",
  "textLength": 285,
  "voice": "alloy"
}
[2025-03-19T21:27:24.236Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:27:24.236Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742419644236",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:27:27.361Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742419644236",
  "duration": 3124,
  "bufferSize": 334560
}
[2025-03-19T21:27:56.649Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:56.650Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:56.655Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:57.056Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:57.373Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:57.801Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:58.114Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:58.425Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:58.779Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:33.756Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:33.768Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:33.770Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.102Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.406Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.702Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.997Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:35.299Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:35.601Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:35.928Z] [INFO] [API] Getting server logs 
[2025-03-19T21:30:35.797Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742419835797"
}
[2025-03-19T21:30:35.798Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742419835797",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:30:35.798Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742419835797"
}
[2025-03-19T21:30:35.798Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742419835798",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-19T21:30:35.798Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:30:35.798Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742419835798",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:30:38.226Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742419835798",
  "duration": 2428,
  "dimensions": 1536
}
[2025-03-19T21:30:38.227Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:30:38.732Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742419835797",
  "error": "top_k: invalid value \"d623c793-736a-457a-b4b6-ec07027d7df7\" for type TYPE_UINT32"
}
[2025-03-19T21:35:04.911Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742420104911"
}
[2025-03-19T21:35:04.912Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742420104911",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:04.912Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742420104911"
}
[2025-03-19T21:35:04.913Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742420104913",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-19T21:35:04.913Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:35:04.913Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742420104913",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:35:05.227Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742420104913",
  "duration": 314,
  "dimensions": 1536
}
[2025-03-19T21:35:05.227Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:35:05.630Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742420104911",
  "duration": 718,
  "matchCount": 5
}
[2025-03-19T21:35:05.861Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742420105861"
}
[2025-03-19T21:35:05.862Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742420105861",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:05.862Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742420105861"
}
[2025-03-19T21:35:05.862Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742420105862",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-19T21:35:05.862Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:35:05.862Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742420105862",
  "contextLength": 1923
}
[2025-03-19T21:35:05.862Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742420105862",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:35:06.725Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742420105862",
  "duration": 863,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-19T21:35:06.726Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742420105861",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-19T21:35:07.264Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742420105861",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:07.265Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742420105861",
  "duration": 864,
  "answerLength": 34
}
[2025-03-19T21:35:16.493Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742420116493"
}
[2025-03-19T21:35:16.494Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742420116493",
  "query": "my name is connor",
  "topK": 5,
  "source": "chat",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:16.494Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742420116493"
}
[2025-03-19T21:35:16.494Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742420116494",
  "textLength": 17,
  "textPreview": "my name is connor"
}
[2025-03-19T21:35:16.494Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742420116494",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:35:17.169Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742420116494",
  "duration": 675,
  "dimensions": 1536
}
[2025-03-19T21:35:17.170Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:35:17.521Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742420116493",
  "duration": 1027,
  "matchCount": 5
}
[2025-03-19T21:35:17.531Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742420117531"
}
[2025-03-19T21:35:17.532Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742420117531",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432,
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:17.532Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742420117531"
}
[2025-03-19T21:35:17.532Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742420117532",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432
}
[2025-03-19T21:35:17.532Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742420117532",
  "contextLength": 2432
}
[2025-03-19T21:35:17.532Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742420117532",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:35:17.952Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742420117532",
  "duration": 419,
  "promptTokens": 552,
  "completionTokens": 11,
  "totalTokens": 563,
  "responseLength": 38
}
[2025-03-19T21:35:17.952Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742420117531",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7",
  "userMessageLength": 2521,
  "assistantMessageLength": 38
}
[2025-03-19T21:35:18.055Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742420117531",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:18.055Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742420117531",
  "duration": 420,
  "answerLength": 38
}
[2025-03-19T21:35:24.979Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:24.980Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:24.987Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:28.596Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:30.247Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:34.364Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:35.527Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:00.487Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742420160487"
}
[2025-03-19T21:36:00.488Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742420160487",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2"
}
[2025-03-19T21:36:00.488Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742420160487"
}
[2025-03-19T21:36:00.489Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742420160489",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-19T21:36:00.489Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:36:00.489Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742420160489",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:36:02.434Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742420160489",
  "duration": 1945,
  "dimensions": 1536
}
[2025-03-19T21:36:02.435Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:36:02.839Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742420160487",
  "duration": 2351,
  "matchCount": 5
}
[2025-03-19T21:36:02.860Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742420162860"
}
[2025-03-19T21:36:02.861Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742420162860",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2"
}
[2025-03-19T21:36:02.861Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742420162860"
}
[2025-03-19T21:36:02.861Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742420162861",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-19T21:36:02.861Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742420162861",
  "contextLength": 1923
}
[2025-03-19T21:36:02.861Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742420162861",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:36:04.067Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742420162861",
  "duration": 1206,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-19T21:36:04.068Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742420162860",
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-19T21:36:04.263Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742420162860",
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2"
}
[2025-03-19T21:36:04.263Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742420162860",
  "duration": 1207,
  "answerLength": 34
}
[2025-03-19T21:36:04.558Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742420164558",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-19T21:36:04.558Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:36:04.558Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742420164558",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:36:05.642Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742420164558",
  "duration": 1084,
  "bufferSize": 41280
}
[2025-03-19T21:36:35.646Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:35.656Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:35.659Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:42.669Z] [INFO] [API] Getting server logs 
[2025-03-19T21:38:12.090Z] [INFO] [API] Getting server logs 
[2025-03-19T21:38:12.090Z] [INFO] [API] Getting server logs 
[2025-03-19T21:38:12.095Z] [INFO] [API] Getting server logs 
[2025-03-19T21:52:39.946Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421159946"
}
[2025-03-19T21:52:39.962Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421159946",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T21:52:39.962Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421159946"
}
[2025-03-19T21:52:39.963Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421159946",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T21:52:39.964Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421159946",
  "conversationId": "conv-123"
}
[2025-03-19T21:52:39.966Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421159946",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T21:52:40.360Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421160360",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:40.393Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:40.396Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421160360",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:40.398Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421160360",
  "duration": 2,
  "dimensions": 5
}
[2025-03-19T21:52:40.403Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421160403",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:40.405Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421160403",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:40.407Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421160403",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:40.418Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421160418",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:40.419Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421160418",
  "contextLength": 26
}
[2025-03-19T21:52:40.420Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421160418",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:40.421Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421160418",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:40.422Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421160422",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:40.422Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421160422",
  "contextLength": 26
}
[2025-03-19T21:52:40.423Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421160422",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:40.425Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421160422",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:40.427Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421160427",
  "bufferSize": 15
}
[2025-03-19T21:52:40.429Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421160427",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421160429.webm"
}
[2025-03-19T21:52:40.430Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421160427",
  "model": "whisper-1"
}
[2025-03-19T21:52:40.432Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421160427",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421160429.webm"
}
[2025-03-19T21:52:40.434Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421160427",
  "duration": 2,
  "transcriptLength": 28
}
[2025-03-19T21:52:40.436Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421160436",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:40.437Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421160436",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:40.438Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421160436",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:40.440Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421160440",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:40.441Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421160440",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:40.442Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421160440",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:40.585Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:52:40.601Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421160601",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T21:52:40.604Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421160601"
}
[2025-03-19T21:52:40.605Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421160601",
  "embeddingSize": 3
}
[2025-03-19T21:52:40.605Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421160601",
  "topK": 3
}
[2025-03-19T21:52:40.605Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421160601",
  "matchCount": 2,
  "operationTime": 4
}
[2025-03-19T21:52:40.608Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421160601",
  "conversationId": "conv-123"
}
[2025-03-19T21:52:41.750Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421160601",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T21:52:41.753Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421160601",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T21:52:41.753Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421160601",
  "operationTime": 4,
  "matchCount": 2
}
[2025-03-19T21:52:42.187Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421162187",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:42.193Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:42.195Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421162187",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:42.195Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421162187",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:52:42.197Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421162197",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:42.197Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421162197",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:42.198Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421162197",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:42.213Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421162213",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:42.218Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421162213",
  "contextLength": 26
}
[2025-03-19T21:52:42.221Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421162213",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:42.227Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421162213",
  "duration": 6,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:42.237Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421162237",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:42.245Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421162237",
  "contextLength": 26
}
[2025-03-19T21:52:42.253Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421162237",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:42.275Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421162237",
  "duration": 22,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:42.306Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421162306",
  "bufferSize": 15
}
[2025-03-19T21:52:42.316Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421162306",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421162316.webm"
}
[2025-03-19T21:52:42.320Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421162306",
  "model": "whisper-1"
}
[2025-03-19T21:52:42.325Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421162306",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421162316.webm"
}
[2025-03-19T21:52:42.326Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421162306",
  "duration": 5,
  "transcriptLength": 28
}
[2025-03-19T21:52:42.330Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421162330",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:42.332Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421162330",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:42.334Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421162330",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-19T21:52:42.338Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421162338",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:42.338Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421162338",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:42.339Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421162338",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:43.505Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421163505",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:43.512Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:43.514Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421163505",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:43.515Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421163505",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:52:43.518Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421163518",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:43.520Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421163518",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:43.521Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421163518",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:43.530Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421163530",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:43.531Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421163530",
  "contextLength": 26
}
[2025-03-19T21:52:43.532Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421163530",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:43.534Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421163530",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:43.536Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421163536",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:43.538Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421163536",
  "contextLength": 26
}
[2025-03-19T21:52:43.539Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421163536",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:43.539Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421163536",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:43.540Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421163540",
  "bufferSize": 15
}
[2025-03-19T21:52:43.541Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421163540",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421163541.webm"
}
[2025-03-19T21:52:43.541Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421163540",
  "model": "whisper-1"
}
[2025-03-19T21:52:43.542Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421163540",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421163541.webm"
}
[2025-03-19T21:52:43.542Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421163540",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:52:43.543Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421163543",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:43.544Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421163543",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:43.545Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421163543",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:43.546Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421163546",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:43.547Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421163546",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:43.548Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421163546",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:44.820Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421164820",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:44.825Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:44.826Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421164820",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:44.826Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421164820",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:52:44.827Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421164827",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:44.828Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421164827",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:44.828Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421164827",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:44.832Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421164832",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:44.832Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421164832",
  "contextLength": 26
}
[2025-03-19T21:52:44.833Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421164832",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:44.833Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421164832",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:44.833Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421164833",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:44.834Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421164833",
  "contextLength": 26
}
[2025-03-19T21:52:44.834Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421164833",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:44.834Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421164833",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:44.835Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421164835",
  "bufferSize": 15
}
[2025-03-19T21:52:44.835Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421164835",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421164835.webm"
}
[2025-03-19T21:52:44.836Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421164835",
  "model": "whisper-1"
}
[2025-03-19T21:52:44.837Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421164835",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421164835.webm"
}
[2025-03-19T21:52:44.838Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421164835",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:52:44.839Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421164839",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:44.841Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421164839",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:44.842Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421164839",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:44.846Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421164846",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:44.847Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421164846",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:44.847Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421164846",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:27.663Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421267663"
}
[2025-03-19T21:54:27.692Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421267663",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T21:54:27.694Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421267663"
}
[2025-03-19T21:54:27.694Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421267663",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T21:54:27.695Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421267663",
  "conversationId": "conv-123"
}
[2025-03-19T21:54:27.695Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421267663",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T21:54:28.410Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421268410",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:28.418Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:28.419Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421268410",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:28.419Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421268410",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:28.422Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421268422",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:28.424Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421268422",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:28.426Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421268422",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:28.432Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421268432",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:28.433Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421268432",
  "contextLength": 26
}
[2025-03-19T21:54:28.435Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421268432",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:28.436Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421268432",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:28.441Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421268441",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:28.442Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421268441",
  "contextLength": 26
}
[2025-03-19T21:54:28.443Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421268441",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:28.445Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421268441",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:28.446Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421268446",
  "bufferSize": 15
}
[2025-03-19T21:54:28.447Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421268446",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421268447.webm"
}
[2025-03-19T21:54:28.449Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421268446",
  "model": "whisper-1"
}
[2025-03-19T21:54:28.450Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421268446",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421268447.webm"
}
[2025-03-19T21:54:28.451Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421268446",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:54:28.464Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421268464",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:28.464Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421268464",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:28.475Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421268464",
  "duration": 11,
  "bufferSize": 10
}
[2025-03-19T21:54:28.477Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421268477",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:28.478Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421268477",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:28.483Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421268477",
  "duration": 5,
  "bufferSize": 10
}
[2025-03-19T21:54:28.571Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:54:28.592Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421268592",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T21:54:28.593Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421268592"
}
[2025-03-19T21:54:28.594Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421268592",
  "embeddingSize": 3
}
[2025-03-19T21:54:28.595Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421268592",
  "topK": 3
}
[2025-03-19T21:54:28.595Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421268592",
  "matchCount": 2,
  "operationTime": 3
}
[2025-03-19T21:54:28.596Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421268592",
  "conversationId": "conv-123"
}
[2025-03-19T21:54:29.385Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421268592",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T21:54:29.390Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421268592",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T21:54:29.391Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421268592",
  "operationTime": 3,
  "matchCount": 2
}
[2025-03-19T21:54:30.216Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421270216",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:30.220Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:30.221Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421270216",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:30.221Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421270216",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:30.222Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421270222",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:30.223Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421270222",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:30.224Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421270222",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:30.229Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421270229",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:30.230Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421270229",
  "contextLength": 26
}
[2025-03-19T21:54:30.230Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421270229",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:30.231Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421270229",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:30.231Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421270231",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:30.232Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421270231",
  "contextLength": 26
}
[2025-03-19T21:54:30.232Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421270231",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:30.232Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421270231",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:30.233Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421270233",
  "bufferSize": 15
}
[2025-03-19T21:54:30.233Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421270233",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421270233.webm"
}
[2025-03-19T21:54:30.234Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421270233",
  "model": "whisper-1"
}
[2025-03-19T21:54:30.234Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421270233",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421270233.webm"
}
[2025-03-19T21:54:30.234Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421270233",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T21:54:30.235Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421270235",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:30.235Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421270235",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:30.235Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421270235",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:30.236Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421270236",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:30.236Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421270236",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:30.236Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421270236",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:31.343Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421271343",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:31.348Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:31.349Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421271343",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:31.349Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421271343",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:31.351Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421271351",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:31.351Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421271351",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:31.352Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421271351",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:31.354Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421271354",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:31.355Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421271354",
  "contextLength": 26
}
[2025-03-19T21:54:31.355Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421271354",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:31.356Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421271354",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:31.356Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421271356",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:31.356Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421271356",
  "contextLength": 26
}
[2025-03-19T21:54:31.356Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421271356",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:31.357Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421271356",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:31.357Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421271357",
  "bufferSize": 15
}
[2025-03-19T21:54:31.358Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421271357",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421271358.webm"
}
[2025-03-19T21:54:31.358Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421271357",
  "model": "whisper-1"
}
[2025-03-19T21:54:31.359Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421271357",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421271358.webm"
}
[2025-03-19T21:54:31.359Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421271357",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:54:31.359Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421271359",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:31.359Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421271359",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:31.360Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421271359",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:54:31.361Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421271361",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:31.362Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421271361",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:31.362Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421271361",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:32.399Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421272399",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:32.406Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:32.407Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421272399",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:32.407Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421272399",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:32.409Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421272409",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:32.409Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421272409",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:32.410Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421272409",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:32.415Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421272415",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:32.420Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421272415",
  "contextLength": 26
}
[2025-03-19T21:54:32.421Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421272415",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:32.422Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421272415",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:32.422Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421272422",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:32.423Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421272422",
  "contextLength": 26
}
[2025-03-19T21:54:32.423Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421272422",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:32.424Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421272422",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:32.425Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421272425",
  "bufferSize": 15
}
[2025-03-19T21:54:32.426Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421272425",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421272426.webm"
}
[2025-03-19T21:54:32.427Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421272425",
  "model": "whisper-1"
}
[2025-03-19T21:54:32.429Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421272425",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421272426.webm"
}
[2025-03-19T21:54:32.430Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421272425",
  "duration": 2,
  "transcriptLength": 28
}
[2025-03-19T21:54:32.431Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421272431",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:32.431Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421272431",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:32.432Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421272431",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:54:32.432Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421272432",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:32.433Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421272432",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:32.433Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421272432",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:07.307Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421367306",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:07.350Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:07.351Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421367306",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:07.351Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421367306",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:56:07.353Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421367352",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:07.353Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421367352",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:07.354Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421367352",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:07.418Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421367418",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:07.421Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421367418",
  "contextLength": 26
}
[2025-03-19T21:56:07.441Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421367418",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:07.453Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421367418",
  "duration": 12,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:07.473Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421367473",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:07.480Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421367473",
  "contextLength": 26
}
[2025-03-19T21:56:07.481Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421367473",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:07.482Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421367473",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:07.483Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421367483",
  "bufferSize": 15
}
[2025-03-19T21:56:07.484Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421367483",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421367484.webm"
}
[2025-03-19T21:56:07.485Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421367483",
  "model": "whisper-1"
}
[2025-03-19T21:56:07.487Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421367483",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421367484.webm"
}
[2025-03-19T21:56:07.487Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421367483",
  "duration": 2,
  "transcriptLength": 28
}
[2025-03-19T21:56:07.489Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421367489",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:07.490Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421367489",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:07.492Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421367489",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-19T21:56:07.493Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421367493",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:07.493Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421367493",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:07.493Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421367493",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:07.662Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421367662"
}
[2025-03-19T21:56:07.670Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421367662",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T21:56:07.673Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421367662"
}
[2025-03-19T21:56:07.681Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421367662",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T21:56:07.682Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421367662",
  "conversationId": "conv-123"
}
[2025-03-19T21:56:07.684Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421367662",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T21:56:07.933Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:56:07.946Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421367946",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T21:56:07.947Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421367946"
}
[2025-03-19T21:56:07.949Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421367946",
  "embeddingSize": 3
}
[2025-03-19T21:56:07.949Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421367946",
  "topK": 3
}
[2025-03-19T21:56:07.950Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421367946",
  "matchCount": 2,
  "operationTime": 4
}
[2025-03-19T21:56:07.950Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421367946",
  "conversationId": "conv-123"
}
[2025-03-19T21:56:08.738Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421367946",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T21:56:08.743Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421367946",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T21:56:08.745Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421367946",
  "operationTime": 4,
  "matchCount": 2
}
[2025-03-19T21:56:09.648Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421369648",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:09.652Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:09.653Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421369648",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:09.654Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421369648",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:56:09.655Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421369655",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:09.655Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421369655",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:09.656Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421369655",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:09.659Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421369659",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:09.659Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421369659",
  "contextLength": 26
}
[2025-03-19T21:56:09.659Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421369659",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:09.660Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421369659",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:09.660Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421369660",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:09.660Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421369660",
  "contextLength": 26
}
[2025-03-19T21:56:09.661Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421369660",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:09.661Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421369660",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:09.661Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421369661",
  "bufferSize": 15
}
[2025-03-19T21:56:09.662Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421369661",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421369662.webm"
}
[2025-03-19T21:56:09.662Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421369661",
  "model": "whisper-1"
}
[2025-03-19T21:56:09.663Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421369661",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421369662.webm"
}
[2025-03-19T21:56:09.663Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421369661",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:56:09.664Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421369664",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:09.664Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421369664",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:09.665Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421369664",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:56:09.665Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421369665",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:09.665Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421369665",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:09.666Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421369665",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:56:10.712Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421370712",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:10.720Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:10.721Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421370712",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:10.722Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421370712",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:56:10.723Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421370723",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:10.724Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421370723",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:10.724Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421370723",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:10.733Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421370733",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:10.733Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421370733",
  "contextLength": 26
}
[2025-03-19T21:56:10.734Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421370733",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:10.734Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421370733",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:10.735Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421370735",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:10.736Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421370735",
  "contextLength": 26
}
[2025-03-19T21:56:10.737Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421370735",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:10.738Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421370735",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:10.738Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421370738",
  "bufferSize": 15
}
[2025-03-19T21:56:10.739Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421370738",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421370739.webm"
}
[2025-03-19T21:56:10.740Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421370738",
  "model": "whisper-1"
}
[2025-03-19T21:56:10.741Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421370738",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421370739.webm"
}
[2025-03-19T21:56:10.742Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421370738",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:56:10.743Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421370743",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:10.744Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421370743",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:10.744Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421370743",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:10.746Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421370746",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:10.747Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421370746",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:10.747Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421370746",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:11.861Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421371861",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:11.867Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:11.868Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421371861",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:11.869Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421371861",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:56:11.870Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421371870",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:11.871Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421371870",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:11.873Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421371870",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:11.879Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421371879",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:11.881Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421371879",
  "contextLength": 26
}
[2025-03-19T21:56:11.882Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421371879",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:11.883Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421371879",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:11.884Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421371884",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:11.884Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421371884",
  "contextLength": 26
}
[2025-03-19T21:56:11.884Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421371884",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:11.885Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421371884",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:11.886Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421371886",
  "bufferSize": 15
}
[2025-03-19T21:56:11.890Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421371886",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421371890.webm"
}
[2025-03-19T21:56:11.891Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421371886",
  "model": "whisper-1"
}
[2025-03-19T21:56:11.891Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421371886",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421371890.webm"
}
[2025-03-19T21:56:11.892Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421371886",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T21:56:11.894Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421371894",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:11.895Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421371894",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:11.896Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421371894",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:56:11.897Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421371897",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:11.898Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421371897",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:11.899Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421371897",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:25.192Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421625192",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:25.205Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:25.206Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421625192",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:25.207Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421625192",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T22:00:25.241Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421625241",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:25.273Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421625241",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:25.274Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421625241",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:25.281Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421625281",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:25.282Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421625281",
  "contextLength": 26
}
[2025-03-19T22:00:25.282Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421625281",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:25.283Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421625281",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:25.283Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421625283",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:25.284Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421625283",
  "contextLength": 26
}
[2025-03-19T22:00:25.284Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421625283",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:25.285Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421625283",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:25.296Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421625296",
  "bufferSize": 15
}
[2025-03-19T22:00:25.329Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421625296",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421625329.webm"
}
[2025-03-19T22:00:25.335Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421625296",
  "model": "whisper-1"
}
[2025-03-19T22:00:25.336Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421625296",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421625329.webm"
}
[2025-03-19T22:00:25.336Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421625296",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:00:25.337Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421625337",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:25.337Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421625337",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:25.337Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421625337",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:25.338Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421625338",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:25.338Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421625338",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:25.339Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421625338",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:26.151Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421626151"
}
[2025-03-19T22:00:26.180Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421626151",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.180Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421626151"
}
[2025-03-19T22:00:26.181Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421626151",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T22:00:26.181Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421626151",
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.165Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:00:26.183Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421626151",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T22:00:26.190Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421626190",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.190Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421626190"
}
[2025-03-19T22:00:26.191Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421626190",
  "embeddingSize": 3
}
[2025-03-19T22:00:26.191Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421626190",
  "topK": 3
}
[2025-03-19T22:00:26.191Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421626190",
  "matchCount": 2,
  "operationTime": 1
}
[2025-03-19T22:00:26.191Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421626190",
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.907Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421626190",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T22:00:26.912Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421626190",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T22:00:26.913Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421626190",
  "operationTime": 1,
  "matchCount": 2
}
[2025-03-19T22:00:27.544Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421627544",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:27.549Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:27.550Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421627544",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:27.550Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421627544",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:00:27.551Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421627551",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:27.552Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421627551",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:27.552Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421627551",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:27.556Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421627555",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:27.556Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421627555",
  "contextLength": 26
}
[2025-03-19T22:00:27.556Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421627555",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:27.557Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421627555",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:27.557Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421627557",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:27.557Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421627557",
  "contextLength": 26
}
[2025-03-19T22:00:27.558Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421627557",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:27.560Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421627557",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:27.561Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421627561",
  "bufferSize": 15
}
[2025-03-19T22:00:27.561Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421627561",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421627561.webm"
}
[2025-03-19T22:00:27.561Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421627561",
  "model": "whisper-1"
}
[2025-03-19T22:00:27.562Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421627561",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421627561.webm"
}
[2025-03-19T22:00:27.562Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421627561",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:00:27.563Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421627563",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:27.563Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421627563",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:27.563Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421627563",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:27.563Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421627563",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:27.564Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421627563",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:27.564Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421627563",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:28.633Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421628633",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:28.637Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:28.638Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421628633",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:28.638Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421628633",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:00:28.640Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421628640",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:28.641Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421628640",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:28.641Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421628640",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:28.644Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421628644",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:28.644Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421628644",
  "contextLength": 26
}
[2025-03-19T22:00:28.644Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421628644",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:28.645Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421628644",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:28.645Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421628645",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:28.645Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421628645",
  "contextLength": 26
}
[2025-03-19T22:00:28.646Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421628645",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:28.646Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421628645",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:28.646Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421628646",
  "bufferSize": 15
}
[2025-03-19T22:00:28.646Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421628646",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421628646.webm"
}
[2025-03-19T22:00:28.647Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421628646",
  "model": "whisper-1"
}
[2025-03-19T22:00:28.647Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421628646",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421628646.webm"
}
[2025-03-19T22:00:28.647Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421628646",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T22:00:28.648Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421628648",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:28.648Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421628648",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:28.649Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421628648",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:28.650Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421628650",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:28.650Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421628650",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:28.651Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421628650",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:29.744Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421629743",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:29.747Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:29.748Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421629743",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:29.749Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421629743",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T22:00:29.750Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421629750",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:29.750Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421629750",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:29.751Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421629750",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:29.753Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421629753",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:29.754Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421629753",
  "contextLength": 26
}
[2025-03-19T22:00:29.754Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421629753",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:29.755Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421629753",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:29.755Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421629755",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:29.755Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421629755",
  "contextLength": 26
}
[2025-03-19T22:00:29.756Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421629755",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:29.756Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421629755",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:29.756Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421629756",
  "bufferSize": 15
}
[2025-03-19T22:00:29.757Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421629756",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421629757.webm"
}
[2025-03-19T22:00:29.757Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421629756",
  "model": "whisper-1"
}
[2025-03-19T22:00:29.758Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421629756",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421629757.webm"
}
[2025-03-19T22:00:29.758Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421629756",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:00:29.759Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421629759",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:29.760Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421629759",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:29.760Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421629759",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:29.761Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421629761",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:29.761Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421629761",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:29.761Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421629761",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:07:31.747Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:07:31.756Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-19T22:07:31.757Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1"
}
[2025-03-19T22:07:31.757Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-19T22:07:31.757Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-19T22:07:31.758Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-19T22:07:31.759Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-19T22:07:31.759Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-19T22:14:16.444Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:14:16.494Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-19T22:14:16.495Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1"
}
[2025-03-19T22:14:16.496Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-19T22:14:16.497Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-19T22:14:16.498Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-19T22:14:16.503Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-19T22:14:16.504Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-19T22:14:16.585Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742422456585"
}
[2025-03-19T22:14:16.622Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742422456585",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T22:14:16.623Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742422456585"
}
[2025-03-19T22:14:16.624Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742422456585",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T22:14:16.626Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742422456585",
  "conversationId": "conv-123"
}
[2025-03-19T22:14:16.628Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742422456585",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T22:14:16.668Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422456668",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:16.693Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:16.694Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422456668",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:16.695Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422456668",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T22:14:16.697Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422456697",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:16.701Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422456697",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:16.702Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422456697",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:16.706Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422456706",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:16.707Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422456706",
  "contextLength": 26
}
[2025-03-19T22:14:16.708Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422456706",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:16.709Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422456706",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:16.711Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422456711",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:16.713Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422456711",
  "contextLength": 26
}
[2025-03-19T22:14:16.715Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422456711",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:16.716Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422456711",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:16.718Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422456717",
  "bufferSize": 15
}
[2025-03-19T22:14:16.724Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422456717",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422456724.webm"
}
[2025-03-19T22:14:16.725Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422456717",
  "model": "whisper-1"
}
[2025-03-19T22:14:16.726Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422456717",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422456724.webm"
}
[2025-03-19T22:14:16.727Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422456717",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:14:16.727Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422456727",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:16.728Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422456727",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:16.730Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422456727",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-19T22:14:16.732Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422456732",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:16.733Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422456732",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:16.734Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422456732",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:14:16.867Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:14:16.880Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742422456880",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T22:14:16.881Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742422456880"
}
[2025-03-19T22:14:16.884Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742422456880",
  "embeddingSize": 3
}
[2025-03-19T22:14:16.885Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742422456880",
  "topK": 3
}
[2025-03-19T22:14:16.889Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742422456880",
  "matchCount": 2,
  "operationTime": 9
}
[2025-03-19T22:14:16.891Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742422456880",
  "conversationId": "conv-123"
}
[2025-03-19T22:14:17.548Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742422456880",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T22:14:17.552Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742422456880",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T22:14:17.553Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742422456880",
  "operationTime": 9,
  "matchCount": 2
}
[2025-03-19T22:14:18.228Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422458228",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:18.233Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:18.234Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422458228",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:18.234Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422458228",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:14:18.236Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422458236",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:18.236Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422458236",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:18.237Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422458236",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:18.240Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422458240",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:18.240Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422458240",
  "contextLength": 26
}
[2025-03-19T22:14:18.241Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422458240",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:18.241Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422458240",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:18.242Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422458242",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:18.242Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422458242",
  "contextLength": 26
}
[2025-03-19T22:14:18.242Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422458242",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:18.243Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422458242",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:18.243Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422458243",
  "bufferSize": 15
}
[2025-03-19T22:14:18.243Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422458243",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422458243.webm"
}
[2025-03-19T22:14:18.244Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422458243",
  "model": "whisper-1"
}
[2025-03-19T22:14:18.244Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422458243",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422458243.webm"
}
[2025-03-19T22:14:18.244Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422458243",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T22:14:18.245Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422458245",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:18.245Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422458245",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:18.245Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422458245",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:14:18.246Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422458246",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:18.246Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422458246",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:18.246Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422458246",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:14:19.326Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422459326",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:19.332Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:19.333Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422459326",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:19.333Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422459326",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:14:19.335Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422459335",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:19.335Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422459335",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:19.336Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422459335",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:19.339Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422459339",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:19.339Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422459339",
  "contextLength": 26
}
[2025-03-19T22:14:19.340Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422459339",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:19.340Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422459339",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:19.340Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422459340",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:19.340Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422459340",
  "contextLength": 26
}
[2025-03-19T22:14:19.341Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422459340",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:19.341Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422459340",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:19.341Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422459341",
  "bufferSize": 15
}
[2025-03-19T22:14:19.342Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422459341",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422459342.webm"
}
[2025-03-19T22:14:19.342Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422459341",
  "model": "whisper-1"
}
[2025-03-19T22:14:19.342Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422459341",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422459342.webm"
}
[2025-03-19T22:14:19.343Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422459341",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T22:14:19.343Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422459343",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:19.343Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422459343",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:19.344Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422459343",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:14:19.344Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422459344",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:19.344Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422459344",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:19.345Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422459344",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:14:20.398Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422460398",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:20.406Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:20.407Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422460398",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:20.407Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422460398",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:14:20.409Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422460409",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:20.410Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422460409",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:20.411Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422460409",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:20.421Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422460421",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:20.422Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422460421",
  "contextLength": 26
}
[2025-03-19T22:14:20.424Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422460421",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:20.425Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422460421",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:20.427Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422460427",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:20.427Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422460427",
  "contextLength": 26
}
[2025-03-19T22:14:20.433Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422460427",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:20.434Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422460427",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:20.435Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422460435",
  "bufferSize": 15
}
[2025-03-19T22:14:20.435Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422460435",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422460435.webm"
}
[2025-03-19T22:14:20.437Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422460435",
  "model": "whisper-1"
}
[2025-03-19T22:14:20.438Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422460435",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422460435.webm"
}
[2025-03-19T22:14:20.438Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422460435",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:14:20.439Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422460439",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:20.439Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422460439",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:20.439Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422460439",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:14:20.440Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422460440",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:20.440Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422460440",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:20.441Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422460440",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:31:15.588Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:31:15.599Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742423475599",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T22:31:15.600Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742423475599"
}
[2025-03-19T22:31:15.600Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742423475599",
  "embeddingSize": 3
}
[2025-03-19T22:31:15.600Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742423475599",
  "topK": 3
}
[2025-03-19T22:31:15.601Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742423475599",
  "matchCount": 2,
  "operationTime": 2
}
[2025-03-19T22:31:15.601Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742423475599",
  "conversationId": "conv-123"
}
[2025-03-19T22:31:16.381Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742423475599",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T22:31:16.386Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742423475599",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T22:31:16.387Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742423475599",
  "operationTime": 2,
  "matchCount": 2
}
[2025-03-20T14:21:10.618Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:21:10.619Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:21:10.929Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:21:30.670Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742480490670"
}
[2025-03-20T14:21:30.670Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742480490670",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:21:30.670Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742480490670"
}
[2025-03-20T14:21:30.670Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742480490670",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:21:30.670Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:21:30.671Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742480490670",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:21:31.825Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742480490670",
  "duration": 1154,
  "dimensions": 1536
}
[2025-03-20T14:21:31.825Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:21:31.827Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:21:31.866Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742480490670",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T14:21:34.989Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742480494989"
}
[2025-03-20T14:21:34.990Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742480494989",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46,
  "conversationId": "none"
}
[2025-03-20T14:21:34.990Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742480494989"
}
[2025-03-20T14:21:34.990Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742480494990",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46
}
[2025-03-20T14:21:34.990Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:21:34.990Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742480494990",
  "contextLength": 46
}
[2025-03-20T14:21:34.990Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742480494990",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T14:21:36.415Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742480494990",
  "duration": 1425,
  "promptTokens": 38,
  "completionTokens": 18,
  "totalTokens": 56,
  "responseLength": 74
}
[2025-03-20T14:21:36.415Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742480494989",
  "duration": 1425,
  "answerLength": 74
}
[2025-03-20T14:21:39.722Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742480499722"
}
[2025-03-20T14:21:39.723Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742480499722",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:21:39.723Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742480499722"
}
[2025-03-20T14:21:39.723Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742480499723",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:21:39.723Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742480499723",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:21:40.713Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742480499723",
  "duration": 990,
  "dimensions": 1536
}
[2025-03-20T14:21:40.714Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:21:40.715Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:21:40.764Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742480499722",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T14:57:33.745Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:57:33.746Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:57:34.185Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:57:43.203Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742482663203"
}
[2025-03-20T14:57:43.203Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742482663203",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:57:43.203Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742482663203"
}
[2025-03-20T14:57:43.204Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742482663204",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:57:43.204Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:57:43.204Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742482663204",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:57:44.393Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742482663204",
  "duration": 1189,
  "dimensions": 1536
}
[2025-03-20T14:57:44.394Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:57:44.396Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:57:44.458Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742482663203",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T14:57:48.492Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742482668492"
}
[2025-03-20T14:57:48.492Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742482668492",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46,
  "conversationId": "none"
}
[2025-03-20T14:57:48.492Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742482668492"
}
[2025-03-20T14:57:48.492Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742482668492",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46
}
[2025-03-20T14:57:48.493Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:57:48.493Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742482668492",
  "contextLength": 46
}
[2025-03-20T14:57:48.493Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742482668492",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T14:57:49.310Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742482668492",
  "duration": 817,
  "promptTokens": 38,
  "completionTokens": 19,
  "totalTokens": 57,
  "responseLength": 85
}
[2025-03-20T14:57:49.311Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742482668492",
  "duration": 819,
  "answerLength": 85
}
[2025-03-20T14:57:51.099Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742482671099"
}
[2025-03-20T14:57:51.100Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742482671099",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:57:51.100Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742482671099"
}
[2025-03-20T14:57:51.101Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742482671101",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:57:51.101Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742482671101",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:57:51.973Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742482671101",
  "duration": 872,
  "dimensions": 1536
}
[2025-03-20T14:57:51.974Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:57:51.974Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:57:52.022Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742482671099",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T15:25:54.327Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484354327"
}
[2025-03-20T15:25:54.328Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484354327",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:25:54.328Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484354328",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-20T15:25:54.328Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:25:54.328Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484354328",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:25:55.006Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484354328",
  "duration": 678,
  "dimensions": 1536
}
[2025-03-20T15:25:55.006Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:25:55.007Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:25:56.201Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484354327",
  "duration": 1873,
  "matchCount": 5
}
[2025-03-20T15:25:56.447Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484356447"
}
[2025-03-20T15:25:56.447Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484356447",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:25:56.447Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484356447"
}
[2025-03-20T15:25:56.447Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484356447",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-20T15:25:56.447Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:25:56.447Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484356447",
  "contextLength": 1923
}
[2025-03-20T15:25:56.447Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484356447",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:25:58.085Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484356447",
  "duration": 1638,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-20T15:25:58.085Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742484356447",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-20T15:25:58.265Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742484356447",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:25:58.265Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484356447",
  "duration": 1638,
  "answerLength": 34
}
[2025-03-20T15:25:58.411Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742484358411",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-20T15:25:58.412Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:25:58.412Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742484358411",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:25:59.579Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742484358411",
  "duration": 1167,
  "bufferSize": 41280
}
[2025-03-20T15:26:28.542Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484388542"
}
[2025-03-20T15:26:28.543Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484388542",
  "query": "my name is connor",
  "topK": 5,
  "source": "chat",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:26:28.543Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484388543",
  "textLength": 17,
  "textPreview": "my name is connor"
}
[2025-03-20T15:26:28.543Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:26:28.543Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484388543",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:26:29.440Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484388543",
  "duration": 897,
  "dimensions": 1536
}
[2025-03-20T15:26:29.442Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:26:29.443Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:26:29.788Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484388542",
  "duration": 1244,
  "matchCount": 5
}
[2025-03-20T15:26:29.798Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484389797"
}
[2025-03-20T15:26:29.798Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484389797",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432,
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:26:29.799Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484389797"
}
[2025-03-20T15:26:29.799Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484389799",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432
}
[2025-03-20T15:26:29.799Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484389799",
  "contextLength": 2432
}
[2025-03-20T15:26:29.799Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484389799",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:26:30.275Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484389799",
  "duration": 476,
  "promptTokens": 552,
  "completionTokens": 11,
  "totalTokens": 563,
  "responseLength": 41
}
[2025-03-20T15:26:30.275Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742484389797",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda",
  "userMessageLength": 2521,
  "assistantMessageLength": 41
}
[2025-03-20T15:26:30.484Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742484389797",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:26:30.484Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484389797",
  "duration": 476,
  "answerLength": 41
}
[2025-03-20T15:26:33.507Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T15:26:33.508Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T15:26:33.747Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T15:26:43.229Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484403229"
}
[2025-03-20T15:26:43.230Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484403229",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "none"
}
[2025-03-20T15:26:43.230Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484403230",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-20T15:26:43.230Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:26:43.231Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484403230",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:26:44.794Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484403230",
  "duration": 1563,
  "dimensions": 1536
}
[2025-03-20T15:26:44.795Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:26:44.797Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:26:45.167Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484403229",
  "duration": 1937,
  "matchCount": 5
}
[2025-03-20T15:26:45.184Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484405184"
}
[2025-03-20T15:26:45.184Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484405184",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1935,
  "conversationId": "none"
}
[2025-03-20T15:26:45.184Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484405184"
}
[2025-03-20T15:26:45.184Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484405184",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1935
}
[2025-03-20T15:26:45.185Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484405184",
  "contextLength": 1935
}
[2025-03-20T15:26:45.185Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484405184",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:26:46.430Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484405184",
  "duration": 1245,
  "promptTokens": 471,
  "completionTokens": 36,
  "totalTokens": 507,
  "responseLength": 174
}
[2025-03-20T15:26:46.431Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484405184",
  "duration": 1247,
  "answerLength": 174
}
[2025-03-20T15:26:57.560Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484417560"
}
[2025-03-20T15:26:57.561Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484417560",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 28,
  "conversationId": "none"
}
[2025-03-20T15:26:57.562Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484417560"
}
[2025-03-20T15:26:57.562Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484417562",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 28
}
[2025-03-20T15:26:57.562Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484417562",
  "contextLength": 28
}
[2025-03-20T15:26:57.562Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484417562",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:26:58.718Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484417562",
  "duration": 1156,
  "promptTokens": 33,
  "completionTokens": 22,
  "totalTokens": 55,
  "responseLength": 98
}
[2025-03-20T15:26:58.719Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484417560",
  "duration": 1157,
  "answerLength": 98
}
[2025-03-20T15:27:00.846Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484420846"
}
[2025-03-20T15:27:00.847Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484420846",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "none"
}
[2025-03-20T15:27:00.847Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484420847",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-20T15:27:00.848Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484420847",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:27:01.077Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484420847",
  "duration": 229,
  "dimensions": 1536
}
[2025-03-20T15:27:01.078Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:27:01.415Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484420846",
  "duration": 568,
  "matchCount": 5
}
[2025-03-20T15:27:26.759Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484446759"
}
[2025-03-20T15:27:26.760Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484446759",
  "query": "hey do you know my name",
  "topK": 5,
  "source": "chat",
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6"
}
[2025-03-20T15:27:26.760Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484446760",
  "textLength": 23,
  "textPreview": "hey do you know my name"
}
[2025-03-20T15:27:26.761Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:27:26.762Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484446760",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:27:27.088Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484446760",
  "duration": 326,
  "dimensions": 1536
}
[2025-03-20T15:27:27.089Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:27:27.091Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:27:27.597Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484446759",
  "duration": 837,
  "matchCount": 5
}
[2025-03-20T15:27:27.613Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484447613"
}
[2025-03-20T15:27:27.614Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484447613",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2400,
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6"
}
[2025-03-20T15:27:27.614Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484447613"
}
[2025-03-20T15:27:27.615Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484447615",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2400
}
[2025-03-20T15:27:27.615Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484447615",
  "contextLength": 2400
}
[2025-03-20T15:27:27.616Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484447615",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:27:28.254Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484447615",
  "duration": 638,
  "promptTokens": 614,
  "completionTokens": 16,
  "totalTokens": 630,
  "responseLength": 57
}
[2025-03-20T15:27:28.255Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742484447613",
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6",
  "userMessageLength": 2489,
  "assistantMessageLength": 57
}
[2025-03-20T15:27:28.409Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742484447613",
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6"
}
[2025-03-20T15:27:28.410Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484447613",
  "duration": 640,
  "answerLength": 57
}
[2025-03-20T15:27:28.681Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742484448681",
  "textLength": 57,
  "voice": "alloy"
}
[2025-03-20T15:27:28.681Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:27:28.681Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742484448681",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:27:30.881Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742484448681",
  "duration": 2200,
  "bufferSize": 67680
}
[2025-03-20T15:43:44.072Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:43:44.095Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-20T15:43:44.097Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1",
  "userId": "user1"
}
[2025-03-20T15:43:44.100Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-20T15:43:44.100Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-20T15:43:44.101Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-20T15:43:44.104Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-20T15:43:44.105Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-20T15:43:44.115Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.118Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 10,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.119Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:43:44.121Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user1",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.425Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:43:44.443Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.448Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user-123",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.454Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:43:44.461Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485424461",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-20T15:43:44.462Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485424461"
}
[2025-03-20T15:43:44.463Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485424461",
  "topK": 3
}
[2025-03-20T15:43:44.468Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485424461",
  "matchCount": 2,
  "operationTime": 6
}
[2025-03-20T15:43:44.469Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485424461",
  "conversationId": "conv-123"
}
[2025-03-20T15:43:44.669Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485424669",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:44.678Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:44.679Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485424669",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:44.680Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485424669",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:43:44.683Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485424683",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:44.684Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485424683",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:44.685Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485424683",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:44.690Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485424690",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:44.691Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485424690",
  "contextLength": 26
}
[2025-03-20T15:43:44.694Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485424690",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:44.695Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485424690",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:44.697Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485424697",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:44.697Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485424697",
  "contextLength": 26
}
[2025-03-20T15:43:44.698Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485424697",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:44.698Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485424697",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:44.699Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485424699",
  "bufferSize": 15
}
[2025-03-20T15:43:44.699Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485424699",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485424699.webm"
}
[2025-03-20T15:43:44.700Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485424699",
  "model": "whisper-1"
}
[2025-03-20T15:43:44.701Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485424699",
  "duration": 1,
  "transcriptionLength": 28
}
[2025-03-20T15:43:44.702Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485424702",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:44.704Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485424702",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:44.707Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485424702",
  "duration": 3,
  "bufferSize": 10
}
[2025-03-20T15:43:44.710Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485424710",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:44.711Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485424710",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:44.711Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485424710",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:45.061Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485425061",
  "textLength": 62,
  "textPreview": "What is machine learning? a36dd6eb-8849-42d2-94cf-..."
}
[2025-03-20T15:43:45.065Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:45.066Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485425061",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:45.163Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742485424461",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:207:40\n\n  204     source: 'user_query',\n  205   }\n  206 });\n→ 207 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-20T15:43:45.167Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485424461",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-20T15:43:45.168Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485424461",
  "operationTime": 6,
  "matchCount": 2
}
[2025-03-20T15:43:45.923Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485425923",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:45.927Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:45.928Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485425923",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:45.928Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485425923",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:43:45.929Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485425929",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:45.930Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485425929",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:45.930Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485425929",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:45.933Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485425933",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:45.934Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485425933",
  "contextLength": 26
}
[2025-03-20T15:43:45.934Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485425933",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:45.936Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485425933",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:45.937Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485425937",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:45.937Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485425937",
  "contextLength": 26
}
[2025-03-20T15:43:45.938Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485425937",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:45.938Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485425937",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:45.939Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485425939",
  "bufferSize": 15
}
[2025-03-20T15:43:45.939Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485425939",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485425939.webm"
}
[2025-03-20T15:43:45.940Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485425939",
  "model": "whisper-1"
}
[2025-03-20T15:43:45.940Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485425939",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:43:45.941Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485425941",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:45.941Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485425941",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:45.941Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485425941",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:45.942Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485425942",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:45.943Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485425942",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:45.945Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485425942",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-20T15:43:46.216Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485425061",
  "duration": 1150,
  "dimensions": 1536
}
[2025-03-20T15:43:46.217Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:43:46.218Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "test",
  "hasAdditionalContext": true
}
[2025-03-20T15:43:47.079Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485427079",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:47.084Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:47.085Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485427079",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:47.086Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485427079",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:43:47.088Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485427088",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:47.088Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485427088",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:47.089Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485427088",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:47.092Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485427092",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:47.093Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485427092",
  "contextLength": 26
}
[2025-03-20T15:43:47.094Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485427092",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:47.094Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485427092",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:47.097Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485427097",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:47.098Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485427097",
  "contextLength": 26
}
[2025-03-20T15:43:47.098Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485427097",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:47.098Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485427097",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:47.099Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485427099",
  "bufferSize": 15
}
[2025-03-20T15:43:47.099Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485427099",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485427099.webm"
}
[2025-03-20T15:43:47.100Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485427099",
  "model": "whisper-1"
}
[2025-03-20T15:43:47.100Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485427099",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:43:47.101Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485427101",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:47.101Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485427101",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:47.101Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485427101",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:47.102Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485427102",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:47.102Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485427102",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:47.102Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485427102",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:48.157Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485428157",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:48.163Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:48.164Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485428157",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:48.164Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485428157",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:43:48.165Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485428165",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:48.166Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485428165",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:48.166Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485428165",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:48.169Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485428169",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:48.170Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485428169",
  "contextLength": 26
}
[2025-03-20T15:43:48.170Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485428169",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:48.170Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485428169",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:48.171Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485428171",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:48.171Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485428171",
  "contextLength": 26
}
[2025-03-20T15:43:48.171Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485428171",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:48.171Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485428171",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:48.172Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485428172",
  "bufferSize": 15
}
[2025-03-20T15:43:48.172Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485428172",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485428172.webm"
}
[2025-03-20T15:43:48.175Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485428172",
  "model": "whisper-1"
}
[2025-03-20T15:43:48.176Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485428172",
  "duration": 1,
  "transcriptionLength": 28
}
[2025-03-20T15:43:48.177Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485428177",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:48.177Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485428177",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:48.177Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485428177",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:48.178Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485428178",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:48.178Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485428178",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:48.178Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485428178",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:54.652Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485674652",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:54.673Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:54.675Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485674652",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:54.675Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485674652",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:47:54.676Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485674676",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:54.677Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485674676",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:54.677Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485674676",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:54.681Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485674681",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:54.682Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485674681",
  "contextLength": 26
}
[2025-03-20T15:47:54.683Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485674681",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:54.683Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485674681",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:54.684Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485674684",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:54.684Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485674684",
  "contextLength": 26
}
[2025-03-20T15:47:54.684Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485674684",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:54.684Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485674684",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:54.685Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485674685",
  "bufferSize": 15
}
[2025-03-20T15:47:54.685Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485674685",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485674685.webm"
}
[2025-03-20T15:47:54.686Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485674685",
  "model": "whisper-1"
}
[2025-03-20T15:47:54.686Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485674685",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:47:54.688Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485674688",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:54.689Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485674688",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:54.690Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485674688",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-20T15:47:54.693Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485674693",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:54.694Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485674693",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:54.696Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485674693",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-20T15:47:54.947Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:47:54.957Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:54.959Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user-123",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:54.960Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:47:54.962Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485674962",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-20T15:47:54.963Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485674962"
}
[2025-03-20T15:47:54.964Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485674962",
  "topK": 3
}
[2025-03-20T15:47:54.966Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485674962",
  "matchCount": 2,
  "operationTime": 4
}
[2025-03-20T15:47:54.966Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485674962",
  "conversationId": "conv-123"
}
[2025-03-20T15:47:54.977Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:47:54.988Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-20T15:47:54.989Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1",
  "userId": "user1"
}
[2025-03-20T15:47:54.990Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-20T15:47:54.991Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-20T15:47:54.992Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-20T15:47:55.016Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-20T15:47:55.017Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-20T15:47:55.034Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:55.037Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 10,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:55.037Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:47:55.038Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user1",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:55.614Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485675614",
  "textLength": 49,
  "textPreview": "What is machine learning? Test additional context"
}
[2025-03-20T15:47:55.624Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:55.625Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485675614",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:55.836Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742485674962",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:207:40\n\n  204     source: 'user_query',\n  205   }\n  206 });\n→ 207 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-20T15:47:55.840Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485674962",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-20T15:47:55.841Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485674962",
  "operationTime": 4,
  "matchCount": 2
}
[2025-03-20T15:47:56.563Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485676563",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:56.568Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:56.569Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485676563",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:56.569Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485676563",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:47:56.571Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485676571",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:56.571Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485676571",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:56.571Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485676571",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:56.575Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485676575",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:56.575Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485676575",
  "contextLength": 26
}
[2025-03-20T15:47:56.575Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485676575",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:56.576Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485676575",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:56.576Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485676576",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:56.576Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485676576",
  "contextLength": 26
}
[2025-03-20T15:47:56.577Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485676576",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:56.577Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485676576",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:56.577Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485676577",
  "bufferSize": 15
}
[2025-03-20T15:47:56.578Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485676577",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485676578.webm"
}
[2025-03-20T15:47:56.578Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485676577",
  "model": "whisper-1"
}
[2025-03-20T15:47:56.578Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485676577",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:47:56.579Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485676579",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:56.579Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485676579",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:56.579Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485676579",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:56.580Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485676580",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:56.580Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485676580",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:56.581Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485676580",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-20T15:47:57.043Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485675614",
  "duration": 1418,
  "dimensions": 1536
}
[2025-03-20T15:47:57.044Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:47:57.045Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42",
  "hasAdditionalContext": true
}
[2025-03-20T15:47:57.638Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485677638",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:57.642Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:57.643Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485677638",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:57.644Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485677638",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:47:57.645Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485677645",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:57.646Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485677645",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:57.646Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485677645",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:57.649Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485677649",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:57.650Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485677649",
  "contextLength": 26
}
[2025-03-20T15:47:57.650Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485677649",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:57.651Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485677649",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:57.651Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485677651",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:57.652Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485677651",
  "contextLength": 26
}
[2025-03-20T15:47:57.652Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485677651",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:57.652Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485677651",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:57.653Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485677653",
  "bufferSize": 15
}
[2025-03-20T15:47:57.653Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485677653",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485677653.webm"
}
[2025-03-20T15:47:57.653Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485677653",
  "model": "whisper-1"
}
[2025-03-20T15:47:57.654Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485677653",
  "duration": 1,
  "transcriptionLength": 28
}
[2025-03-20T15:47:57.654Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485677654",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:57.654Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485677654",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:57.655Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485677654",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-20T15:47:57.655Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485677655",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:57.656Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485677655",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:57.656Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485677655",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:57.859Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485677859",
  "query": "What is machine learning?",
  "topK": 5,
  "source": "test",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:47:57.860Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485677859"
}
[2025-03-20T15:47:57.860Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485677860",
  "textLength": 25,
  "textPreview": "What is machine learning?"
}
[2025-03-20T15:47:57.860Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485677860",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:58.734Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485678734",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:58.738Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:58.738Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485678734",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:58.739Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485678734",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:47:58.740Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485678740",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:58.741Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485678740",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:58.741Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485678740",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:58.744Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485678744",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:58.745Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485678744",
  "contextLength": 26
}
[2025-03-20T15:47:58.745Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485678744",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:58.746Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485678744",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:58.746Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485678746",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:58.746Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485678746",
  "contextLength": 26
}
[2025-03-20T15:47:58.747Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485678746",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:58.747Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485678746",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:58.747Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485678747",
  "bufferSize": 15
}
[2025-03-20T15:47:58.748Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485678747",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485678748.webm"
}
[2025-03-20T15:47:58.748Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485678747",
  "model": "whisper-1"
}
[2025-03-20T15:47:58.749Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485678747",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:47:58.750Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485678750",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:58.751Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485678750",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:58.751Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485678750",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:58.752Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485678752",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:58.752Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485678752",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:58.752Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485678752",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:59.495Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485677860",
  "duration": 1635,
  "dimensions": 1536
}
[2025-03-20T15:47:59.496Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485677859",
  "topK": 5
}
[2025-03-20T15:47:59.592Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485677859",
  "matchCount": 5,
  "operationTime": 1733
}
[2025-03-20T15:47:59.593Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485677859",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:00.070Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485677859",
  "contextLength": 2190,
  "contextStart": "Learn about powerful built-in tools like web search and file search.\n\n](/docs/guides/tools)[\n\nFuncti..."
}
[2025-03-20T15:48:00.071Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485677859",
  "operationTime": 1733,
  "matchCount": 5
}
[2025-03-20T15:48:01.264Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485681264",
  "textLength": 55,
  "textPreview": "How does a neural network work? Test additional co..."
}
[2025-03-20T15:48:01.264Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485681264",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:01.699Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485681264",
  "duration": 435,
  "dimensions": 1536
}
[2025-03-20T15:48:01.700Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42",
  "hasAdditionalContext": true
}
[2025-03-20T15:48:01.910Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485681910",
  "query": "How does a neural network work?",
  "topK": 5,
  "source": "test",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:01.910Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485681910"
}
[2025-03-20T15:48:01.910Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485681910",
  "textLength": 31,
  "textPreview": "How does a neural network work?"
}
[2025-03-20T15:48:01.910Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485681910",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:02.717Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485681910",
  "duration": 807,
  "dimensions": 1536
}
[2025-03-20T15:48:02.719Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485681910",
  "topK": 5
}
[2025-03-20T15:48:02.795Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485681910",
  "matchCount": 5,
  "operationTime": 885
}
[2025-03-20T15:48:02.795Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485681910",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:03.080Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485681910",
  "contextLength": 2425,
  "contextStart": "- OpenAI processes the request and generates a response\n   - Response is returned to the backend\n\n4...."
}
[2025-03-20T15:48:03.081Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485681910",
  "operationTime": 885,
  "matchCount": 5
}
[2025-03-20T15:48:04.180Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485684180",
  "textLength": 59,
  "textPreview": "Tell me about large language models Test additiona..."
}
[2025-03-20T15:48:04.180Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485684180",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:04.764Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485684180",
  "duration": 584,
  "dimensions": 1536
}
[2025-03-20T15:48:04.765Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42",
  "hasAdditionalContext": true
}
[2025-03-20T15:48:04.972Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485684972",
  "query": "Tell me about large language models",
  "topK": 5,
  "source": "test",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:04.972Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485684972"
}
[2025-03-20T15:48:04.973Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485684972",
  "textLength": 35,
  "textPreview": "Tell me about large language models"
}
[2025-03-20T15:48:04.973Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485684972",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:05.796Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485684972",
  "duration": 823,
  "dimensions": 1536
}
[2025-03-20T15:48:05.797Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485684972",
  "topK": 5
}
[2025-03-20T15:48:05.871Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485684972",
  "matchCount": 5,
  "operationTime": 899
}
[2025-03-20T15:48:05.871Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485684972",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:06.143Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485684972",
  "contextLength": 2409,
  "contextStart": "org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin..."
}
[2025-03-20T15:48:06.144Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485684972",
  "operationTime": 899,
  "matchCount": 5
}
[2025-03-20T17:37:22.398Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T17:37:22.399Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T17:37:23.462Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T17:38:43.340Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742492323340"
}
[2025-03-20T17:38:43.341Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742492323340",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "none"
}
[2025-03-20T17:38:43.341Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742492323341",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-20T17:38:43.341Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T17:38:43.341Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742492323341",
  "model": "text-embedding-3-small"
}
[2025-03-20T17:38:44.538Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742492323341",
  "duration": 1196,
  "dimensions": 1536
}
[2025-03-20T17:38:44.538Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T17:38:44.540Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T17:38:47.159Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742492323340",
  "duration": 3817,
  "matchCount": 5
}
[2025-03-21T14:06:47.131Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566007131",
  "bufferSize": 40961
}
[2025-03-21T14:06:47.134Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:47.135Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566007131",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566007135.webm"
}
[2025-03-21T14:06:47.135Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566007131",
  "model": "whisper-1"
}
[2025-03-21T14:06:48.666Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566007131",
  "duration": 1531,
  "transcriptionLength": 34
}
[2025-03-21T14:06:55.593Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742566015593"
}
[2025-03-21T14:06:55.593Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742566015593",
  "query": "Testing, testing, can you hear me?",
  "topK": 5,
  "source": "chat",
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67"
}
[2025-03-21T14:06:55.593Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742566015593",
  "textLength": 34,
  "textPreview": "Testing, testing, can you hear me?"
}
[2025-03-21T14:06:55.593Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:55.593Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742566015593",
  "model": "text-embedding-3-small"
}
[2025-03-21T14:06:56.461Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742566015593",
  "duration": 868,
  "dimensions": 1536
}
[2025-03-21T14:06:56.462Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T14:06:56.464Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-21T14:06:57.468Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742566015593",
  "duration": 1875,
  "matchCount": 5
}
[2025-03-21T14:06:57.653Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742566017653"
}
[2025-03-21T14:06:57.653Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742566017653",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2456,
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67"
}
[2025-03-21T14:06:57.653Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742566017653"
}
[2025-03-21T14:06:57.653Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742566017653",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2456
}
[2025-03-21T14:06:57.653Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:57.654Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742566017653",
  "contextLength": 2456
}
[2025-03-21T14:06:57.654Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742566017653",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T14:06:59.108Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742566017653",
  "duration": 1454,
  "promptTokens": 646,
  "completionTokens": 24,
  "totalTokens": 670,
  "responseLength": 86
}
[2025-03-21T14:06:59.109Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742566017653",
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67",
  "userMessageLength": 2545,
  "assistantMessageLength": 86
}
[2025-03-21T14:06:59.369Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742566017653",
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67"
}
[2025-03-21T14:06:59.369Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742566017653",
  "duration": 1456,
  "answerLength": 86
}
[2025-03-21T14:06:59.565Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742566019565",
  "textLength": 86,
  "voice": "alloy"
}
[2025-03-21T14:06:59.566Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:59.566Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742566019565",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T14:07:02.302Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742566019565",
  "duration": 2736,
  "bufferSize": 102720
}
[2025-03-21T14:13:06.786Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566386786",
  "bufferSize": 29576
}
[2025-03-21T14:13:06.787Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:13:06.787Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566386786",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566386787.webm"
}
[2025-03-21T14:13:06.788Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566386786",
  "model": "whisper-1"
}
[2025-03-21T14:13:07.940Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566386786",
  "duration": 1152,
  "transcriptionLength": 26
}
[2025-03-21T14:14:34.587Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566474587",
  "bufferSize": 40081
}
[2025-03-21T14:14:34.588Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:14:34.588Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566474587",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566474588.webm"
}
[2025-03-21T14:14:34.588Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566474587",
  "model": "whisper-1"
}
[2025-03-21T14:14:35.594Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566474587",
  "duration": 1006,
  "transcriptionLength": 35
}
[2025-03-21T14:14:50.154Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566490154",
  "bufferSize": 34415
}
[2025-03-21T14:14:50.154Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566490154",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566490154.webm"
}
[2025-03-21T14:14:50.155Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566490154",
  "model": "whisper-1"
}
[2025-03-21T14:14:51.361Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566490154",
  "duration": 1206,
  "transcriptionLength": 19
}
[2025-03-21T14:15:50.248Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566550248",
  "bufferSize": 25460
}
[2025-03-21T14:15:50.249Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:15:50.249Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566550248",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566550249.webm"
}
[2025-03-21T14:15:50.249Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566550248",
  "model": "whisper-1"
}
[2025-03-21T14:15:51.776Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566550248",
  "duration": 1527,
  "transcriptionLength": 5
}
[2025-03-21T14:17:47.470Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566667470",
  "bufferSize": 50858
}
[2025-03-21T14:17:47.471Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:17:47.472Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566667470",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566667472.webm"
}
[2025-03-21T14:17:47.472Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566667470",
  "model": "whisper-1"
}
[2025-03-21T14:17:49.334Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566667470",
  "duration": 1862,
  "transcriptionLength": 67
}
[2025-03-21T14:17:50.579Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566670579",
  "bufferSize": 15713
}
[2025-03-21T14:17:50.580Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566670579",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566670580.webm"
}
[2025-03-21T14:17:50.580Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566670579",
  "model": "whisper-1"
}
[2025-03-21T14:17:51.381Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566670579",
  "duration": 801,
  "transcriptionLength": 21
}
[2025-03-21T14:20:25.747Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566825747",
  "bufferSize": 46805
}
[2025-03-21T14:20:25.748Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:20:25.748Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566825747",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566825748.webm"
}
[2025-03-21T14:20:25.749Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566825747",
  "model": "whisper-1"
}
[2025-03-21T14:20:26.828Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566825747",
  "duration": 1079,
  "transcriptionLength": 37
}
[2025-03-21T14:20:45.601Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:45.602Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:46.102Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:53.301Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:53.303Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:53.474Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:30:07.432Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742567407432"
}
[2025-03-21T14:30:07.432Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742567407432",
  "query": "hello",
  "topK": 5,
  "source": "chat",
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33"
}
[2025-03-21T14:30:07.433Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742567407433",
  "textLength": 5,
  "textPreview": "hello"
}
[2025-03-21T14:30:07.433Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:30:07.433Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742567407433",
  "model": "text-embedding-3-small"
}
[2025-03-21T14:30:08.076Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742567407433",
  "duration": 643,
  "dimensions": 1536
}
[2025-03-21T14:30:08.077Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T14:30:08.078Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-21T14:30:08.861Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742567407432",
  "duration": 1429,
  "matchCount": 5
}
[2025-03-21T14:30:09.615Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742567409615"
}
[2025-03-21T14:30:09.615Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742567409615",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1909,
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33"
}
[2025-03-21T14:30:09.615Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742567409615"
}
[2025-03-21T14:30:09.616Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742567409616",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1909
}
[2025-03-21T14:30:09.616Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:30:09.616Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742567409616",
  "contextLength": 1909
}
[2025-03-21T14:30:09.616Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742567409616",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T14:30:10.088Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742567409616",
  "duration": 472,
  "promptTokens": 485,
  "completionTokens": 10,
  "totalTokens": 495,
  "responseLength": 34
}
[2025-03-21T14:30:10.089Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742567409615",
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33",
  "userMessageLength": 1998,
  "assistantMessageLength": 34
}
[2025-03-21T14:30:10.273Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742567409615",
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33"
}
[2025-03-21T14:30:10.273Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742567409615",
  "duration": 473,
  "answerLength": 34
}
[2025-03-21T14:30:10.795Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742567410795",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-21T14:30:10.795Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:30:10.795Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742567410795",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T14:30:11.822Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742567410795",
  "duration": 1027,
  "bufferSize": 35520
}
[2025-03-21T14:30:15.362Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:30:15.362Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:30:15.652Z] [INFO] [API] Getting server logs (and possibly message logs) 
