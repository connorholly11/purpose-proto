[2025-03-19T18:02:41.326Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742407361326"
}
[2025-03-19T18:02:41.329Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742407361326",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:41.329Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742407361326"
}
[2025-03-19T18:02:41.329Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742407361329",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:41.330Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T18:02:41.330Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742407361329"
}
[2025-03-19T18:02:41.330Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742407361330",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-19T18:02:41.330Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T18:02:41.331Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742407361330",
  "model": "text-embedding-3-small"
}
[2025-03-19T18:02:42.181Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742407361330",
  "duration": 850,
  "dimensions": 1536
}
[2025-03-19T18:02:42.182Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742407361329",
  "embeddingSize": 1536
}
[2025-03-19T18:02:42.182Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742407361329",
  "topK": 5
}
[2025-03-19T18:02:42.655Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742407361329",
  "matchCount": 5,
  "operationTime": 1326
}
[2025-03-19T18:02:42.656Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742407361329",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:43.559Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742407361329",
  "query": "hey there...",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:43.559Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742407361329",
  "contextLength": 1921,
  "contextStart": "org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin..."
}
[2025-03-19T18:02:43.559Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742407361329",
  "operationTime": 1326,
  "matchCount": 5
}
[2025-03-19T18:02:43.559Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742407361326",
  "duration": 2230,
  "matchCount": 5
}
[2025-03-19T18:02:43.675Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742407363675"
}
[2025-03-19T18:02:43.675Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742407363675",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1921,
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:43.675Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742407363675"
}
[2025-03-19T18:02:43.675Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742407363675",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1921
}
[2025-03-19T18:02:43.675Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T18:02:43.676Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742407363675",
  "contextLength": 1921
}
[2025-03-19T18:02:43.676Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742407363675",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T18:02:44.181Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742407363675",
  "duration": 505,
  "promptTokens": 486,
  "completionTokens": 10,
  "totalTokens": 496,
  "responseLength": 34
}
[2025-03-19T18:02:44.181Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742407363675",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9",
  "userMessageLength": 2010,
  "assistantMessageLength": 34
}
[2025-03-19T18:02:44.330Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742407363675",
  "conversationId": "fae89dd6-9ef4-48bb-8c5a-45bae9b4abe9"
}
[2025-03-19T18:02:44.330Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742407363675",
  "duration": 506,
  "answerLength": 34
}
[2025-03-19T18:02:44.404Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742407364404",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-19T18:02:44.405Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T18:02:44.405Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742407364404",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T18:02:45.764Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742407364404",
  "duration": 1359,
  "bufferSize": 40320
}
[2025-03-19T18:05:04.405Z] [INFO] [API] Getting server logs 
[2025-03-19T18:05:04.406Z] [INFO] [API] Getting server logs 
[2025-03-19T18:05:04.412Z] [INFO] [API] Getting server logs[2025-03-19T19:34:06.309Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742412846309"
}
[2025-03-19T19:34:06.309Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742412846309",
  "query": "what is your favorite thing to do",
  "topK": 5,
  "source": "chat",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:06.309Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742412846309"
}
[2025-03-19T19:34:06.309Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742412846309",
  "query": "what is your favorite thing to do",
  "topK": 5,
  "source": "chat",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:06.310Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742412846309"
}
[2025-03-19T19:34:06.310Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742412846310",
  "textLength": 33,
  "textPreview": "what is your favorite thing to do"
}
[2025-03-19T19:34:06.310Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742412846310",
  "model": "text-embedding-3-small"
}
[2025-03-19T19:34:06.958Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742412846310",
  "duration": 648,
  "dimensions": 1536
}
[2025-03-19T19:34:06.958Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742412846309",
  "embeddingSize": 1536
}
[2025-03-19T19:34:06.958Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742412846309",
  "topK": 5
}
[2025-03-19T19:34:07.295Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742412846309",
  "matchCount": 5,
  "operationTime": 986
}
[2025-03-19T19:34:07.295Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742412846309",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:07.619Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742412846309",
  "query": "what is your favorite thing to...",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:07.619Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742412846309",
  "contextLength": 1839,
  "contextStart": "Learn about powerful built-in tools like web search and file search.\n\n](/docs/guides/tools)[\n\nFuncti..."
}
[2025-03-19T19:34:07.620Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742412846309",
  "operationTime": 986,
  "matchCount": 5
}
[2025-03-19T19:34:07.620Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742412846309",
  "duration": 1311,
  "matchCount": 5
}
[2025-03-19T19:34:07.626Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742412847626"
}
[2025-03-19T19:34:07.626Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742412847626",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1839,
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:07.626Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742412847626"
}
[2025-03-19T19:34:07.626Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742412847626",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1839
}
[2025-03-19T19:34:07.626Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742412847626",
  "contextLength": 1839
}
[2025-03-19T19:34:07.626Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742412847626",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T19:34:09.345Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742412847626",
  "duration": 1719,
  "promptTokens": 422,
  "completionTokens": 50,
  "totalTokens": 472,
  "responseLength": 270
}
[2025-03-19T19:34:09.345Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742412847626",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28",
  "userMessageLength": 1928,
  "assistantMessageLength": 270
}
[2025-03-19T19:34:09.468Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742412847626",
  "conversationId": "159a8965-7a19-40ac-b5e0-c6d880dced28"
}
[2025-03-19T19:34:09.468Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742412847626",
  "duration": 1719,
  "answerLength": 270
}
[2025-03-19T20:20:26.447Z] [INFO] [API] Creating conversation {
  "requestId": "api-create-conv-1742415626447"
}
[2025-03-19T20:20:26.915Z] [INFO] [API] Conversation created {
  "requestId": "api-create-conv-1742415626447",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:35.260Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742415635260"
}
[2025-03-19T20:20:35.261Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742415635260",
  "query": "whats my name",
  "topK": 5,
  "source": "test-page",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:35.261Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742415635260"
}
[2025-03-19T20:20:35.261Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742415635261",
  "query": "whats my name",
  "topK": 5,
  "source": "test-page",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:35.261Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:20:35.262Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742415635261"
}
[2025-03-19T20:20:35.262Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742415635262",
  "textLength": 13,
  "textPreview": "whats my name"
}
[2025-03-19T20:20:35.262Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:20:35.262Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742415635262",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:20:35.981Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742415635262",
  "duration": 719,
  "dimensions": 1536
}
[2025-03-19T20:20:35.981Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742415635261",
  "embeddingSize": 1536
}
[2025-03-19T20:20:35.981Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742415635261",
  "topK": 5
}
[2025-03-19T20:20:36.411Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742415635261",
  "matchCount": 5,
  "operationTime": 1150
}
[2025-03-19T20:20:36.411Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742415635261",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:36.861Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742415635261",
  "query": "whats my name...",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:36.862Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742415635261",
  "contextLength": 2417,
  "contextStart": "type|When set to function_call, indicates this response contains arguments for a named function call..."
}
[2025-03-19T20:20:36.862Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742415635261",
  "operationTime": 1150,
  "matchCount": 5
}
[2025-03-19T20:20:36.862Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742415635260",
  "duration": 1601,
  "matchCount": 5
}
[2025-03-19T20:20:43.834Z] [INFO] [API] Fetching RAG operations {
  "requestId": "api-rag-ops-1742415643834",
  "conversationId": "b0a088bf-8023-49ae-bc87-8c2261b97d58"
}
[2025-03-19T20:20:44.071Z] [INFO] [API] RAG operations fetched {
  "requestId": "api-rag-ops-1742415643834",
  "operationCount": 1
}
[2025-03-19T20:50:28.089Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742417428089"
}
[2025-03-19T20:50:28.090Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742417428089",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "5c9e9a51-93d6-4212-9a8e-5465bc80da5b"
}
[2025-03-19T20:50:28.090Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742417428089"
}
[2025-03-19T20:50:28.091Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417428091",
  "textLength": 11,
  "textPreview": "hey there 5"
}
[2025-03-19T20:50:28.091Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:50:28.091Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417428091",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:50:29.411Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417428091",
  "duration": 1320,
  "dimensions": 1536
}
[2025-03-19T20:50:29.411Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:50:29.845Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742417428089",
  "error": "top_k: invalid value \"5c9e9a51-93d6-4212-9a8e-5465bc80da5b\" for type TYPE_UINT32"
}
[2025-03-19T20:50:47.969Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742417447969"
}
[2025-03-19T20:50:47.969Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742417447969",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "1b97452c-a911-4aa3-bc09-f001afd27edf"
}
[2025-03-19T20:50:47.969Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742417447969"
}
[2025-03-19T20:50:47.969Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417447969",
  "textLength": 11,
  "textPreview": "hey there 5"
}
[2025-03-19T20:50:47.969Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:50:47.970Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417447969",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:50:48.648Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417447969",
  "duration": 678,
  "dimensions": 1536
}
[2025-03-19T20:50:48.648Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:50:49.020Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742417447969",
  "error": "top_k: invalid value \"1b97452c-a911-4aa3-bc09-f001afd27edf\" for type TYPE_UINT32"
}
[2025-03-19T20:52:07.266Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742417527266"
}
[2025-03-19T20:52:07.267Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742417527266",
  "query": "hey",
  "topK": 5,
  "source": "chat",
  "conversationId": "58a27b47-799e-4445-bd18-fd881461b495"
}
[2025-03-19T20:52:07.267Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742417527266"
}
[2025-03-19T20:52:07.268Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417527268",
  "textLength": 5,
  "textPreview": "hey 5"
}
[2025-03-19T20:52:07.268Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:52:07.268Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417527268",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:52:07.928Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417527268",
  "duration": 660,
  "dimensions": 1536
}
[2025-03-19T20:52:07.928Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:52:08.406Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742417527266",
  "error": "top_k: invalid value \"58a27b47-799e-4445-bd18-fd881461b495\" for type TYPE_UINT32"
}
[2025-03-19T20:52:43.755Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742417563755",
  "bufferSize": 25451
}
[2025-03-19T20:52:43.756Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:52:43.756Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742417563755",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742417563756.webm"
}
[2025-03-19T20:52:43.757Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742417563755",
  "model": "whisper-1"
}
[2025-03-19T20:52:44.781Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742417563755",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742417563756.webm"
}
[2025-03-19T20:52:44.782Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742417563755",
  "duration": 1024,
  "transcriptLength": 34
}
[2025-03-19T20:52:44.926Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742417564926",
  "textLength": 36,
  "textPreview": "Telsing, Telsing, can you hear me? 5"
}
[2025-03-19T20:52:44.926Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T20:52:44.927Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742417564926",
  "model": "text-embedding-3-small"
}
[2025-03-19T20:52:45.283Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742417564926",
  "duration": 357,
  "dimensions": 1536
}
[2025-03-19T20:52:45.283Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T20:52:57.189Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:57.189Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:57.197Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:57.612Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:58.281Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:58.625Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:58.946Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:59.431Z] [INFO] [API] Getting server logs 
[2025-03-19T20:52:59.747Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:00.058Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:00.360Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:00.719Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:01.040Z] [INFO] [API] Getting server logs 
[2025-03-19T20:53:01.451Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:18.417Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742419638417",
  "bufferSize": 28350
}
[2025-03-19T21:27:18.418Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:27:18.418Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742419638417",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742419638418.webm"
}
[2025-03-19T21:27:18.418Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742419638417",
  "model": "whisper-1"
}
[2025-03-19T21:27:19.556Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742419638417",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742419638418.webm"
}
[2025-03-19T21:27:19.556Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742419638417",
  "duration": 1138,
  "transcriptLength": 34
}
[2025-03-19T21:27:19.878Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742419639878",
  "query": "Testing, testing, can you hear me?",
  "topK": 5,
  "source": "chat",
  "conversationId": "6d41bfc5-1c0a-4f15-a344-a753ae9b5c90"
}
[2025-03-19T21:27:19.878Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:27:19.879Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742419639878"
}
[2025-03-19T21:27:19.879Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742419639879",
  "textLength": 34,
  "textPreview": "Testing, testing, can you hear me?"
}
[2025-03-19T21:27:19.879Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:27:19.879Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742419639879",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:27:20.790Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742419639879",
  "duration": 911,
  "dimensions": 1536
}
[2025-03-19T21:27:20.790Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742419639878",
  "embeddingSize": 1536
}
[2025-03-19T21:27:20.791Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742419639878",
  "topK": 5
}
[2025-03-19T21:27:21.443Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742419639878",
  "matchCount": 5,
  "operationTime": 1565
}
[2025-03-19T21:27:21.444Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742419639878",
  "conversationId": "6d41bfc5-1c0a-4f15-a344-a753ae9b5c90"
}
[2025-03-19T21:27:21.980Z] [INFO] [RAG] RAG operation logged to database {
  "requestId": "rag-1742419639878",
  "query": "Testing, testing, can you hear...",
  "conversationId": "6d41bfc5-1c0a-4f15-a344-a753ae9b5c90"
}
[2025-03-19T21:27:21.982Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742419639878",
  "contextLength": 2456,
  "contextStart": "res.json({\n       message: 'TTS generated successfully',\n       audioUrl: `/audio/${path.basename(te..."
}
[2025-03-19T21:27:21.982Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742419639878",
  "operationTime": 1565,
  "matchCount": 5
}
[2025-03-19T21:27:21.983Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742419641983",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2456
}
[2025-03-19T21:27:21.983Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742419641983",
  "contextLength": 2456
}
[2025-03-19T21:27:21.984Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742419641983",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:27:23.721Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742419641983",
  "duration": 1737,
  "promptTokens": 646,
  "completionTokens": 64,
  "totalTokens": 710,
  "responseLength": 285
}
[2025-03-19T21:27:24.236Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742419644236",
  "textLength": 285,
  "voice": "alloy"
}
[2025-03-19T21:27:24.236Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:27:24.236Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742419644236",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:27:27.361Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742419644236",
  "duration": 3124,
  "bufferSize": 334560
}
[2025-03-19T21:27:56.649Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:56.650Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:56.655Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:57.056Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:57.373Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:57.801Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:58.114Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:58.425Z] [INFO] [API] Getting server logs 
[2025-03-19T21:27:58.779Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:33.756Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:33.768Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:33.770Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.102Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.406Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.702Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:34.997Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:35.299Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:35.601Z] [INFO] [API] Getting server logs 
[2025-03-19T21:28:35.928Z] [INFO] [API] Getting server logs 
[2025-03-19T21:30:35.797Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742419835797"
}
[2025-03-19T21:30:35.798Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742419835797",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:30:35.798Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742419835797"
}
[2025-03-19T21:30:35.798Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742419835798",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-19T21:30:35.798Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:30:35.798Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742419835798",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:30:38.226Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742419835798",
  "duration": 2428,
  "dimensions": 1536
}
[2025-03-19T21:30:38.227Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:30:38.732Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742419835797",
  "error": "top_k: invalid value \"d623c793-736a-457a-b4b6-ec07027d7df7\" for type TYPE_UINT32"
}
[2025-03-19T21:35:04.911Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742420104911"
}
[2025-03-19T21:35:04.912Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742420104911",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:04.912Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742420104911"
}
[2025-03-19T21:35:04.913Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742420104913",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-19T21:35:04.913Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:35:04.913Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742420104913",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:35:05.227Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742420104913",
  "duration": 314,
  "dimensions": 1536
}
[2025-03-19T21:35:05.227Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:35:05.630Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742420104911",
  "duration": 718,
  "matchCount": 5
}
[2025-03-19T21:35:05.861Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742420105861"
}
[2025-03-19T21:35:05.862Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742420105861",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:05.862Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742420105861"
}
[2025-03-19T21:35:05.862Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742420105862",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-19T21:35:05.862Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:35:05.862Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742420105862",
  "contextLength": 1923
}
[2025-03-19T21:35:05.862Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742420105862",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:35:06.725Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742420105862",
  "duration": 863,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-19T21:35:06.726Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742420105861",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-19T21:35:07.264Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742420105861",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:07.265Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742420105861",
  "duration": 864,
  "answerLength": 34
}
[2025-03-19T21:35:16.493Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742420116493"
}
[2025-03-19T21:35:16.494Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742420116493",
  "query": "my name is connor",
  "topK": 5,
  "source": "chat",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:16.494Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742420116493"
}
[2025-03-19T21:35:16.494Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742420116494",
  "textLength": 17,
  "textPreview": "my name is connor"
}
[2025-03-19T21:35:16.494Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742420116494",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:35:17.169Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742420116494",
  "duration": 675,
  "dimensions": 1536
}
[2025-03-19T21:35:17.170Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:35:17.521Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742420116493",
  "duration": 1027,
  "matchCount": 5
}
[2025-03-19T21:35:17.531Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742420117531"
}
[2025-03-19T21:35:17.532Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742420117531",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432,
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:17.532Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742420117531"
}
[2025-03-19T21:35:17.532Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742420117532",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432
}
[2025-03-19T21:35:17.532Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742420117532",
  "contextLength": 2432
}
[2025-03-19T21:35:17.532Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742420117532",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:35:17.952Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742420117532",
  "duration": 419,
  "promptTokens": 552,
  "completionTokens": 11,
  "totalTokens": 563,
  "responseLength": 38
}
[2025-03-19T21:35:17.952Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742420117531",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7",
  "userMessageLength": 2521,
  "assistantMessageLength": 38
}
[2025-03-19T21:35:18.055Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742420117531",
  "conversationId": "d623c793-736a-457a-b4b6-ec07027d7df7"
}
[2025-03-19T21:35:18.055Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742420117531",
  "duration": 420,
  "answerLength": 38
}
[2025-03-19T21:35:24.979Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:24.980Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:24.987Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:28.596Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:30.247Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:34.364Z] [INFO] [API] Getting server logs 
[2025-03-19T21:35:35.527Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:00.487Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742420160487"
}
[2025-03-19T21:36:00.488Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742420160487",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2"
}
[2025-03-19T21:36:00.488Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742420160487"
}
[2025-03-19T21:36:00.489Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742420160489",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-19T21:36:00.489Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:36:00.489Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742420160489",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:36:02.434Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742420160489",
  "duration": 1945,
  "dimensions": 1536
}
[2025-03-19T21:36:02.435Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:36:02.839Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742420160487",
  "duration": 2351,
  "matchCount": 5
}
[2025-03-19T21:36:02.860Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742420162860"
}
[2025-03-19T21:36:02.861Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742420162860",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2"
}
[2025-03-19T21:36:02.861Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742420162860"
}
[2025-03-19T21:36:02.861Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742420162861",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-19T21:36:02.861Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742420162861",
  "contextLength": 1923
}
[2025-03-19T21:36:02.861Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742420162861",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:36:04.067Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742420162861",
  "duration": 1206,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-19T21:36:04.068Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742420162860",
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-19T21:36:04.263Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742420162860",
  "conversationId": "1d91410d-ff6a-4b74-a721-bf6fb4db0fa2"
}
[2025-03-19T21:36:04.263Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742420162860",
  "duration": 1207,
  "answerLength": 34
}
[2025-03-19T21:36:04.558Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742420164558",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-19T21:36:04.558Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:36:04.558Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742420164558",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:36:05.642Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742420164558",
  "duration": 1084,
  "bufferSize": 41280
}
[2025-03-19T21:36:35.646Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:35.656Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:35.659Z] [INFO] [API] Getting server logs 
[2025-03-19T21:36:42.669Z] [INFO] [API] Getting server logs 
[2025-03-19T21:38:12.090Z] [INFO] [API] Getting server logs 
[2025-03-19T21:38:12.090Z] [INFO] [API] Getting server logs 
[2025-03-19T21:38:12.095Z] [INFO] [API] Getting server logs 
[2025-03-19T21:52:39.946Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421159946"
}
[2025-03-19T21:52:39.962Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421159946",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T21:52:39.962Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421159946"
}
[2025-03-19T21:52:39.963Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421159946",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T21:52:39.964Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421159946",
  "conversationId": "conv-123"
}
[2025-03-19T21:52:39.966Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421159946",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T21:52:40.360Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421160360",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:40.393Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:40.396Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421160360",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:40.398Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421160360",
  "duration": 2,
  "dimensions": 5
}
[2025-03-19T21:52:40.403Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421160403",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:40.405Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421160403",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:40.407Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421160403",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:40.418Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421160418",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:40.419Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421160418",
  "contextLength": 26
}
[2025-03-19T21:52:40.420Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421160418",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:40.421Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421160418",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:40.422Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421160422",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:40.422Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421160422",
  "contextLength": 26
}
[2025-03-19T21:52:40.423Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421160422",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:40.425Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421160422",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:40.427Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421160427",
  "bufferSize": 15
}
[2025-03-19T21:52:40.429Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421160427",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421160429.webm"
}
[2025-03-19T21:52:40.430Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421160427",
  "model": "whisper-1"
}
[2025-03-19T21:52:40.432Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421160427",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421160429.webm"
}
[2025-03-19T21:52:40.434Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421160427",
  "duration": 2,
  "transcriptLength": 28
}
[2025-03-19T21:52:40.436Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421160436",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:40.437Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421160436",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:40.438Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421160436",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:40.440Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421160440",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:40.441Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421160440",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:40.442Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421160440",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:40.585Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:52:40.601Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421160601",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T21:52:40.604Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421160601"
}
[2025-03-19T21:52:40.605Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421160601",
  "embeddingSize": 3
}
[2025-03-19T21:52:40.605Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421160601",
  "topK": 3
}
[2025-03-19T21:52:40.605Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421160601",
  "matchCount": 2,
  "operationTime": 4
}
[2025-03-19T21:52:40.608Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421160601",
  "conversationId": "conv-123"
}
[2025-03-19T21:52:41.750Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421160601",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T21:52:41.753Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421160601",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T21:52:41.753Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421160601",
  "operationTime": 4,
  "matchCount": 2
}
[2025-03-19T21:52:42.187Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421162187",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:42.193Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:42.195Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421162187",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:42.195Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421162187",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:52:42.197Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421162197",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:42.197Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421162197",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:42.198Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421162197",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:42.213Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421162213",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:42.218Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421162213",
  "contextLength": 26
}
[2025-03-19T21:52:42.221Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421162213",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:42.227Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421162213",
  "duration": 6,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:42.237Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421162237",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:42.245Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421162237",
  "contextLength": 26
}
[2025-03-19T21:52:42.253Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421162237",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:42.275Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421162237",
  "duration": 22,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:42.306Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421162306",
  "bufferSize": 15
}
[2025-03-19T21:52:42.316Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421162306",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421162316.webm"
}
[2025-03-19T21:52:42.320Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421162306",
  "model": "whisper-1"
}
[2025-03-19T21:52:42.325Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421162306",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421162316.webm"
}
[2025-03-19T21:52:42.326Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421162306",
  "duration": 5,
  "transcriptLength": 28
}
[2025-03-19T21:52:42.330Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421162330",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:42.332Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421162330",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:42.334Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421162330",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-19T21:52:42.338Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421162338",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:42.338Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421162338",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:42.339Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421162338",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:43.505Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421163505",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:43.512Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:43.514Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421163505",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:43.515Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421163505",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:52:43.518Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421163518",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:43.520Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421163518",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:43.521Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421163518",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:43.530Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421163530",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:43.531Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421163530",
  "contextLength": 26
}
[2025-03-19T21:52:43.532Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421163530",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:43.534Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421163530",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:43.536Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421163536",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:43.538Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421163536",
  "contextLength": 26
}
[2025-03-19T21:52:43.539Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421163536",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:43.539Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421163536",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:43.540Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421163540",
  "bufferSize": 15
}
[2025-03-19T21:52:43.541Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421163540",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421163541.webm"
}
[2025-03-19T21:52:43.541Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421163540",
  "model": "whisper-1"
}
[2025-03-19T21:52:43.542Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421163540",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421163541.webm"
}
[2025-03-19T21:52:43.542Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421163540",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:52:43.543Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421163543",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:43.544Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421163543",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:43.545Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421163543",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:43.546Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421163546",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:43.547Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421163546",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:43.548Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421163546",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:44.820Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421164820",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:52:44.825Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:52:44.826Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421164820",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:52:44.826Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421164820",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:52:44.827Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421164827",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:52:44.828Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421164827",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:52:44.828Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421164827",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:44.832Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421164832",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:44.832Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421164832",
  "contextLength": 26
}
[2025-03-19T21:52:44.833Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421164832",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:44.833Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421164832",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:44.833Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421164833",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:52:44.834Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421164833",
  "contextLength": 26
}
[2025-03-19T21:52:44.834Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421164833",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:52:44.834Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421164833",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:52:44.835Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421164835",
  "bufferSize": 15
}
[2025-03-19T21:52:44.835Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421164835",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421164835.webm"
}
[2025-03-19T21:52:44.836Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421164835",
  "model": "whisper-1"
}
[2025-03-19T21:52:44.837Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421164835",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421164835.webm"
}
[2025-03-19T21:52:44.838Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421164835",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:52:44.839Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421164839",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:52:44.841Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421164839",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:52:44.842Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421164839",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:52:44.846Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421164846",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:52:44.847Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421164846",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:52:44.847Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421164846",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:27.663Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421267663"
}
[2025-03-19T21:54:27.692Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421267663",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T21:54:27.694Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421267663"
}
[2025-03-19T21:54:27.694Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421267663",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T21:54:27.695Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421267663",
  "conversationId": "conv-123"
}
[2025-03-19T21:54:27.695Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421267663",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T21:54:28.410Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421268410",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:28.418Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:28.419Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421268410",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:28.419Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421268410",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:28.422Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421268422",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:28.424Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421268422",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:28.426Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421268422",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:28.432Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421268432",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:28.433Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421268432",
  "contextLength": 26
}
[2025-03-19T21:54:28.435Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421268432",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:28.436Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421268432",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:28.441Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421268441",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:28.442Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421268441",
  "contextLength": 26
}
[2025-03-19T21:54:28.443Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421268441",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:28.445Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421268441",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:28.446Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421268446",
  "bufferSize": 15
}
[2025-03-19T21:54:28.447Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421268446",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421268447.webm"
}
[2025-03-19T21:54:28.449Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421268446",
  "model": "whisper-1"
}
[2025-03-19T21:54:28.450Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421268446",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421268447.webm"
}
[2025-03-19T21:54:28.451Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421268446",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:54:28.464Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421268464",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:28.464Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421268464",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:28.475Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421268464",
  "duration": 11,
  "bufferSize": 10
}
[2025-03-19T21:54:28.477Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421268477",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:28.478Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421268477",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:28.483Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421268477",
  "duration": 5,
  "bufferSize": 10
}
[2025-03-19T21:54:28.571Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:54:28.592Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421268592",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T21:54:28.593Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421268592"
}
[2025-03-19T21:54:28.594Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421268592",
  "embeddingSize": 3
}
[2025-03-19T21:54:28.595Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421268592",
  "topK": 3
}
[2025-03-19T21:54:28.595Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421268592",
  "matchCount": 2,
  "operationTime": 3
}
[2025-03-19T21:54:28.596Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421268592",
  "conversationId": "conv-123"
}
[2025-03-19T21:54:29.385Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421268592",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T21:54:29.390Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421268592",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T21:54:29.391Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421268592",
  "operationTime": 3,
  "matchCount": 2
}
[2025-03-19T21:54:30.216Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421270216",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:30.220Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:30.221Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421270216",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:30.221Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421270216",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:30.222Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421270222",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:30.223Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421270222",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:30.224Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421270222",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:30.229Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421270229",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:30.230Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421270229",
  "contextLength": 26
}
[2025-03-19T21:54:30.230Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421270229",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:30.231Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421270229",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:30.231Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421270231",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:30.232Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421270231",
  "contextLength": 26
}
[2025-03-19T21:54:30.232Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421270231",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:30.232Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421270231",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:30.233Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421270233",
  "bufferSize": 15
}
[2025-03-19T21:54:30.233Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421270233",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421270233.webm"
}
[2025-03-19T21:54:30.234Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421270233",
  "model": "whisper-1"
}
[2025-03-19T21:54:30.234Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421270233",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421270233.webm"
}
[2025-03-19T21:54:30.234Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421270233",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T21:54:30.235Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421270235",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:30.235Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421270235",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:30.235Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421270235",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:30.236Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421270236",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:30.236Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421270236",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:30.236Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421270236",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:31.343Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421271343",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:31.348Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:31.349Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421271343",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:31.349Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421271343",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:31.351Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421271351",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:31.351Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421271351",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:31.352Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421271351",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:31.354Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421271354",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:31.355Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421271354",
  "contextLength": 26
}
[2025-03-19T21:54:31.355Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421271354",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:31.356Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421271354",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:31.356Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421271356",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:31.356Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421271356",
  "contextLength": 26
}
[2025-03-19T21:54:31.356Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421271356",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:31.357Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421271356",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:31.357Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421271357",
  "bufferSize": 15
}
[2025-03-19T21:54:31.358Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421271357",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421271358.webm"
}
[2025-03-19T21:54:31.358Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421271357",
  "model": "whisper-1"
}
[2025-03-19T21:54:31.359Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421271357",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421271358.webm"
}
[2025-03-19T21:54:31.359Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421271357",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:54:31.359Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421271359",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:31.359Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421271359",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:31.360Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421271359",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:54:31.361Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421271361",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:31.362Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421271361",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:31.362Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421271361",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:54:32.399Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421272399",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:54:32.406Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:54:32.407Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421272399",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:54:32.407Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421272399",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:54:32.409Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421272409",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:54:32.409Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421272409",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:54:32.410Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421272409",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:32.415Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421272415",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:32.420Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421272415",
  "contextLength": 26
}
[2025-03-19T21:54:32.421Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421272415",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:32.422Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421272415",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:32.422Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421272422",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:54:32.423Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421272422",
  "contextLength": 26
}
[2025-03-19T21:54:32.423Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421272422",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:54:32.424Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421272422",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:54:32.425Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421272425",
  "bufferSize": 15
}
[2025-03-19T21:54:32.426Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421272425",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421272426.webm"
}
[2025-03-19T21:54:32.427Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421272425",
  "model": "whisper-1"
}
[2025-03-19T21:54:32.429Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421272425",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421272426.webm"
}
[2025-03-19T21:54:32.430Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421272425",
  "duration": 2,
  "transcriptLength": 28
}
[2025-03-19T21:54:32.431Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421272431",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:54:32.431Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421272431",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:54:32.432Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421272431",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:54:32.432Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421272432",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:54:32.433Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421272432",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:54:32.433Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421272432",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:07.307Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421367306",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:07.350Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:07.351Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421367306",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:07.351Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421367306",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T21:56:07.353Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421367352",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:07.353Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421367352",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:07.354Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421367352",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:07.418Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421367418",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:07.421Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421367418",
  "contextLength": 26
}
[2025-03-19T21:56:07.441Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421367418",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:07.453Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421367418",
  "duration": 12,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:07.473Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421367473",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:07.480Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421367473",
  "contextLength": 26
}
[2025-03-19T21:56:07.481Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421367473",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:07.482Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421367473",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:07.483Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421367483",
  "bufferSize": 15
}
[2025-03-19T21:56:07.484Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421367483",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421367484.webm"
}
[2025-03-19T21:56:07.485Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421367483",
  "model": "whisper-1"
}
[2025-03-19T21:56:07.487Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421367483",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421367484.webm"
}
[2025-03-19T21:56:07.487Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421367483",
  "duration": 2,
  "transcriptLength": 28
}
[2025-03-19T21:56:07.489Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421367489",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:07.490Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421367489",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:07.492Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421367489",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-19T21:56:07.493Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421367493",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:07.493Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421367493",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:07.493Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421367493",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:07.662Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421367662"
}
[2025-03-19T21:56:07.670Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421367662",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T21:56:07.673Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421367662"
}
[2025-03-19T21:56:07.681Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421367662",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T21:56:07.682Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421367662",
  "conversationId": "conv-123"
}
[2025-03-19T21:56:07.684Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421367662",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T21:56:07.933Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T21:56:07.946Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421367946",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T21:56:07.947Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421367946"
}
[2025-03-19T21:56:07.949Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421367946",
  "embeddingSize": 3
}
[2025-03-19T21:56:07.949Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421367946",
  "topK": 3
}
[2025-03-19T21:56:07.950Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421367946",
  "matchCount": 2,
  "operationTime": 4
}
[2025-03-19T21:56:07.950Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421367946",
  "conversationId": "conv-123"
}
[2025-03-19T21:56:08.738Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421367946",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T21:56:08.743Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421367946",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T21:56:08.745Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421367946",
  "operationTime": 4,
  "matchCount": 2
}
[2025-03-19T21:56:09.648Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421369648",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:09.652Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:09.653Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421369648",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:09.654Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421369648",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:56:09.655Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421369655",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:09.655Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421369655",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:09.656Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421369655",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:09.659Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421369659",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:09.659Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421369659",
  "contextLength": 26
}
[2025-03-19T21:56:09.659Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421369659",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:09.660Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421369659",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:09.660Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421369660",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:09.660Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421369660",
  "contextLength": 26
}
[2025-03-19T21:56:09.661Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421369660",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:09.661Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421369660",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:09.661Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421369661",
  "bufferSize": 15
}
[2025-03-19T21:56:09.662Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421369661",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421369662.webm"
}
[2025-03-19T21:56:09.662Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421369661",
  "model": "whisper-1"
}
[2025-03-19T21:56:09.663Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421369661",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421369662.webm"
}
[2025-03-19T21:56:09.663Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421369661",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:56:09.664Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421369664",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:09.664Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421369664",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:09.665Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421369664",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:56:09.665Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421369665",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:09.665Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421369665",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:09.666Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421369665",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:56:10.712Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421370712",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:10.720Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:10.721Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421370712",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:10.722Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421370712",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:56:10.723Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421370723",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:10.724Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421370723",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:10.724Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421370723",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:10.733Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421370733",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:10.733Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421370733",
  "contextLength": 26
}
[2025-03-19T21:56:10.734Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421370733",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:10.734Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421370733",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:10.735Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421370735",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:10.736Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421370735",
  "contextLength": 26
}
[2025-03-19T21:56:10.737Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421370735",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:10.738Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421370735",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:10.738Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421370738",
  "bufferSize": 15
}
[2025-03-19T21:56:10.739Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421370738",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421370739.webm"
}
[2025-03-19T21:56:10.740Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421370738",
  "model": "whisper-1"
}
[2025-03-19T21:56:10.741Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421370738",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421370739.webm"
}
[2025-03-19T21:56:10.742Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421370738",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T21:56:10.743Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421370743",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:10.744Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421370743",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:10.744Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421370743",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:10.746Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421370746",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:10.747Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421370746",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:10.747Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421370746",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T21:56:11.861Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421371861",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T21:56:11.867Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T21:56:11.868Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421371861",
  "model": "text-embedding-3-small"
}
[2025-03-19T21:56:11.869Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421371861",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T21:56:11.870Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421371870",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T21:56:11.871Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421371870",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T21:56:11.873Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421371870",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:11.879Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421371879",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:11.881Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421371879",
  "contextLength": 26
}
[2025-03-19T21:56:11.882Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421371879",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:11.883Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421371879",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:11.884Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421371884",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T21:56:11.884Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421371884",
  "contextLength": 26
}
[2025-03-19T21:56:11.884Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421371884",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T21:56:11.885Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421371884",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T21:56:11.886Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421371886",
  "bufferSize": 15
}
[2025-03-19T21:56:11.890Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421371886",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421371890.webm"
}
[2025-03-19T21:56:11.891Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421371886",
  "model": "whisper-1"
}
[2025-03-19T21:56:11.891Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421371886",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421371890.webm"
}
[2025-03-19T21:56:11.892Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421371886",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T21:56:11.894Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421371894",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T21:56:11.895Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421371894",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T21:56:11.896Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421371894",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T21:56:11.897Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421371897",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T21:56:11.898Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421371897",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T21:56:11.899Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421371897",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:25.192Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421625192",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:25.205Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:25.206Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421625192",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:25.207Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421625192",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T22:00:25.241Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421625241",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:25.273Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421625241",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:25.274Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421625241",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:25.281Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421625281",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:25.282Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421625281",
  "contextLength": 26
}
[2025-03-19T22:00:25.282Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421625281",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:25.283Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421625281",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:25.283Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421625283",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:25.284Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421625283",
  "contextLength": 26
}
[2025-03-19T22:00:25.284Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421625283",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:25.285Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421625283",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:25.296Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421625296",
  "bufferSize": 15
}
[2025-03-19T22:00:25.329Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421625296",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421625329.webm"
}
[2025-03-19T22:00:25.335Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421625296",
  "model": "whisper-1"
}
[2025-03-19T22:00:25.336Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421625296",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421625329.webm"
}
[2025-03-19T22:00:25.336Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421625296",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:00:25.337Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421625337",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:25.337Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421625337",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:25.337Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421625337",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:25.338Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421625338",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:25.338Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421625338",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:25.339Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421625338",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:26.151Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742421626151"
}
[2025-03-19T22:00:26.180Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742421626151",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.180Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742421626151"
}
[2025-03-19T22:00:26.181Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742421626151",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T22:00:26.181Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742421626151",
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.165Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:00:26.183Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742421626151",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T22:00:26.190Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742421626190",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.190Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742421626190"
}
[2025-03-19T22:00:26.191Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742421626190",
  "embeddingSize": 3
}
[2025-03-19T22:00:26.191Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742421626190",
  "topK": 3
}
[2025-03-19T22:00:26.191Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742421626190",
  "matchCount": 2,
  "operationTime": 1
}
[2025-03-19T22:00:26.191Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742421626190",
  "conversationId": "conv-123"
}
[2025-03-19T22:00:26.907Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742421626190",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T22:00:26.912Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742421626190",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T22:00:26.913Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742421626190",
  "operationTime": 1,
  "matchCount": 2
}
[2025-03-19T22:00:27.544Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421627544",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:27.549Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:27.550Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421627544",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:27.550Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421627544",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:00:27.551Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421627551",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:27.552Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421627551",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:27.552Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421627551",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:27.556Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421627555",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:27.556Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421627555",
  "contextLength": 26
}
[2025-03-19T22:00:27.556Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421627555",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:27.557Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421627555",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:27.557Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421627557",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:27.557Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421627557",
  "contextLength": 26
}
[2025-03-19T22:00:27.558Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421627557",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:27.560Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421627557",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:27.561Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421627561",
  "bufferSize": 15
}
[2025-03-19T22:00:27.561Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421627561",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421627561.webm"
}
[2025-03-19T22:00:27.561Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421627561",
  "model": "whisper-1"
}
[2025-03-19T22:00:27.562Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421627561",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421627561.webm"
}
[2025-03-19T22:00:27.562Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421627561",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:00:27.563Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421627563",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:27.563Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421627563",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:27.563Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421627563",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:27.563Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421627563",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:27.564Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421627563",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:27.564Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421627563",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:28.633Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421628633",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:28.637Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:28.638Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421628633",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:28.638Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421628633",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:00:28.640Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421628640",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:28.641Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421628640",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:28.641Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421628640",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:28.644Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421628644",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:28.644Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421628644",
  "contextLength": 26
}
[2025-03-19T22:00:28.644Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421628644",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:28.645Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421628644",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:28.645Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421628645",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:28.645Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421628645",
  "contextLength": 26
}
[2025-03-19T22:00:28.646Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421628645",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:28.646Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421628645",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:28.646Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421628646",
  "bufferSize": 15
}
[2025-03-19T22:00:28.646Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421628646",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421628646.webm"
}
[2025-03-19T22:00:28.647Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421628646",
  "model": "whisper-1"
}
[2025-03-19T22:00:28.647Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421628646",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421628646.webm"
}
[2025-03-19T22:00:28.647Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421628646",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T22:00:28.648Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421628648",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:28.648Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421628648",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:28.649Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421628648",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:28.650Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421628650",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:28.650Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421628650",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:28.651Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421628650",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:00:29.744Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742421629743",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:00:29.747Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:00:29.748Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742421629743",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:00:29.749Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742421629743",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T22:00:29.750Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421629750",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:00:29.750Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421629750",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:00:29.751Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421629750",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:29.753Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421629753",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:29.754Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421629753",
  "contextLength": 26
}
[2025-03-19T22:00:29.754Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421629753",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:29.755Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421629753",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:29.755Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742421629755",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:00:29.755Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742421629755",
  "contextLength": 26
}
[2025-03-19T22:00:29.756Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742421629755",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:00:29.756Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742421629755",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:00:29.756Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742421629756",
  "bufferSize": 15
}
[2025-03-19T22:00:29.757Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742421629756",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421629757.webm"
}
[2025-03-19T22:00:29.757Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742421629756",
  "model": "whisper-1"
}
[2025-03-19T22:00:29.758Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742421629756",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742421629757.webm"
}
[2025-03-19T22:00:29.758Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742421629756",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:00:29.759Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421629759",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:00:29.760Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421629759",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:00:29.760Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421629759",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:00:29.761Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742421629761",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:00:29.761Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742421629761",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:00:29.761Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742421629761",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:07:31.747Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:07:31.756Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-19T22:07:31.757Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1"
}
[2025-03-19T22:07:31.757Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-19T22:07:31.757Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-19T22:07:31.758Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-19T22:07:31.759Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-19T22:07:31.759Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-19T22:14:16.444Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:14:16.494Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-19T22:14:16.495Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1"
}
[2025-03-19T22:14:16.496Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-19T22:14:16.497Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-19T22:14:16.498Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-19T22:14:16.503Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-19T22:14:16.504Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-19T22:14:16.585Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742422456585"
}
[2025-03-19T22:14:16.622Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742422456585",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 20,
  "conversationId": "conv-123"
}
[2025-03-19T22:14:16.623Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742422456585"
}
[2025-03-19T22:14:16.624Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742422456585",
  "conversationId": "conv-123",
  "userMessageLength": 5,
  "assistantMessageLength": 23
}
[2025-03-19T22:14:16.626Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742422456585",
  "conversationId": "conv-123"
}
[2025-03-19T22:14:16.628Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742422456585",
  "duration": 0,
  "answerLength": 23
}
[2025-03-19T22:14:16.668Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422456668",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:16.693Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:16.694Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422456668",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:16.695Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422456668",
  "duration": 1,
  "dimensions": 5
}
[2025-03-19T22:14:16.697Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422456697",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:16.701Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422456697",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:16.702Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422456697",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:16.706Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422456706",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:16.707Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422456706",
  "contextLength": 26
}
[2025-03-19T22:14:16.708Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422456706",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:16.709Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422456706",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:16.711Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422456711",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:16.713Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422456711",
  "contextLength": 26
}
[2025-03-19T22:14:16.715Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422456711",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:16.716Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422456711",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:16.718Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422456717",
  "bufferSize": 15
}
[2025-03-19T22:14:16.724Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422456717",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422456724.webm"
}
[2025-03-19T22:14:16.725Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422456717",
  "model": "whisper-1"
}
[2025-03-19T22:14:16.726Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422456717",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422456724.webm"
}
[2025-03-19T22:14:16.727Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422456717",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:14:16.727Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422456727",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:16.728Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422456727",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:16.730Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422456727",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-19T22:14:16.732Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422456732",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:16.733Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422456732",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:16.734Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422456732",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:14:16.867Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:14:16.880Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742422456880",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T22:14:16.881Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742422456880"
}
[2025-03-19T22:14:16.884Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742422456880",
  "embeddingSize": 3
}
[2025-03-19T22:14:16.885Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742422456880",
  "topK": 3
}
[2025-03-19T22:14:16.889Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742422456880",
  "matchCount": 2,
  "operationTime": 9
}
[2025-03-19T22:14:16.891Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742422456880",
  "conversationId": "conv-123"
}
[2025-03-19T22:14:17.548Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742422456880",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T22:14:17.552Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742422456880",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T22:14:17.553Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742422456880",
  "operationTime": 9,
  "matchCount": 2
}
[2025-03-19T22:14:18.228Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422458228",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:18.233Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:18.234Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422458228",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:18.234Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422458228",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:14:18.236Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422458236",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:18.236Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422458236",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:18.237Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422458236",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:18.240Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422458240",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:18.240Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422458240",
  "contextLength": 26
}
[2025-03-19T22:14:18.241Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422458240",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:18.241Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422458240",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:18.242Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422458242",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:18.242Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422458242",
  "contextLength": 26
}
[2025-03-19T22:14:18.242Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422458242",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:18.243Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422458242",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:18.243Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422458243",
  "bufferSize": 15
}
[2025-03-19T22:14:18.243Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422458243",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422458243.webm"
}
[2025-03-19T22:14:18.244Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422458243",
  "model": "whisper-1"
}
[2025-03-19T22:14:18.244Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422458243",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422458243.webm"
}
[2025-03-19T22:14:18.244Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422458243",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T22:14:18.245Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422458245",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:18.245Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422458245",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:18.245Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422458245",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:14:18.246Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422458246",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:18.246Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422458246",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:18.246Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422458246",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:14:19.326Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422459326",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:19.332Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:19.333Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422459326",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:19.333Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422459326",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:14:19.335Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422459335",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:19.335Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422459335",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:19.336Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422459335",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:19.339Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422459339",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:19.339Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422459339",
  "contextLength": 26
}
[2025-03-19T22:14:19.340Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422459339",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:19.340Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422459339",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:19.340Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422459340",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:19.340Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422459340",
  "contextLength": 26
}
[2025-03-19T22:14:19.341Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422459340",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:19.341Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422459340",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:19.341Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422459341",
  "bufferSize": 15
}
[2025-03-19T22:14:19.342Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422459341",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422459342.webm"
}
[2025-03-19T22:14:19.342Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422459341",
  "model": "whisper-1"
}
[2025-03-19T22:14:19.342Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422459341",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422459342.webm"
}
[2025-03-19T22:14:19.343Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422459341",
  "duration": 0,
  "transcriptLength": 28
}
[2025-03-19T22:14:19.343Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422459343",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:19.343Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422459343",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:19.344Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422459343",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:14:19.344Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422459344",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:19.344Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422459344",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:19.345Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422459344",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:14:20.398Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742422460398",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-19T22:14:20.406Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-19T22:14:20.407Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742422460398",
  "model": "text-embedding-3-small"
}
[2025-03-19T22:14:20.407Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742422460398",
  "duration": 0,
  "dimensions": 5
}
[2025-03-19T22:14:20.409Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422460409",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-19T22:14:20.410Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422460409",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-19T22:14:20.411Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422460409",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:20.421Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422460421",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:20.422Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422460421",
  "contextLength": 26
}
[2025-03-19T22:14:20.424Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422460421",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:20.425Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422460421",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:20.427Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742422460427",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-19T22:14:20.427Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742422460427",
  "contextLength": 26
}
[2025-03-19T22:14:20.433Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742422460427",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-19T22:14:20.434Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742422460427",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-19T22:14:20.435Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742422460435",
  "bufferSize": 15
}
[2025-03-19T22:14:20.435Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742422460435",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422460435.webm"
}
[2025-03-19T22:14:20.437Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742422460435",
  "model": "whisper-1"
}
[2025-03-19T22:14:20.438Z] [DEBUG] [OpenAI] Removing temporary audio file {
  "requestId": "transcribe-1742422460435",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742422460435.webm"
}
[2025-03-19T22:14:20.438Z] [INFO] [OpenAI] Audio transcribed successfully {
  "requestId": "transcribe-1742422460435",
  "duration": 1,
  "transcriptLength": 28
}
[2025-03-19T22:14:20.439Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422460439",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-19T22:14:20.439Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422460439",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-19T22:14:20.439Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422460439",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-19T22:14:20.440Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742422460440",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-19T22:14:20.440Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742422460440",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-19T22:14:20.441Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742422460440",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-19T22:31:15.588Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-19T22:31:15.599Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742423475599",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-19T22:31:15.600Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742423475599"
}
[2025-03-19T22:31:15.600Z] [DEBUG] [RAG] Embedding generated {
  "requestId": "rag-1742423475599",
  "embeddingSize": 3
}
[2025-03-19T22:31:15.600Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742423475599",
  "topK": 3
}
[2025-03-19T22:31:15.601Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742423475599",
  "matchCount": 2,
  "operationTime": 2
}
[2025-03-19T22:31:15.601Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742423475599",
  "conversationId": "conv-123"
}
[2025-03-19T22:31:16.381Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742423475599",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:239:40\n\n  236 });\n  237 \n  238 // Create RAG operation record\n→ 239 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-19T22:31:16.386Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742423475599",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-19T22:31:16.387Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742423475599",
  "operationTime": 2,
  "matchCount": 2
}
[2025-03-20T14:21:10.618Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:21:10.619Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:21:10.929Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:21:30.670Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742480490670"
}
[2025-03-20T14:21:30.670Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742480490670",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:21:30.670Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742480490670"
}
[2025-03-20T14:21:30.670Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742480490670",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:21:30.670Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:21:30.671Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742480490670",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:21:31.825Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742480490670",
  "duration": 1154,
  "dimensions": 1536
}
[2025-03-20T14:21:31.825Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:21:31.827Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:21:31.866Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742480490670",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T14:21:34.989Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742480494989"
}
[2025-03-20T14:21:34.990Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742480494989",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46,
  "conversationId": "none"
}
[2025-03-20T14:21:34.990Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742480494989"
}
[2025-03-20T14:21:34.990Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742480494990",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46
}
[2025-03-20T14:21:34.990Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:21:34.990Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742480494990",
  "contextLength": 46
}
[2025-03-20T14:21:34.990Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742480494990",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T14:21:36.415Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742480494990",
  "duration": 1425,
  "promptTokens": 38,
  "completionTokens": 18,
  "totalTokens": 56,
  "responseLength": 74
}
[2025-03-20T14:21:36.415Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742480494989",
  "duration": 1425,
  "answerLength": 74
}
[2025-03-20T14:21:39.722Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742480499722"
}
[2025-03-20T14:21:39.723Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742480499722",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:21:39.723Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742480499722"
}
[2025-03-20T14:21:39.723Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742480499723",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:21:39.723Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742480499723",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:21:40.713Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742480499723",
  "duration": 990,
  "dimensions": 1536
}
[2025-03-20T14:21:40.714Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:21:40.715Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:21:40.764Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742480499722",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T14:57:33.745Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:57:33.746Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:57:34.185Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T14:57:43.203Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742482663203"
}
[2025-03-20T14:57:43.203Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742482663203",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:57:43.203Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742482663203"
}
[2025-03-20T14:57:43.204Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742482663204",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:57:43.204Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:57:43.204Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742482663204",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:57:44.393Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742482663204",
  "duration": 1189,
  "dimensions": 1536
}
[2025-03-20T14:57:44.394Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:57:44.396Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:57:44.458Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742482663203",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T14:57:48.492Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742482668492"
}
[2025-03-20T14:57:48.492Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742482668492",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46,
  "conversationId": "none"
}
[2025-03-20T14:57:48.492Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742482668492"
}
[2025-03-20T14:57:48.492Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742482668492",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 46
}
[2025-03-20T14:57:48.493Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T14:57:48.493Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742482668492",
  "contextLength": 46
}
[2025-03-20T14:57:48.493Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742482668492",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T14:57:49.310Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742482668492",
  "duration": 817,
  "promptTokens": 38,
  "completionTokens": 19,
  "totalTokens": 57,
  "responseLength": 85
}
[2025-03-20T14:57:49.311Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742482668492",
  "duration": 819,
  "answerLength": 85
}
[2025-03-20T14:57:51.099Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742482671099"
}
[2025-03-20T14:57:51.100Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742482671099",
  "query": "test",
  "topK": 5,
  "source": "test",
  "conversationId": "none"
}
[2025-03-20T14:57:51.100Z] [DEBUG] [API] Calling queryDocuments {
  "requestId": "api-rag-1742482671099"
}
[2025-03-20T14:57:51.101Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742482671101",
  "textLength": 6,
  "textPreview": "test 5"
}
[2025-03-20T14:57:51.101Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742482671101",
  "model": "text-embedding-3-small"
}
[2025-03-20T14:57:51.973Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742482671101",
  "duration": 872,
  "dimensions": 1536
}
[2025-03-20T14:57:51.974Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T14:57:51.974Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": null,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T14:57:52.022Z] [ERROR] [API] Error in RAG service {
  "requestId": "api-rag-1742482671099",
  "error": "You must enter an integer for the `topK` search results to be returned."
}
[2025-03-20T15:25:54.327Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484354327"
}
[2025-03-20T15:25:54.328Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484354327",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:25:54.328Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484354328",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-20T15:25:54.328Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:25:54.328Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484354328",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:25:55.006Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484354328",
  "duration": 678,
  "dimensions": 1536
}
[2025-03-20T15:25:55.006Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:25:55.007Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:25:56.201Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484354327",
  "duration": 1873,
  "matchCount": 5
}
[2025-03-20T15:25:56.447Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484356447"
}
[2025-03-20T15:25:56.447Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484356447",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:25:56.447Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484356447"
}
[2025-03-20T15:25:56.447Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484356447",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-20T15:25:56.447Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:25:56.447Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484356447",
  "contextLength": 1923
}
[2025-03-20T15:25:56.447Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484356447",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:25:58.085Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484356447",
  "duration": 1638,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-20T15:25:58.085Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742484356447",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-20T15:25:58.265Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742484356447",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:25:58.265Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484356447",
  "duration": 1638,
  "answerLength": 34
}
[2025-03-20T15:25:58.411Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742484358411",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-20T15:25:58.412Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:25:58.412Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742484358411",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:25:59.579Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742484358411",
  "duration": 1167,
  "bufferSize": 41280
}
[2025-03-20T15:26:28.542Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484388542"
}
[2025-03-20T15:26:28.543Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484388542",
  "query": "my name is connor",
  "topK": 5,
  "source": "chat",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:26:28.543Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484388543",
  "textLength": 17,
  "textPreview": "my name is connor"
}
[2025-03-20T15:26:28.543Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:26:28.543Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484388543",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:26:29.440Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484388543",
  "duration": 897,
  "dimensions": 1536
}
[2025-03-20T15:26:29.442Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:26:29.443Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:26:29.788Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484388542",
  "duration": 1244,
  "matchCount": 5
}
[2025-03-20T15:26:29.798Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484389797"
}
[2025-03-20T15:26:29.798Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484389797",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432,
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:26:29.799Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484389797"
}
[2025-03-20T15:26:29.799Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484389799",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2432
}
[2025-03-20T15:26:29.799Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484389799",
  "contextLength": 2432
}
[2025-03-20T15:26:29.799Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484389799",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:26:30.275Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484389799",
  "duration": 476,
  "promptTokens": 552,
  "completionTokens": 11,
  "totalTokens": 563,
  "responseLength": 41
}
[2025-03-20T15:26:30.275Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742484389797",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda",
  "userMessageLength": 2521,
  "assistantMessageLength": 41
}
[2025-03-20T15:26:30.484Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742484389797",
  "conversationId": "8f2a20e8-9831-4aa3-b513-146d846f4bda"
}
[2025-03-20T15:26:30.484Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484389797",
  "duration": 476,
  "answerLength": 41
}
[2025-03-20T15:26:33.507Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T15:26:33.508Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T15:26:33.747Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T15:26:43.229Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484403229"
}
[2025-03-20T15:26:43.230Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484403229",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "none"
}
[2025-03-20T15:26:43.230Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484403230",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-20T15:26:43.230Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:26:43.231Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484403230",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:26:44.794Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484403230",
  "duration": 1563,
  "dimensions": 1536
}
[2025-03-20T15:26:44.795Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:26:44.797Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:26:45.167Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484403229",
  "duration": 1937,
  "matchCount": 5
}
[2025-03-20T15:26:45.184Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484405184"
}
[2025-03-20T15:26:45.184Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484405184",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1935,
  "conversationId": "none"
}
[2025-03-20T15:26:45.184Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484405184"
}
[2025-03-20T15:26:45.184Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484405184",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1935
}
[2025-03-20T15:26:45.185Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484405184",
  "contextLength": 1935
}
[2025-03-20T15:26:45.185Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484405184",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:26:46.430Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484405184",
  "duration": 1245,
  "promptTokens": 471,
  "completionTokens": 36,
  "totalTokens": 507,
  "responseLength": 174
}
[2025-03-20T15:26:46.431Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484405184",
  "duration": 1247,
  "answerLength": 174
}
[2025-03-20T15:26:57.560Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484417560"
}
[2025-03-20T15:26:57.561Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484417560",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 28,
  "conversationId": "none"
}
[2025-03-20T15:26:57.562Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484417560"
}
[2025-03-20T15:26:57.562Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484417562",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 28
}
[2025-03-20T15:26:57.562Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484417562",
  "contextLength": 28
}
[2025-03-20T15:26:57.562Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484417562",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:26:58.718Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484417562",
  "duration": 1156,
  "promptTokens": 33,
  "completionTokens": 22,
  "totalTokens": 55,
  "responseLength": 98
}
[2025-03-20T15:26:58.719Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484417560",
  "duration": 1157,
  "answerLength": 98
}
[2025-03-20T15:27:00.846Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484420846"
}
[2025-03-20T15:27:00.847Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484420846",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "none"
}
[2025-03-20T15:27:00.847Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484420847",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-20T15:27:00.848Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484420847",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:27:01.077Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484420847",
  "duration": 229,
  "dimensions": 1536
}
[2025-03-20T15:27:01.078Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:27:01.415Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484420846",
  "duration": 568,
  "matchCount": 5
}
[2025-03-20T15:27:26.759Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742484446759"
}
[2025-03-20T15:27:26.760Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742484446759",
  "query": "hey do you know my name",
  "topK": 5,
  "source": "chat",
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6"
}
[2025-03-20T15:27:26.760Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742484446760",
  "textLength": 23,
  "textPreview": "hey do you know my name"
}
[2025-03-20T15:27:26.761Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:27:26.762Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742484446760",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:27:27.088Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742484446760",
  "duration": 326,
  "dimensions": 1536
}
[2025-03-20T15:27:27.089Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:27:27.091Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:27:27.597Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742484446759",
  "duration": 837,
  "matchCount": 5
}
[2025-03-20T15:27:27.613Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742484447613"
}
[2025-03-20T15:27:27.614Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742484447613",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2400,
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6"
}
[2025-03-20T15:27:27.614Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742484447613"
}
[2025-03-20T15:27:27.615Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742484447615",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2400
}
[2025-03-20T15:27:27.615Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742484447615",
  "contextLength": 2400
}
[2025-03-20T15:27:27.616Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742484447615",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:27:28.254Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742484447615",
  "duration": 638,
  "promptTokens": 614,
  "completionTokens": 16,
  "totalTokens": 630,
  "responseLength": 57
}
[2025-03-20T15:27:28.255Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742484447613",
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6",
  "userMessageLength": 2489,
  "assistantMessageLength": 57
}
[2025-03-20T15:27:28.409Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742484447613",
  "conversationId": "d1637422-e491-4877-8064-a063efd02ea6"
}
[2025-03-20T15:27:28.410Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742484447613",
  "duration": 640,
  "answerLength": 57
}
[2025-03-20T15:27:28.681Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742484448681",
  "textLength": 57,
  "voice": "alloy"
}
[2025-03-20T15:27:28.681Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:27:28.681Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742484448681",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:27:30.881Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742484448681",
  "duration": 2200,
  "bufferSize": 67680
}
[2025-03-20T15:43:44.072Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:43:44.095Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-20T15:43:44.097Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1",
  "userId": "user1"
}
[2025-03-20T15:43:44.100Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-20T15:43:44.100Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-20T15:43:44.101Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-20T15:43:44.104Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-20T15:43:44.105Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-20T15:43:44.115Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.118Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 10,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.119Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:43:44.121Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user1",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.425Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:43:44.443Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.448Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user-123",
  "hasAdditionalContext": false
}
[2025-03-20T15:43:44.454Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:43:44.461Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485424461",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-20T15:43:44.462Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485424461"
}
[2025-03-20T15:43:44.463Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485424461",
  "topK": 3
}
[2025-03-20T15:43:44.468Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485424461",
  "matchCount": 2,
  "operationTime": 6
}
[2025-03-20T15:43:44.469Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485424461",
  "conversationId": "conv-123"
}
[2025-03-20T15:43:44.669Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485424669",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:44.678Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:44.679Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485424669",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:44.680Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485424669",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:43:44.683Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485424683",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:44.684Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485424683",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:44.685Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485424683",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:44.690Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485424690",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:44.691Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485424690",
  "contextLength": 26
}
[2025-03-20T15:43:44.694Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485424690",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:44.695Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485424690",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:44.697Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485424697",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:44.697Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485424697",
  "contextLength": 26
}
[2025-03-20T15:43:44.698Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485424697",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:44.698Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485424697",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:44.699Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485424699",
  "bufferSize": 15
}
[2025-03-20T15:43:44.699Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485424699",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485424699.webm"
}
[2025-03-20T15:43:44.700Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485424699",
  "model": "whisper-1"
}
[2025-03-20T15:43:44.701Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485424699",
  "duration": 1,
  "transcriptionLength": 28
}
[2025-03-20T15:43:44.702Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485424702",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:44.704Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485424702",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:44.707Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485424702",
  "duration": 3,
  "bufferSize": 10
}
[2025-03-20T15:43:44.710Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485424710",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:44.711Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485424710",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:44.711Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485424710",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:45.061Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485425061",
  "textLength": 62,
  "textPreview": "What is machine learning? a36dd6eb-8849-42d2-94cf-..."
}
[2025-03-20T15:43:45.065Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:45.066Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485425061",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:45.163Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742485424461",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:207:40\n\n  204     source: 'user_query',\n  205   }\n  206 });\n→ 207 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-20T15:43:45.167Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485424461",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-20T15:43:45.168Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485424461",
  "operationTime": 6,
  "matchCount": 2
}
[2025-03-20T15:43:45.923Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485425923",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:45.927Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:45.928Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485425923",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:45.928Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485425923",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:43:45.929Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485425929",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:45.930Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485425929",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:45.930Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485425929",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:45.933Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485425933",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:45.934Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485425933",
  "contextLength": 26
}
[2025-03-20T15:43:45.934Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485425933",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:45.936Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485425933",
  "duration": 2,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:45.937Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485425937",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:45.937Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485425937",
  "contextLength": 26
}
[2025-03-20T15:43:45.938Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485425937",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:45.938Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485425937",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:45.939Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485425939",
  "bufferSize": 15
}
[2025-03-20T15:43:45.939Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485425939",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485425939.webm"
}
[2025-03-20T15:43:45.940Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485425939",
  "model": "whisper-1"
}
[2025-03-20T15:43:45.940Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485425939",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:43:45.941Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485425941",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:45.941Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485425941",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:45.941Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485425941",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:45.942Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485425942",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:45.943Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485425942",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:45.945Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485425942",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-20T15:43:46.216Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485425061",
  "duration": 1150,
  "dimensions": 1536
}
[2025-03-20T15:43:46.217Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:43:46.218Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "test",
  "hasAdditionalContext": true
}
[2025-03-20T15:43:47.079Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485427079",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:47.084Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:47.085Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485427079",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:47.086Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485427079",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:43:47.088Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485427088",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:47.088Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485427088",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:47.089Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485427088",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:47.092Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485427092",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:47.093Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485427092",
  "contextLength": 26
}
[2025-03-20T15:43:47.094Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485427092",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:47.094Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485427092",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:47.097Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485427097",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:47.098Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485427097",
  "contextLength": 26
}
[2025-03-20T15:43:47.098Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485427097",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:47.098Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485427097",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:47.099Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485427099",
  "bufferSize": 15
}
[2025-03-20T15:43:47.099Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485427099",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485427099.webm"
}
[2025-03-20T15:43:47.100Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485427099",
  "model": "whisper-1"
}
[2025-03-20T15:43:47.100Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485427099",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:43:47.101Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485427101",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:47.101Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485427101",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:47.101Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485427101",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:47.102Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485427102",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:47.102Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485427102",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:47.102Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485427102",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:48.157Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485428157",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:43:48.163Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:43:48.164Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485428157",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:43:48.164Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485428157",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:43:48.165Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485428165",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:43:48.166Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485428165",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:43:48.166Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485428165",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:48.169Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485428169",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:48.170Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485428169",
  "contextLength": 26
}
[2025-03-20T15:43:48.170Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485428169",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:48.170Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485428169",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:48.171Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485428171",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:43:48.171Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485428171",
  "contextLength": 26
}
[2025-03-20T15:43:48.171Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485428171",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:43:48.171Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485428171",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:43:48.172Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485428172",
  "bufferSize": 15
}
[2025-03-20T15:43:48.172Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485428172",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485428172.webm"
}
[2025-03-20T15:43:48.175Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485428172",
  "model": "whisper-1"
}
[2025-03-20T15:43:48.176Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485428172",
  "duration": 1,
  "transcriptionLength": 28
}
[2025-03-20T15:43:48.177Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485428177",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:43:48.177Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485428177",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:43:48.177Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485428177",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:43:48.178Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485428178",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:43:48.178Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485428178",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:43:48.178Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485428178",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:54.652Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485674652",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:54.673Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:54.675Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485674652",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:54.675Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485674652",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:47:54.676Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485674676",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:54.677Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485674676",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:54.677Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485674676",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:54.681Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485674681",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:54.682Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485674681",
  "contextLength": 26
}
[2025-03-20T15:47:54.683Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485674681",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:54.683Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485674681",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:54.684Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485674684",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:54.684Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485674684",
  "contextLength": 26
}
[2025-03-20T15:47:54.684Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485674684",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:54.684Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485674684",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:54.685Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485674685",
  "bufferSize": 15
}
[2025-03-20T15:47:54.685Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485674685",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485674685.webm"
}
[2025-03-20T15:47:54.686Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485674685",
  "model": "whisper-1"
}
[2025-03-20T15:47:54.686Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485674685",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:47:54.688Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485674688",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:54.689Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485674688",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:54.690Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485674688",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-20T15:47:54.693Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485674693",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:54.694Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485674693",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:54.696Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485674693",
  "duration": 2,
  "bufferSize": 10
}
[2025-03-20T15:47:54.947Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:47:54.957Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:54.959Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user-123",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:54.960Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:47:54.962Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485674962",
  "query": "old test query",
  "topK": 3,
  "source": "test",
  "conversationId": "conv-123"
}
[2025-03-20T15:47:54.963Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485674962"
}
[2025-03-20T15:47:54.964Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485674962",
  "topK": 3
}
[2025-03-20T15:47:54.966Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485674962",
  "matchCount": 2,
  "operationTime": 4
}
[2025-03-20T15:47:54.966Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485674962",
  "conversationId": "conv-123"
}
[2025-03-20T15:47:54.977Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:47:54.988Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-20T15:47:54.989Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 10,
  "source": "source1",
  "userId": "user1"
}
[2025-03-20T15:47:54.990Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 10,
  "source": "source2"
}
[2025-03-20T15:47:54.991Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-20T15:47:54.992Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-20T15:47:55.016Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-20T15:47:55.017Z] [ERROR] [Pinecone] Missing PINECONE_INDEX environment variable 
[2025-03-20T15:47:55.034Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:55.037Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 10,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:55.037Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": true
}
[2025-03-20T15:47:55.038Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "user1",
  "hasAdditionalContext": false
}
[2025-03-20T15:47:55.614Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485675614",
  "textLength": 49,
  "textPreview": "What is machine learning? Test additional context"
}
[2025-03-20T15:47:55.624Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:55.625Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485675614",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:55.836Z] [ERROR] [RAG] Error logging RAG operation {
  "requestId": "rag-1742485674962",
  "conversationId": "conv-123",
  "error": "\nInvalid `any).RAGOperation.create()` invocation in\n/Users/connorholly/Downloads/purpose/purpose-proto-nobackend/src/lib/services/pinecone.ts:207:40\n\n  204     source: 'user_query',\n  205   }\n  206 });\n→ 207 await (tx as any).RAGOperation.create(\nForeign key constraint violated: `RAGOperation_conversationId_fkey (index)`"
}
[2025-03-20T15:47:55.840Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485674962",
  "contextLength": 48,
  "contextStart": "This is test document 1\n\nThis is test document 2..."
}
[2025-03-20T15:47:55.841Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485674962",
  "operationTime": 4,
  "matchCount": 2
}
[2025-03-20T15:47:56.563Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485676563",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:56.568Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:56.569Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485676563",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:56.569Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485676563",
  "duration": 0,
  "dimensions": 5
}
[2025-03-20T15:47:56.571Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485676571",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:56.571Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485676571",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:56.571Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485676571",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:56.575Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485676575",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:56.575Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485676575",
  "contextLength": 26
}
[2025-03-20T15:47:56.575Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485676575",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:56.576Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485676575",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:56.576Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485676576",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:56.576Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485676576",
  "contextLength": 26
}
[2025-03-20T15:47:56.577Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485676576",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:56.577Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485676576",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:56.577Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485676577",
  "bufferSize": 15
}
[2025-03-20T15:47:56.578Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485676577",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485676578.webm"
}
[2025-03-20T15:47:56.578Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485676577",
  "model": "whisper-1"
}
[2025-03-20T15:47:56.578Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485676577",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:47:56.579Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485676579",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:56.579Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485676579",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:56.579Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485676579",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:56.580Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485676580",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:56.580Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485676580",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:56.581Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485676580",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-20T15:47:57.043Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485675614",
  "duration": 1418,
  "dimensions": 1536
}
[2025-03-20T15:47:57.044Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T15:47:57.045Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42",
  "hasAdditionalContext": true
}
[2025-03-20T15:47:57.638Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485677638",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:57.642Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:57.643Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485677638",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:57.644Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485677638",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:47:57.645Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485677645",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:57.646Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485677645",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:57.646Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485677645",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:57.649Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485677649",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:57.650Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485677649",
  "contextLength": 26
}
[2025-03-20T15:47:57.650Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485677649",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:57.651Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485677649",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:57.651Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485677651",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:57.652Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485677651",
  "contextLength": 26
}
[2025-03-20T15:47:57.652Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485677651",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:57.652Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485677651",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:57.653Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485677653",
  "bufferSize": 15
}
[2025-03-20T15:47:57.653Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485677653",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485677653.webm"
}
[2025-03-20T15:47:57.653Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485677653",
  "model": "whisper-1"
}
[2025-03-20T15:47:57.654Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485677653",
  "duration": 1,
  "transcriptionLength": 28
}
[2025-03-20T15:47:57.654Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485677654",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:57.654Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485677654",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:57.655Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485677654",
  "duration": 1,
  "bufferSize": 10
}
[2025-03-20T15:47:57.655Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485677655",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:57.656Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485677655",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:57.656Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485677655",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:57.859Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485677859",
  "query": "What is machine learning?",
  "topK": 5,
  "source": "test",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:47:57.860Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485677859"
}
[2025-03-20T15:47:57.860Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485677860",
  "textLength": 25,
  "textPreview": "What is machine learning?"
}
[2025-03-20T15:47:57.860Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485677860",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:58.734Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485678734",
  "textLength": 33,
  "textPreview": "This is a test text for embedding"
}
[2025-03-20T15:47:58.738Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T15:47:58.738Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485678734",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:47:58.739Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485678734",
  "duration": 1,
  "dimensions": 5
}
[2025-03-20T15:47:58.740Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485678740",
  "messageCount": 1,
  "hasContext": false,
  "contextLength": 0
}
[2025-03-20T15:47:58.741Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485678740",
  "model": "gpt-4o",
  "messageCount": 1
}
[2025-03-20T15:47:58.741Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485678740",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:58.744Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485678744",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:58.745Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485678744",
  "contextLength": 26
}
[2025-03-20T15:47:58.745Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485678744",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:58.746Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485678744",
  "duration": 1,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:58.746Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742485678746",
  "messageCount": 2,
  "hasContext": true,
  "contextLength": 26
}
[2025-03-20T15:47:58.746Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742485678746",
  "contextLength": 26
}
[2025-03-20T15:47:58.747Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742485678746",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-20T15:47:58.747Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742485678746",
  "duration": 0,
  "promptTokens": 100,
  "completionTokens": 50,
  "totalTokens": 150,
  "responseLength": 23
}
[2025-03-20T15:47:58.747Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742485678747",
  "bufferSize": 15
}
[2025-03-20T15:47:58.748Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742485678747",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/purpose-test/audio-1742485678748.webm"
}
[2025-03-20T15:47:58.748Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742485678747",
  "model": "whisper-1"
}
[2025-03-20T15:47:58.749Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742485678747",
  "duration": 0,
  "transcriptionLength": 28
}
[2025-03-20T15:47:58.750Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485678750",
  "textLength": 30,
  "voice": "alloy"
}
[2025-03-20T15:47:58.751Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485678750",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-20T15:47:58.751Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485678750",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:58.752Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742485678752",
  "textLength": 30,
  "voice": "nova"
}
[2025-03-20T15:47:58.752Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742485678752",
  "model": "tts-1",
  "voice": "nova"
}
[2025-03-20T15:47:58.752Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742485678752",
  "duration": 0,
  "bufferSize": 10
}
[2025-03-20T15:47:59.495Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485677860",
  "duration": 1635,
  "dimensions": 1536
}
[2025-03-20T15:47:59.496Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485677859",
  "topK": 5
}
[2025-03-20T15:47:59.592Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485677859",
  "matchCount": 5,
  "operationTime": 1733
}
[2025-03-20T15:47:59.593Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485677859",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:00.070Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485677859",
  "contextLength": 2190,
  "contextStart": "Learn about powerful built-in tools like web search and file search.\n\n](/docs/guides/tools)[\n\nFuncti..."
}
[2025-03-20T15:48:00.071Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485677859",
  "operationTime": 1733,
  "matchCount": 5
}
[2025-03-20T15:48:01.264Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485681264",
  "textLength": 55,
  "textPreview": "How does a neural network work? Test additional co..."
}
[2025-03-20T15:48:01.264Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485681264",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:01.699Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485681264",
  "duration": 435,
  "dimensions": 1536
}
[2025-03-20T15:48:01.700Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42",
  "hasAdditionalContext": true
}
[2025-03-20T15:48:01.910Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485681910",
  "query": "How does a neural network work?",
  "topK": 5,
  "source": "test",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:01.910Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485681910"
}
[2025-03-20T15:48:01.910Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485681910",
  "textLength": 31,
  "textPreview": "How does a neural network work?"
}
[2025-03-20T15:48:01.910Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485681910",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:02.717Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485681910",
  "duration": 807,
  "dimensions": 1536
}
[2025-03-20T15:48:02.719Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485681910",
  "topK": 5
}
[2025-03-20T15:48:02.795Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485681910",
  "matchCount": 5,
  "operationTime": 885
}
[2025-03-20T15:48:02.795Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485681910",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:03.080Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485681910",
  "contextLength": 2425,
  "contextStart": "- OpenAI processes the request and generates a response\n   - Response is returned to the backend\n\n4...."
}
[2025-03-20T15:48:03.081Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485681910",
  "operationTime": 885,
  "matchCount": 5
}
[2025-03-20T15:48:04.180Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485684180",
  "textLength": 59,
  "textPreview": "Tell me about large language models Test additiona..."
}
[2025-03-20T15:48:04.180Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485684180",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:04.764Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485684180",
  "duration": 584,
  "dimensions": 1536
}
[2025-03-20T15:48:04.765Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42",
  "hasAdditionalContext": true
}
[2025-03-20T15:48:04.972Z] [INFO] [RAG] Starting RAG query {
  "requestId": "rag-1742485684972",
  "query": "Tell me about large language models",
  "topK": 5,
  "source": "test",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:04.972Z] [DEBUG] [RAG] Generating embedding for query {
  "requestId": "rag-1742485684972"
}
[2025-03-20T15:48:04.973Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742485684972",
  "textLength": 35,
  "textPreview": "Tell me about large language models"
}
[2025-03-20T15:48:04.973Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742485684972",
  "model": "text-embedding-3-small"
}
[2025-03-20T15:48:05.796Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742485684972",
  "duration": 823,
  "dimensions": 1536
}
[2025-03-20T15:48:05.797Z] [DEBUG] [RAG] Querying Pinecone {
  "requestId": "rag-1742485684972",
  "topK": 5
}
[2025-03-20T15:48:05.871Z] [INFO] [RAG] Pinecone query complete {
  "requestId": "rag-1742485684972",
  "matchCount": 5,
  "operationTime": 899
}
[2025-03-20T15:48:05.871Z] [DEBUG] [RAG] Logging RAG operation to database {
  "requestId": "rag-1742485684972",
  "conversationId": "69a7d8ac-4f02-4d28-b1ce-751113ec9c42"
}
[2025-03-20T15:48:06.143Z] [DEBUG] [RAG] Generated context {
  "requestId": "rag-1742485684972",
  "contextLength": 2409,
  "contextStart": "org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin..."
}
[2025-03-20T15:48:06.144Z] [INFO] [RAG] RAG query complete {
  "requestId": "rag-1742485684972",
  "operationTime": 899,
  "matchCount": 5
}
[2025-03-20T17:37:22.398Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T17:37:22.399Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T17:37:23.462Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-20T17:38:43.340Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742492323340"
}
[2025-03-20T17:38:43.341Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742492323340",
  "query": "test",
  "topK": 5,
  "source": "chat",
  "conversationId": "none"
}
[2025-03-20T17:38:43.341Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742492323341",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-20T17:38:43.341Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-20T17:38:43.341Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742492323341",
  "model": "text-embedding-3-small"
}
[2025-03-20T17:38:44.538Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742492323341",
  "duration": 1196,
  "dimensions": 1536
}
[2025-03-20T17:38:44.538Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-20T17:38:44.540Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-20T17:38:47.159Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742492323340",
  "duration": 3817,
  "matchCount": 5
}
[2025-03-21T14:06:47.131Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566007131",
  "bufferSize": 40961
}
[2025-03-21T14:06:47.134Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:47.135Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566007131",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566007135.webm"
}
[2025-03-21T14:06:47.135Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566007131",
  "model": "whisper-1"
}
[2025-03-21T14:06:48.666Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566007131",
  "duration": 1531,
  "transcriptionLength": 34
}
[2025-03-21T14:06:55.593Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742566015593"
}
[2025-03-21T14:06:55.593Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742566015593",
  "query": "Testing, testing, can you hear me?",
  "topK": 5,
  "source": "chat",
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67"
}
[2025-03-21T14:06:55.593Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742566015593",
  "textLength": 34,
  "textPreview": "Testing, testing, can you hear me?"
}
[2025-03-21T14:06:55.593Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:55.593Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742566015593",
  "model": "text-embedding-3-small"
}
[2025-03-21T14:06:56.461Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742566015593",
  "duration": 868,
  "dimensions": 1536
}
[2025-03-21T14:06:56.462Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T14:06:56.464Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-21T14:06:57.468Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742566015593",
  "duration": 1875,
  "matchCount": 5
}
[2025-03-21T14:06:57.653Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742566017653"
}
[2025-03-21T14:06:57.653Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742566017653",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2456,
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67"
}
[2025-03-21T14:06:57.653Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742566017653"
}
[2025-03-21T14:06:57.653Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742566017653",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2456
}
[2025-03-21T14:06:57.653Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:57.654Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742566017653",
  "contextLength": 2456
}
[2025-03-21T14:06:57.654Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742566017653",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T14:06:59.108Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742566017653",
  "duration": 1454,
  "promptTokens": 646,
  "completionTokens": 24,
  "totalTokens": 670,
  "responseLength": 86
}
[2025-03-21T14:06:59.109Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742566017653",
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67",
  "userMessageLength": 2545,
  "assistantMessageLength": 86
}
[2025-03-21T14:06:59.369Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742566017653",
  "conversationId": "780d67fb-b38b-4582-9b41-14048ea96f67"
}
[2025-03-21T14:06:59.369Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742566017653",
  "duration": 1456,
  "answerLength": 86
}
[2025-03-21T14:06:59.565Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742566019565",
  "textLength": 86,
  "voice": "alloy"
}
[2025-03-21T14:06:59.566Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:06:59.566Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742566019565",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T14:07:02.302Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742566019565",
  "duration": 2736,
  "bufferSize": 102720
}
[2025-03-21T14:13:06.786Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566386786",
  "bufferSize": 29576
}
[2025-03-21T14:13:06.787Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:13:06.787Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566386786",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566386787.webm"
}
[2025-03-21T14:13:06.788Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566386786",
  "model": "whisper-1"
}
[2025-03-21T14:13:07.940Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566386786",
  "duration": 1152,
  "transcriptionLength": 26
}
[2025-03-21T14:14:34.587Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566474587",
  "bufferSize": 40081
}
[2025-03-21T14:14:34.588Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:14:34.588Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566474587",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566474588.webm"
}
[2025-03-21T14:14:34.588Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566474587",
  "model": "whisper-1"
}
[2025-03-21T14:14:35.594Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566474587",
  "duration": 1006,
  "transcriptionLength": 35
}
[2025-03-21T14:14:50.154Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566490154",
  "bufferSize": 34415
}
[2025-03-21T14:14:50.154Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566490154",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566490154.webm"
}
[2025-03-21T14:14:50.155Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566490154",
  "model": "whisper-1"
}
[2025-03-21T14:14:51.361Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566490154",
  "duration": 1206,
  "transcriptionLength": 19
}
[2025-03-21T14:15:50.248Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566550248",
  "bufferSize": 25460
}
[2025-03-21T14:15:50.249Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:15:50.249Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566550248",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566550249.webm"
}
[2025-03-21T14:15:50.249Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566550248",
  "model": "whisper-1"
}
[2025-03-21T14:15:51.776Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566550248",
  "duration": 1527,
  "transcriptionLength": 5
}
[2025-03-21T14:17:47.470Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566667470",
  "bufferSize": 50858
}
[2025-03-21T14:17:47.471Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:17:47.472Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566667470",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566667472.webm"
}
[2025-03-21T14:17:47.472Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566667470",
  "model": "whisper-1"
}
[2025-03-21T14:17:49.334Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566667470",
  "duration": 1862,
  "transcriptionLength": 67
}
[2025-03-21T14:17:50.579Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566670579",
  "bufferSize": 15713
}
[2025-03-21T14:17:50.580Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566670579",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566670580.webm"
}
[2025-03-21T14:17:50.580Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566670579",
  "model": "whisper-1"
}
[2025-03-21T14:17:51.381Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566670579",
  "duration": 801,
  "transcriptionLength": 21
}
[2025-03-21T14:20:25.747Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742566825747",
  "bufferSize": 46805
}
[2025-03-21T14:20:25.748Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:20:25.748Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742566825747",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742566825748.webm"
}
[2025-03-21T14:20:25.749Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742566825747",
  "model": "whisper-1"
}
[2025-03-21T14:20:26.828Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742566825747",
  "duration": 1079,
  "transcriptionLength": 37
}
[2025-03-21T14:20:45.601Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:45.602Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:46.102Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:53.301Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:53.303Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:20:53.474Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:30:07.432Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742567407432"
}
[2025-03-21T14:30:07.432Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742567407432",
  "query": "hello",
  "topK": 5,
  "source": "chat",
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33"
}
[2025-03-21T14:30:07.433Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742567407433",
  "textLength": 5,
  "textPreview": "hello"
}
[2025-03-21T14:30:07.433Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:30:07.433Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742567407433",
  "model": "text-embedding-3-small"
}
[2025-03-21T14:30:08.076Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742567407433",
  "duration": 643,
  "dimensions": 1536
}
[2025-03-21T14:30:08.077Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T14:30:08.078Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-21T14:30:08.861Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742567407432",
  "duration": 1429,
  "matchCount": 5
}
[2025-03-21T14:30:09.615Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742567409615"
}
[2025-03-21T14:30:09.615Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742567409615",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1909,
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33"
}
[2025-03-21T14:30:09.615Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742567409615"
}
[2025-03-21T14:30:09.616Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742567409616",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1909
}
[2025-03-21T14:30:09.616Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:30:09.616Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742567409616",
  "contextLength": 1909
}
[2025-03-21T14:30:09.616Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742567409616",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T14:30:10.088Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742567409616",
  "duration": 472,
  "promptTokens": 485,
  "completionTokens": 10,
  "totalTokens": 495,
  "responseLength": 34
}
[2025-03-21T14:30:10.089Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742567409615",
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33",
  "userMessageLength": 1998,
  "assistantMessageLength": 34
}
[2025-03-21T14:30:10.273Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742567409615",
  "conversationId": "50ff60db-b545-46eb-899f-d5750e04ad33"
}
[2025-03-21T14:30:10.273Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742567409615",
  "duration": 473,
  "answerLength": 34
}
[2025-03-21T14:30:10.795Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742567410795",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-21T14:30:10.795Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T14:30:10.795Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742567410795",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T14:30:11.822Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742567410795",
  "duration": 1027,
  "bufferSize": 35520
}
[2025-03-21T14:30:15.362Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:30:15.362Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T14:30:15.652Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T15:12:52.099Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742569972099"
}
[2025-03-21T15:12:52.100Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742569972099",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf"
}
[2025-03-21T15:12:52.100Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742569972100",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-21T15:12:52.100Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:12:52.101Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742569972100",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:12:52.909Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742569972100",
  "duration": 808,
  "dimensions": 1536
}
[2025-03-21T15:12:52.909Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:12:52.910Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-21T15:12:54.061Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742569972099",
  "duration": 1960,
  "matchCount": 5
}
[2025-03-21T15:12:54.204Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742569974204"
}
[2025-03-21T15:12:54.204Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742569974204",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf"
}
[2025-03-21T15:12:54.204Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742569974204"
}
[2025-03-21T15:12:54.204Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742569974204",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-21T15:12:54.204Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:12:54.204Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742569974204",
  "contextLength": 1923
}
[2025-03-21T15:12:54.204Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742569974204",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:12:55.689Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742569974204",
  "duration": 1485,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-21T15:12:55.689Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742569974204",
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-21T15:12:55.975Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742569974204",
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf"
}
[2025-03-21T15:12:55.975Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742569974204",
  "duration": 1485,
  "answerLength": 34
}
[2025-03-21T15:12:56.213Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742569976213",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-21T15:12:56.213Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:12:56.213Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742569976213",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T15:12:57.726Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742569976213",
  "duration": 1513,
  "bufferSize": 41280
}
[2025-03-21T15:13:52.961Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742570032961"
}
[2025-03-21T15:13:52.962Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742570032961",
  "query": "hey whats my nae",
  "topK": 5,
  "source": "chat",
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf"
}
[2025-03-21T15:13:52.962Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742570032962",
  "textLength": 16,
  "textPreview": "hey whats my nae"
}
[2025-03-21T15:13:52.962Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742570032962",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:13:53.687Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742570032962",
  "duration": 724,
  "dimensions": 1536
}
[2025-03-21T15:13:53.687Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:13:53.687Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false
}
[2025-03-21T15:13:54.225Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742570032961",
  "duration": 1263,
  "matchCount": 5
}
[2025-03-21T15:13:54.232Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742570034232"
}
[2025-03-21T15:13:54.232Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742570034232",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2402,
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf"
}
[2025-03-21T15:13:54.232Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742570034232"
}
[2025-03-21T15:13:54.232Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742570034232",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2402
}
[2025-03-21T15:13:54.232Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742570034232",
  "contextLength": 2402
}
[2025-03-21T15:13:54.232Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742570034232",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:13:55.311Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742570034232",
  "duration": 1079,
  "promptTokens": 582,
  "completionTokens": 32,
  "totalTokens": 614,
  "responseLength": 119
}
[2025-03-21T15:13:55.312Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742570034232",
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf",
  "userMessageLength": 2491,
  "assistantMessageLength": 119
}
[2025-03-21T15:13:55.504Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742570034232",
  "conversationId": "8113c784-d2dc-41ff-91c2-f2dcc964c6cf"
}
[2025-03-21T15:13:55.504Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742570034232",
  "duration": 1080,
  "answerLength": 119
}
[2025-03-21T15:31:34.579Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571094579"
}
[2025-03-21T15:31:34.580Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571094579",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "5618e108-9d9f-41e7-9885-2282bfd9a997"
}
[2025-03-21T15:31:34.580Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571094580",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-21T15:31:34.580Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:31:34.581Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571094580",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:31:35.971Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571094580",
  "duration": 1390,
  "dimensions": 1536
}
[2025-03-21T15:31:35.971Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:31:35.972Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false
}
[2025-03-21T15:31:36.712Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571096712",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:31:36.713Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571096712",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:31:37.240Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571096712",
  "duration": 527,
  "dimensions": 1536
}
[2025-03-21T15:31:37.240Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571097240",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:31:37.241Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571097240",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:31:39.575Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571097240",
  "duration": 2334,
  "dimensions": 1536
}
[2025-03-21T15:31:39.576Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571094579",
  "duration": 4996,
  "matchCount": 5
}
[2025-03-21T15:31:39.777Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571099777"
}
[2025-03-21T15:31:39.778Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571099777",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "5618e108-9d9f-41e7-9885-2282bfd9a997"
}
[2025-03-21T15:31:39.778Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571099777"
}
[2025-03-21T15:31:39.778Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571099778",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-21T15:31:39.778Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:31:39.778Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571099778",
  "contextLength": 1923
}
[2025-03-21T15:31:39.778Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571099778",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:31:40.605Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571099778",
  "duration": 827,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-21T15:31:40.605Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571099777",
  "conversationId": "5618e108-9d9f-41e7-9885-2282bfd9a997",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-21T15:31:40.840Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571099777",
  "conversationId": "5618e108-9d9f-41e7-9885-2282bfd9a997"
}
[2025-03-21T15:31:40.840Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571099777",
  "duration": 827,
  "answerLength": 34
}
[2025-03-21T15:31:59.352Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571119352"
}
[2025-03-21T15:31:59.353Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571119352",
  "query": "hey my name is connor. did you know that",
  "topK": 5,
  "source": "chat",
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee"
}
[2025-03-21T15:31:59.354Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571119354",
  "textLength": 40,
  "textPreview": "hey my name is connor. did you know that"
}
[2025-03-21T15:31:59.354Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:31:59.354Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571119354",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:31:59.808Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571119354",
  "duration": 454,
  "dimensions": 1536
}
[2025-03-21T15:31:59.808Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:31:59.808Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false
}
[2025-03-21T15:32:00.335Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571120335",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:32:00.335Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571120335",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:00.543Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571120335",
  "duration": 208,
  "dimensions": 1536
}
[2025-03-21T15:32:00.543Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571120543",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:32:00.544Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571120543",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:01.270Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571120543",
  "duration": 726,
  "dimensions": 1536
}
[2025-03-21T15:32:01.271Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571119352",
  "duration": 1917,
  "matchCount": 5
}
[2025-03-21T15:32:01.281Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571121281"
}
[2025-03-21T15:32:01.281Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571121281",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1961,
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee"
}
[2025-03-21T15:32:01.282Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571121281"
}
[2025-03-21T15:32:01.282Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571121282",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1961
}
[2025-03-21T15:32:01.282Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571121282",
  "contextLength": 1961
}
[2025-03-21T15:32:01.282Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571121282",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:32:01.982Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571121282",
  "duration": 700,
  "promptTokens": 493,
  "completionTokens": 18,
  "totalTokens": 511,
  "responseLength": 72
}
[2025-03-21T15:32:01.982Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571121281",
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee",
  "userMessageLength": 2050,
  "assistantMessageLength": 72
}
[2025-03-21T15:32:02.178Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571121281",
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee"
}
[2025-03-21T15:32:02.179Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571121281",
  "duration": 700,
  "answerLength": 72
}
[2025-03-21T15:32:02.349Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742571122349",
  "textLength": 72,
  "voice": "alloy"
}
[2025-03-21T15:32:02.350Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:32:02.350Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742571122349",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T15:32:03.747Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742571122349",
  "duration": 1397,
  "bufferSize": 86880
}
[2025-03-21T15:32:07.876Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571127876"
}
[2025-03-21T15:32:07.876Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571127876",
  "query": "no not really",
  "topK": 5,
  "source": "chat",
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee"
}
[2025-03-21T15:32:07.876Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571127876",
  "textLength": 13,
  "textPreview": "no not really"
}
[2025-03-21T15:32:07.876Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571127876",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:08.739Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571127876",
  "duration": 863,
  "dimensions": 1536
}
[2025-03-21T15:32:08.739Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:32:08.740Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false
}
[2025-03-21T15:32:09.276Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571129276",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:32:09.276Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571129276",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:09.713Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571129276",
  "duration": 437,
  "dimensions": 1536
}
[2025-03-21T15:32:09.714Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571129714",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:32:09.714Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571129714",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:10.362Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571129714",
  "duration": 648,
  "dimensions": 1536
}
[2025-03-21T15:32:10.362Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571127876",
  "duration": 2486,
  "matchCount": 5
}
[2025-03-21T15:32:10.371Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571130371"
}
[2025-03-21T15:32:10.371Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571130371",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1926,
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee"
}
[2025-03-21T15:32:10.371Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571130371"
}
[2025-03-21T15:32:10.371Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571130371",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1926
}
[2025-03-21T15:32:10.371Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571130371",
  "contextLength": 1926
}
[2025-03-21T15:32:10.371Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571130371",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:32:11.606Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571130371",
  "duration": 1235,
  "promptTokens": 457,
  "completionTokens": 35,
  "totalTokens": 492,
  "responseLength": 173
}
[2025-03-21T15:32:11.607Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571130371",
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee",
  "userMessageLength": 2015,
  "assistantMessageLength": 173
}
[2025-03-21T15:32:11.768Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571130371",
  "conversationId": "c6129746-7aea-44ea-8408-4341c1bcdfee"
}
[2025-03-21T15:32:11.768Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571130371",
  "duration": 1236,
  "answerLength": 173
}
[2025-03-21T15:32:31.074Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571151074"
}
[2025-03-21T15:32:31.075Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571151074",
  "query": "do you know my name",
  "topK": 5,
  "source": "chat",
  "conversationId": "28f4b85f-e4b2-49ad-9a5a-73ca88cc6ed4"
}
[2025-03-21T15:32:31.075Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571151075",
  "textLength": 19,
  "textPreview": "do you know my name"
}
[2025-03-21T15:32:31.075Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571151075",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:31.735Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571151075",
  "duration": 660,
  "dimensions": 1536
}
[2025-03-21T15:32:31.735Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false
}
[2025-03-21T15:32:32.295Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571152295",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:32:32.295Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571152295",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:32.779Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571152295",
  "duration": 484,
  "dimensions": 1536
}
[2025-03-21T15:32:32.779Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571152779",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:32:32.779Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571152779",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:32:33.346Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571152779",
  "duration": 567,
  "dimensions": 1536
}
[2025-03-21T15:32:33.346Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571151074",
  "duration": 2271,
  "matchCount": 5
}
[2025-03-21T15:32:33.352Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571153352"
}
[2025-03-21T15:32:33.352Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571153352",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2414,
  "conversationId": "28f4b85f-e4b2-49ad-9a5a-73ca88cc6ed4"
}
[2025-03-21T15:32:33.352Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571153352"
}
[2025-03-21T15:32:33.352Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571153352",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2414
}
[2025-03-21T15:32:33.352Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571153352",
  "contextLength": 2414
}
[2025-03-21T15:32:33.352Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571153352",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:32:34.153Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571153352",
  "duration": 801,
  "promptTokens": 607,
  "completionTokens": 25,
  "totalTokens": 632,
  "responseLength": 108
}
[2025-03-21T15:32:34.153Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571153352",
  "conversationId": "28f4b85f-e4b2-49ad-9a5a-73ca88cc6ed4",
  "userMessageLength": 2503,
  "assistantMessageLength": 108
}
[2025-03-21T15:32:34.390Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571153352",
  "conversationId": "28f4b85f-e4b2-49ad-9a5a-73ca88cc6ed4"
}
[2025-03-21T15:32:34.390Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571153352",
  "duration": 801,
  "answerLength": 108
}
[2025-03-21T15:32:47.327Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T15:32:47.327Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T15:32:47.608Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-21T15:33:45.086Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571225086"
}
[2025-03-21T15:33:45.086Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571225086",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "d426ff00-ab5c-4edd-b38c-f543936c86d4"
}
[2025-03-21T15:33:45.086Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571225086",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-21T15:33:45.086Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:33:45.087Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571225086",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:33:45.860Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571225086",
  "duration": 773,
  "dimensions": 1536
}
[2025-03-21T15:33:45.860Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:33:45.861Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false
}
[2025-03-21T15:33:46.435Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571226435",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:33:46.436Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571226435",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:33:46.925Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571226435",
  "duration": 489,
  "dimensions": 1536
}
[2025-03-21T15:33:46.926Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571226926",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:33:46.926Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571226926",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:33:47.396Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571226926",
  "duration": 470,
  "dimensions": 1536
}
[2025-03-21T15:33:47.396Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571225086",
  "duration": 2310,
  "matchCount": 5
}
[2025-03-21T15:33:47.618Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571227618"
}
[2025-03-21T15:33:47.619Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571227618",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "d426ff00-ab5c-4edd-b38c-f543936c86d4"
}
[2025-03-21T15:33:47.619Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571227618"
}
[2025-03-21T15:33:47.619Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571227619",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-21T15:33:47.619Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:33:47.619Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571227619",
  "contextLength": 1923
}
[2025-03-21T15:33:47.619Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571227619",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:33:48.036Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571227619",
  "duration": 417,
  "promptTokens": 487,
  "completionTokens": 10,
  "totalTokens": 497,
  "responseLength": 34
}
[2025-03-21T15:33:48.037Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571227618",
  "conversationId": "d426ff00-ab5c-4edd-b38c-f543936c86d4",
  "userMessageLength": 2012,
  "assistantMessageLength": 34
}
[2025-03-21T15:33:48.189Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571227618",
  "conversationId": "d426ff00-ab5c-4edd-b38c-f543936c86d4"
}
[2025-03-21T15:33:48.189Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571227618",
  "duration": 418,
  "answerLength": 34
}
[2025-03-21T15:33:48.529Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742571228529",
  "textLength": 34,
  "voice": "alloy"
}
[2025-03-21T15:33:48.529Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:33:48.529Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742571228529",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T15:33:49.791Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742571228529",
  "duration": 1262,
  "bufferSize": 38880
}
[2025-03-21T15:33:56.998Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571236998"
}
[2025-03-21T15:33:56.998Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571236998",
  "query": "not sure. how are you doing",
  "topK": 5,
  "source": "chat",
  "conversationId": "d426ff00-ab5c-4edd-b38c-f543936c86d4"
}
[2025-03-21T15:33:56.999Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571236999",
  "textLength": 27,
  "textPreview": "not sure. how are you doing"
}
[2025-03-21T15:33:56.999Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571236999",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:33:57.903Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571236999",
  "duration": 904,
  "dimensions": 1536
}
[2025-03-21T15:33:57.903Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:33:57.903Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false
}
[2025-03-21T15:33:58.442Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571238442",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:33:58.442Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571238442",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:33:58.855Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571238442",
  "duration": 412,
  "dimensions": 1536
}
[2025-03-21T15:33:58.855Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571238855",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:33:58.855Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571238855",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:33:59.139Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571238855",
  "duration": 284,
  "dimensions": 1536
}
[2025-03-21T15:33:59.140Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571236998",
  "duration": 2142,
  "matchCount": 5
}
[2025-03-21T15:34:13.966Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571253966"
}
[2025-03-21T15:34:13.966Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571253966",
  "query": "hey there whats up with you",
  "topK": 5,
  "source": "chat",
  "conversationId": "103b8d24-a651-44fb-9d78-eb13659afc6a"
}
[2025-03-21T15:34:13.966Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571253966",
  "textLength": 27,
  "textPreview": "hey there whats up with you"
}
[2025-03-21T15:34:13.966Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:34:13.967Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571253966",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:34:14.556Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571253966",
  "duration": 589,
  "dimensions": 1536
}
[2025-03-21T15:34:14.557Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:34:14.557Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false
}
[2025-03-21T15:34:15.076Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571255076",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:34:15.076Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571255076",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:34:15.369Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571255076",
  "duration": 293,
  "dimensions": 1536
}
[2025-03-21T15:34:15.371Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571255371",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:34:15.371Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571255371",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:34:16.357Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571255371",
  "duration": 986,
  "dimensions": 1536
}
[2025-03-21T15:34:16.358Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571253966",
  "duration": 2392,
  "matchCount": 5
}
[2025-03-21T15:34:16.369Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571256369"
}
[2025-03-21T15:34:16.370Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571256369",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2120,
  "conversationId": "103b8d24-a651-44fb-9d78-eb13659afc6a"
}
[2025-03-21T15:34:16.370Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571256369"
}
[2025-03-21T15:34:16.370Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571256370",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2120
}
[2025-03-21T15:34:16.370Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571256370",
  "contextLength": 2120
}
[2025-03-21T15:34:16.370Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571256370",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:34:17.155Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571256370",
  "duration": 785,
  "promptTokens": 507,
  "completionTokens": 24,
  "totalTokens": 531,
  "responseLength": 99
}
[2025-03-21T15:34:17.156Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571256369",
  "conversationId": "103b8d24-a651-44fb-9d78-eb13659afc6a",
  "userMessageLength": 2209,
  "assistantMessageLength": 99
}
[2025-03-21T15:34:17.298Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571256369",
  "conversationId": "103b8d24-a651-44fb-9d78-eb13659afc6a"
}
[2025-03-21T15:34:17.298Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571256369",
  "duration": 786,
  "answerLength": 99
}
[2025-03-21T15:34:17.306Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742571257306",
  "textLength": 99,
  "voice": "alloy"
}
[2025-03-21T15:34:17.306Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742571257306",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T15:34:19.617Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742571257306",
  "duration": 2311,
  "bufferSize": 120960
}
[2025-03-21T15:44:01.518Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571841518"
}
[2025-03-21T15:44:01.521Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571841518",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "50cea229-e874-4ab2-b44f-4190182464ec"
}
[2025-03-21T15:44:01.521Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571841521",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-21T15:44:01.522Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:44:01.522Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571841521",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:02.028Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571841521",
  "duration": 506,
  "dimensions": 1536
}
[2025-03-21T15:44:02.029Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:44:02.030Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T15:44:02.593Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:03.164Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 2,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:03.164Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571843164",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:44:03.164Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571843164",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:03.587Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571843164",
  "duration": 423,
  "dimensions": 1536
}
[2025-03-21T15:44:03.588Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "95ff401d-2308-48a6-9d66-187a8ce71a58",
  "similarity": 0.35270697313537336,
  "title": "name"
}
[2025-03-21T15:44:03.588Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571843588",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:44:03.588Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571843588",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:03.928Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571843588",
  "duration": 340,
  "dimensions": 1536
}
[2025-03-21T15:44:03.928Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "b385ad78-e78e-4a78-a556-81cc52660e77",
  "similarity": 0.2305913343634002,
  "title": "test"
}
[2025-03-21T15:44:03.928Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 2
}
[2025-03-21T15:44:03.929Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-21T15:44:03.929Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 18,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:03.929Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571843929",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:44:03.929Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571843929",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:03.929Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T15:44:03.929Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571841518",
  "duration": 2408,
  "matchCount": 5
}
[2025-03-21T15:44:04.275Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571843929",
  "duration": 346,
  "dimensions": 1536
}
[2025-03-21T15:44:04.275Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 4,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:04.275Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571844275",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:44:04.275Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571844275",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:04.533Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571844533"
}
[2025-03-21T15:44:04.533Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571844533",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "50cea229-e874-4ab2-b44f-4190182464ec"
}
[2025-03-21T15:44:04.533Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571844533"
}
[2025-03-21T15:44:04.533Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571844533",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-21T15:44:04.533Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:44:04.704Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571844275",
  "duration": 429,
  "dimensions": 1536
}
[2025-03-21T15:44:04.704Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-21T15:44:04.744Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742571844533",
  "hasSystemPrompt": true,
  "promptName": "mean"
}
[2025-03-21T15:44:04.744Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571844533",
  "contextLength": 1923
}
[2025-03-21T15:44:04.744Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571844533",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:44:04.922Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T15:44:05.999Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571844533",
  "duration": 1255,
  "promptTokens": 480,
  "completionTokens": 18,
  "totalTokens": 498,
  "responseLength": 72
}
[2025-03-21T15:44:05.999Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571844533",
  "conversationId": "50cea229-e874-4ab2-b44f-4190182464ec",
  "userMessageLength": 1959,
  "assistantMessageLength": 72
}
[2025-03-21T15:44:06.232Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571844533",
  "conversationId": "50cea229-e874-4ab2-b44f-4190182464ec"
}
[2025-03-21T15:44:06.232Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571844533",
  "duration": 1466,
  "answerLength": 72
}
[2025-03-21T15:44:06.414Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742571846414",
  "textLength": 72,
  "voice": "alloy"
}
[2025-03-21T15:44:06.414Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:44:06.414Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742571846414",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T15:44:08.063Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742571846414",
  "duration": 1649,
  "bufferSize": 87360
}
[2025-03-21T15:44:19.432Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571859432"
}
[2025-03-21T15:44:19.432Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571859432",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa"
}
[2025-03-21T15:44:19.432Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571859432",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-21T15:44:19.432Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T15:44:19.433Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571859432",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:20.005Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571859432",
  "duration": 572,
  "dimensions": 1536
}
[2025-03-21T15:44:20.005Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T15:44:20.008Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T15:44:20.341Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:20.525Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 2,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:20.525Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571860525",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:44:20.525Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571860525",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:21.067Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571860525",
  "duration": 542,
  "dimensions": 1536
}
[2025-03-21T15:44:21.068Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "95ff401d-2308-48a6-9d66-187a8ce71a58",
  "similarity": 0.3527402947235222,
  "title": "name"
}
[2025-03-21T15:44:21.068Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571861068",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:44:21.068Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571861068",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:21.473Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571861068",
  "duration": 405,
  "dimensions": 1536
}
[2025-03-21T15:44:21.474Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "b385ad78-e78e-4a78-a556-81cc52660e77",
  "similarity": 0.2304900812530785,
  "title": "test"
}
[2025-03-21T15:44:21.474Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 2
}
[2025-03-21T15:44:21.474Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-21T15:44:21.474Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 18,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:21.474Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571861474",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:44:21.474Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571861474",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:21.474Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T15:44:21.474Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571859432",
  "duration": 2042,
  "matchCount": 5
}
[2025-03-21T15:44:21.482Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571861482"
}
[2025-03-21T15:44:21.483Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571861482",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923,
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa"
}
[2025-03-21T15:44:21.483Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571861482"
}
[2025-03-21T15:44:21.483Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571861483",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1923
}
[2025-03-21T15:44:21.617Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742571861483",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-21T15:44:21.617Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571861483",
  "contextLength": 1923
}
[2025-03-21T15:44:21.618Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571861483",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:44:22.341Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571861474",
  "duration": 867,
  "dimensions": 1536
}
[2025-03-21T15:44:22.341Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 4,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:22.341Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571862341",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:44:22.341Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571862341",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:22.498Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571862341",
  "duration": 157,
  "dimensions": 1536
}
[2025-03-21T15:44:22.499Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-21T15:44:22.629Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571861483",
  "duration": 1011,
  "promptTokens": 481,
  "completionTokens": 40,
  "totalTokens": 521,
  "responseLength": 180
}
[2025-03-21T15:44:22.630Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571861482",
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa",
  "userMessageLength": 1965,
  "assistantMessageLength": 180
}
[2025-03-21T15:44:22.711Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T15:44:22.788Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571861482",
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa"
}
[2025-03-21T15:44:22.788Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571861482",
  "duration": 1147,
  "answerLength": 180
}
[2025-03-21T15:44:22.830Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742571862830",
  "textLength": 180,
  "voice": "alloy"
}
[2025-03-21T15:44:22.830Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742571862830",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T15:44:24.956Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742571862830",
  "duration": 2126,
  "bufferSize": 210720
}
[2025-03-21T15:44:27.471Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742571867471"
}
[2025-03-21T15:44:27.472Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742571867471",
  "query": "do you know my name",
  "topK": 5,
  "source": "chat",
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa"
}
[2025-03-21T15:44:27.472Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571867472",
  "textLength": 19,
  "textPreview": "do you know my name"
}
[2025-03-21T15:44:27.472Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571867472",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:27.789Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571867472",
  "duration": 317,
  "dimensions": 1536
}
[2025-03-21T15:44:27.789Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T15:44:28.166Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:28.320Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 2,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:28.320Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571868320",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:44:28.321Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571868320",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:29.029Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571868320",
  "duration": 708,
  "dimensions": 1536
}
[2025-03-21T15:44:29.029Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "95ff401d-2308-48a6-9d66-187a8ce71a58",
  "similarity": 0.48076063065797375,
  "title": "name"
}
[2025-03-21T15:44:29.029Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571869029",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:44:29.029Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571869029",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:29.393Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571869029",
  "duration": 364,
  "dimensions": 1536
}
[2025-03-21T15:44:29.394Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "b385ad78-e78e-4a78-a556-81cc52660e77",
  "similarity": 0.16948534673914545,
  "title": "test"
}
[2025-03-21T15:44:29.394Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 2
}
[2025-03-21T15:44:29.394Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-21T15:44:29.394Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 18,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:29.394Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571869394",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-21T15:44:29.395Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571869394",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:29.395Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T15:44:29.395Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742571867471",
  "duration": 1923,
  "matchCount": 5
}
[2025-03-21T15:44:29.403Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742571869403"
}
[2025-03-21T15:44:29.403Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742571869403",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2414,
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa"
}
[2025-03-21T15:44:29.403Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742571869403"
}
[2025-03-21T15:44:29.403Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742571869403",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 2414
}
[2025-03-21T15:44:29.558Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742571869403",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-21T15:44:29.558Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742571869403",
  "contextLength": 2414
}
[2025-03-21T15:44:29.558Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742571869403",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-21T15:44:29.675Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571869394",
  "duration": 280,
  "dimensions": 1536
}
[2025-03-21T15:44:29.676Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 4,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-21T15:44:29.676Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742571869676",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-21T15:44:29.676Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742571869676",
  "model": "text-embedding-3-small"
}
[2025-03-21T15:44:30.092Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742571869676",
  "duration": 416,
  "dimensions": 1536
}
[2025-03-21T15:44:30.092Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-21T15:44:30.283Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T15:44:30.436Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742571869403",
  "duration": 878,
  "promptTokens": 601,
  "completionTokens": 40,
  "totalTokens": 641,
  "responseLength": 166
}
[2025-03-21T15:44:30.436Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742571869403",
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa",
  "userMessageLength": 2456,
  "assistantMessageLength": 166
}
[2025-03-21T15:44:30.583Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742571869403",
  "conversationId": "d4a46728-76a6-4edb-bb72-c0c5ca0a37aa"
}
[2025-03-21T15:44:30.584Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742571869403",
  "duration": 1033,
  "answerLength": 166
}
[2025-03-21T15:44:30.596Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742571870596",
  "textLength": 166,
  "voice": "alloy"
}
[2025-03-21T15:44:30.597Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742571870596",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-21T15:44:32.360Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742571870596",
  "duration": 1763,
  "bufferSize": 189120
}
[2025-03-21T16:01:08.680Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742572868680",
  "textLength": 16,
  "textPreview": "What is my name?"
}
[2025-03-21T16:01:08.681Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T16:01:08.682Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742572868680",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:01:09.180Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742572868680",
  "duration": 498,
  "dimensions": 1536
}
[2025-03-21T16:01:09.332Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742572869332",
  "textLength": 10,
  "textPreview": "My name is"
}
[2025-03-21T16:01:09.332Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742572869332",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:01:09.848Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742572869332",
  "duration": 516,
  "dimensions": 1536
}
[2025-03-21T16:01:09.934Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742572869934",
  "textLength": 6,
  "textPreview": "Connor"
}
[2025-03-21T16:01:09.934Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742572869934",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:01:10.374Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742572869934",
  "duration": 440,
  "dimensions": 1536
}
[2025-03-21T16:01:10.456Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742572870456",
  "textLength": 20,
  "textPreview": "Do you know my name?"
}
[2025-03-21T16:01:10.456Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742572870456",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:01:11.160Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742572870456",
  "duration": 704,
  "dimensions": 1536
}
[2025-03-21T16:27:19.082Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574439082",
  "textLength": 16,
  "textPreview": "What is my name?"
}
[2025-03-21T16:27:19.092Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T16:27:19.093Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574439082",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:20.142Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574439082",
  "duration": 1049,
  "dimensions": 1536
}
[2025-03-21T16:27:20.299Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574440299",
  "textLength": 10,
  "textPreview": "My name is"
}
[2025-03-21T16:27:20.300Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574440299",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:20.831Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574440299",
  "duration": 531,
  "dimensions": 1536
}
[2025-03-21T16:27:20.901Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574440901",
  "textLength": 6,
  "textPreview": "Connor"
}
[2025-03-21T16:27:20.901Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574440901",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:21.770Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574440901",
  "duration": 869,
  "dimensions": 1536
}
[2025-03-21T16:27:21.844Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574441844",
  "textLength": 20,
  "textPreview": "Do you know my name?"
}
[2025-03-21T16:27:21.844Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574441844",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:22.715Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574441844",
  "duration": 871,
  "dimensions": 1536
}
[2025-03-21T16:27:25.272Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-21T16:27:25.274Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-21T16:27:25.275Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "test_script",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:25.275Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574445275",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:25.275Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-21T16:27:25.275Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574445275",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:26.255Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574445275",
  "duration": 980,
  "dimensions": 1536
}
[2025-03-21T16:27:26.255Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-21T16:27:27.643Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T16:27:30.644Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574450644",
  "textLength": 16,
  "textPreview": "What is my name?"
}
[2025-03-21T16:27:30.644Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574450644",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:31.677Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574450644",
  "duration": 1033,
  "dimensions": 1536
}
[2025-03-21T16:27:31.677Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T16:27:32.064Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:32.243Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:32.243Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574452243",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:32.244Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574452243",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:32.747Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574452243",
  "duration": 503,
  "dimensions": 1536
}
[2025-03-21T16:27:32.747Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.39229257307572535,
  "title": "Test Knowledge"
}
[2025-03-21T16:27:32.747Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-21T16:27:32.747Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-21T16:27:32.748Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:32.748Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574452748",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:32.748Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574452748",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:32.748Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T16:27:32.748Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574452748",
  "textLength": 9,
  "textPreview": "Who am I?"
}
[2025-03-21T16:27:32.748Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574452748",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:33.058Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574452748",
  "duration": 310,
  "dimensions": 1536
}
[2025-03-21T16:27:33.058Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-21T16:27:33.190Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T16:27:33.930Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574452748",
  "duration": 1182,
  "dimensions": 1536
}
[2025-03-21T16:27:33.931Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T16:27:34.008Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:34.140Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:34.140Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574454140",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:34.140Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574454140",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:34.793Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574454140",
  "duration": 653,
  "dimensions": 1536
}
[2025-03-21T16:27:34.793Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.307999298335777,
  "title": "Test Knowledge"
}
[2025-03-21T16:27:34.794Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-21T16:27:34.794Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-21T16:27:34.794Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:34.794Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574454794",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:34.794Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574454794",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:34.794Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T16:27:34.794Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574454794",
  "textLength": 16,
  "textPreview": "Where do I live?"
}
[2025-03-21T16:27:34.794Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574454794",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:35.409Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574454794",
  "duration": 615,
  "dimensions": 1536
}
[2025-03-21T16:27:35.409Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-21T16:27:35.522Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T16:27:35.527Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574454794",
  "duration": 733,
  "dimensions": 1536
}
[2025-03-21T16:27:35.528Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T16:27:35.602Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:35.730Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:35.730Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574455730",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:35.730Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574455730",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:36.447Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574455730",
  "duration": 717,
  "dimensions": 1536
}
[2025-03-21T16:27:36.447Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.38066006789912055,
  "title": "Test Knowledge"
}
[2025-03-21T16:27:36.447Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-21T16:27:36.447Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-21T16:27:36.447Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:36.447Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574456447",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:36.447Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574456447",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:36.447Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T16:27:36.447Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574456447",
  "textLength": 20,
  "textPreview": "Tell me about Connor"
}
[2025-03-21T16:27:36.447Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574456447",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:36.623Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574456447",
  "duration": 176,
  "dimensions": 1536
}
[2025-03-21T16:27:36.623Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-21T16:27:36.732Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T16:27:37.798Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574456447",
  "duration": 1351,
  "dimensions": 1536
}
[2025-03-21T16:27:37.799Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T16:27:37.882Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:38.008Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:38.009Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574458009",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:38.009Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574458009",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:38.316Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574458009",
  "duration": 307,
  "dimensions": 1536
}
[2025-03-21T16:27:38.316Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.5744257801666081,
  "title": "Test Knowledge"
}
[2025-03-21T16:27:38.316Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-21T16:27:38.316Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-21T16:27:38.317Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:38.317Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574458317",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:38.317Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574458317",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:38.317Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T16:27:38.317Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574458317",
  "textLength": 20,
  "textPreview": "Do you know my name?"
}
[2025-03-21T16:27:38.317Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574458317",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:38.570Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574458317",
  "duration": 253,
  "dimensions": 1536
}
[2025-03-21T16:27:38.570Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-21T16:27:38.655Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:38.786Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:38.789Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574458789",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:38.789Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574458789",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:39.047Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574458317",
  "duration": 730,
  "dimensions": 1536
}
[2025-03-21T16:27:39.047Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-21T16:27:39.247Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-21T16:27:39.260Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574458789",
  "duration": 471,
  "dimensions": 1536
}
[2025-03-21T16:27:39.260Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.3728980099870634,
  "title": "Test Knowledge"
}
[2025-03-21T16:27:39.260Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-21T16:27:39.261Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-21T16:27:39.261Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-21T16:27:39.261Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742574459261",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-21T16:27:39.261Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742574459261",
  "model": "text-embedding-3-small"
}
[2025-03-21T16:27:39.261Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-21T16:27:39.561Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742574459261",
  "duration": 300,
  "dimensions": 1536
}
[2025-03-21T16:27:39.562Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-21T16:27:39.703Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-23T00:14:02.853Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742688842853"
}
[2025-03-23T00:14:02.854Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742688842853",
  "query": "hey",
  "topK": 5,
  "source": "chat",
  "conversationId": "none"
}
[2025-03-23T00:14:02.854Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742688842854",
  "textLength": 3,
  "textPreview": "hey"
}
[2025-03-23T00:14:02.854Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T00:14:02.854Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742688842854",
  "model": "text-embedding-3-small"
}
[2025-03-23T00:14:04.082Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742688842854",
  "duration": 1228,
  "dimensions": 1536
}
[2025-03-23T00:14:04.082Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-23T00:14:04.083Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "none",
  "hasAdditionalContext": false,
  "hasFilter": false
}
[2025-03-23T00:14:04.962Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-23T00:14:04.963Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742688842853",
  "duration": 2109,
  "matchCount": 5
}
[2025-03-23T00:14:05.108Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742688845108"
}
[2025-03-23T00:14:05.109Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742688845108",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 146,
  "conversationId": "none"
}
[2025-03-23T00:14:05.109Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742688845108"
}
[2025-03-23T00:14:05.109Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742688845109",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 146
}
[2025-03-23T00:14:05.109Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T00:14:05.133Z] [WARN] [OpenAI] Error retrieving system prompt {
  "requestId": "completion-1742688845109",
  "error": "Can't reach database server at `db.hcxmvlnjwgxskvywnolv.supabase.co:5432`\n\nPlease make sure your database server is running at `db.hcxmvlnjwgxskvywnolv.supabase.co:5432`."
}
[2025-03-23T00:14:05.133Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742688845109",
  "contextLength": 146
}
[2025-03-23T00:14:05.133Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742688845109",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-23T00:14:05.985Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742688845109",
  "duration": 852,
  "promptTokens": 65,
  "completionTokens": 12,
  "totalTokens": 77,
  "responseLength": 42
}
[2025-03-23T00:14:05.985Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742688845108",
  "duration": 876,
  "answerLength": 42
}
[2025-03-23T02:46:59.330Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742698019329"
}
[2025-03-23T02:46:59.330Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742698019329",
  "query": "hey",
  "topK": 5,
  "source": "chat",
  "conversationId": "c8dd2267-f861-4ffa-9796-b0c2c8b6d602"
}
[2025-03-23T02:46:59.331Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698019331",
  "textLength": 3,
  "textPreview": "hey"
}
[2025-03-23T02:46:59.331Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T02:46:59.331Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698019331",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:47:00.037Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698019331",
  "duration": 706,
  "dimensions": 1536
}
[2025-03-23T02:47:00.038Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-23T02:47:00.072Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-23T02:47:00.780Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:47:01.008Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:47:01.008Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698021008",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T02:47:01.009Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698021008",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:47:01.988Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698021008",
  "duration": 979,
  "dimensions": 1536
}
[2025-03-23T02:47:01.989Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.29975256723600757,
  "title": "Test Knowledge"
}
[2025-03-23T02:47:01.989Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-23T02:47:01.989Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-23T02:47:01.989Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:47:01.989Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698021989",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T02:47:01.989Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698021989",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:47:01.989Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-23T02:47:01.989Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742698019329",
  "duration": 2659,
  "matchCount": 5
}
[2025-03-23T02:47:02.125Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742698022125"
}
[2025-03-23T02:47:02.125Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742698022125",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218,
  "conversationId": "c8dd2267-f861-4ffa-9796-b0c2c8b6d602"
}
[2025-03-23T02:47:02.125Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742698022125"
}
[2025-03-23T02:47:02.125Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742698022125",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218
}
[2025-03-23T02:47:02.125Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T02:47:02.322Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742698022125",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-23T02:47:02.322Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742698022125",
  "contextLength": 218
}
[2025-03-23T02:47:02.322Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742698022125",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-23T02:47:02.510Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698021989",
  "duration": 521,
  "dimensions": 1536
}
[2025-03-23T02:47:02.510Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-23T02:47:02.884Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-23T02:47:03.389Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742698022125",
  "duration": 1067,
  "promptTokens": 71,
  "completionTokens": 37,
  "totalTokens": 108,
  "responseLength": 156
}
[2025-03-23T02:47:03.389Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742698022125",
  "conversationId": "c8dd2267-f861-4ffa-9796-b0c2c8b6d602",
  "userMessageLength": 260,
  "assistantMessageLength": 156
}
[2025-03-23T02:47:03.578Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742698022125",
  "conversationId": "c8dd2267-f861-4ffa-9796-b0c2c8b6d602"
}
[2025-03-23T02:47:03.578Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742698022125",
  "duration": 1264,
  "answerLength": 156
}
[2025-03-23T02:47:12.914Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742698032914"
}
[2025-03-23T02:47:12.914Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742698032914",
  "query": "hey do you know my name",
  "topK": 5,
  "source": "chat",
  "conversationId": "70dc4284-ab22-4423-bf6b-766f4c43829f"
}
[2025-03-23T02:47:12.914Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698032914",
  "textLength": 23,
  "textPreview": "hey do you know my name"
}
[2025-03-23T02:47:12.914Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T02:47:12.915Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698032914",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:47:13.352Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698032914",
  "duration": 437,
  "dimensions": 1536
}
[2025-03-23T02:47:13.352Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-23T02:47:13.352Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-23T02:47:13.696Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:47:13.836Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:47:13.837Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698033837",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T02:47:13.837Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698033837",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:47:14.843Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698033837",
  "duration": 1006,
  "dimensions": 1536
}
[2025-03-23T02:47:14.844Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.3871009037186727,
  "title": "Test Knowledge"
}
[2025-03-23T02:47:14.844Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-23T02:47:14.844Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-23T02:47:14.844Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:47:14.844Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698034844",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T02:47:14.844Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698034844",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:47:14.844Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-23T02:47:14.844Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742698032914",
  "duration": 1930,
  "matchCount": 5
}
[2025-03-23T02:47:14.854Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742698034854"
}
[2025-03-23T02:47:14.854Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742698034854",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218,
  "conversationId": "70dc4284-ab22-4423-bf6b-766f4c43829f"
}
[2025-03-23T02:47:14.854Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742698034854"
}
[2025-03-23T02:47:14.854Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742698034854",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218
}
[2025-03-23T02:47:15.002Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742698034854",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-23T02:47:15.002Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742698034854",
  "contextLength": 218
}
[2025-03-23T02:47:15.002Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742698034854",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-23T02:47:15.226Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698034844",
  "duration": 382,
  "dimensions": 1536
}
[2025-03-23T02:47:15.226Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-23T02:47:15.333Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-23T02:47:15.914Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742698034854",
  "duration": 912,
  "promptTokens": 76,
  "completionTokens": 42,
  "totalTokens": 118,
  "responseLength": 179
}
[2025-03-23T02:47:15.914Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742698034854",
  "conversationId": "70dc4284-ab22-4423-bf6b-766f4c43829f",
  "userMessageLength": 260,
  "assistantMessageLength": 179
}
[2025-03-23T02:47:16.107Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742698034854",
  "conversationId": "70dc4284-ab22-4423-bf6b-766f4c43829f"
}
[2025-03-23T02:47:16.107Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742698034854",
  "duration": 1060,
  "answerLength": 179
}
[2025-03-23T02:52:28.998Z] [INFO] [OpenAI] Transcribing audio {
  "requestId": "transcribe-1742698348998",
  "bufferSize": 25438
}
[2025-03-23T02:52:28.999Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T02:52:29.000Z] [DEBUG] [OpenAI] Writing audio to temporary file {
  "requestId": "transcribe-1742698348998",
  "tempFilePath": "/var/folders/v1/bb0s1r1d2_n7rq8bzlxr29b40000gn/T/audio-1742698349000.webm"
}
[2025-03-23T02:52:29.000Z] [DEBUG] [OpenAI] Calling transcription API {
  "requestId": "transcribe-1742698348998",
  "model": "whisper-1"
}
[2025-03-23T02:52:29.991Z] [INFO] [OpenAI] Audio transcription complete {
  "requestId": "transcribe-1742698348998",
  "duration": 991,
  "transcriptionLength": 26
}
[2025-03-23T02:57:48.455Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742698668455"
}
[2025-03-23T02:57:48.456Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742698668455",
  "query": "hey there",
  "topK": 5,
  "source": "chat",
  "conversationId": "46a92751-cd57-4a1a-a19f-5f4ad22a0e9f"
}
[2025-03-23T02:57:48.456Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698668456",
  "textLength": 9,
  "textPreview": "hey there"
}
[2025-03-23T02:57:48.456Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T02:57:48.456Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698668456",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:57:48.789Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698668456",
  "duration": 333,
  "dimensions": 1536
}
[2025-03-23T02:57:48.790Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-23T02:57:48.790Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-23T02:57:49.286Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:57:49.527Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:57:49.527Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698669527",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T02:57:49.528Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698669527",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:57:50.295Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698669527",
  "duration": 767,
  "dimensions": 1536
}
[2025-03-23T02:57:50.296Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.29225084092388126,
  "title": "Test Knowledge"
}
[2025-03-23T02:57:50.296Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-23T02:57:50.296Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-23T02:57:50.296Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T02:57:50.296Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742698670296",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T02:57:50.297Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742698670296",
  "model": "text-embedding-3-small"
}
[2025-03-23T02:57:50.297Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-23T02:57:50.297Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742698668455",
  "duration": 1841,
  "matchCount": 5
}
[2025-03-23T02:57:50.428Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742698670428"
}
[2025-03-23T02:57:50.428Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742698670428",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218,
  "conversationId": "46a92751-cd57-4a1a-a19f-5f4ad22a0e9f"
}
[2025-03-23T02:57:50.428Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742698670428"
}
[2025-03-23T02:57:50.429Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742698670429",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218
}
[2025-03-23T02:57:50.429Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T02:57:50.592Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742698670429",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-23T02:57:50.593Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742698670429",
  "contextLength": 218
}
[2025-03-23T02:57:50.593Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742698670429",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-23T02:57:50.837Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742698670296",
  "duration": 540,
  "dimensions": 1536
}
[2025-03-23T02:57:50.837Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-23T02:57:50.971Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-23T02:57:51.366Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742698670429",
  "duration": 773,
  "promptTokens": 72,
  "completionTokens": 47,
  "totalTokens": 119,
  "responseLength": 197
}
[2025-03-23T02:57:51.366Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742698670428",
  "conversationId": "46a92751-cd57-4a1a-a19f-5f4ad22a0e9f",
  "userMessageLength": 260,
  "assistantMessageLength": 197
}
[2025-03-23T02:57:51.552Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742698670428",
  "conversationId": "46a92751-cd57-4a1a-a19f-5f4ad22a0e9f"
}
[2025-03-23T02:57:51.553Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742698670428",
  "duration": 938,
  "answerLength": 197
}
[2025-03-23T02:57:51.758Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742698671758",
  "textLength": 197,
  "voice": "alloy"
}
[2025-03-23T02:57:51.758Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T02:57:51.758Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742698671758",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-23T02:57:54.852Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742698671758",
  "duration": 3094,
  "bufferSize": 245760
}
[2025-03-23T03:06:57.311Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742699217311"
}
[2025-03-23T03:06:57.311Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742699217311",
  "query": "do you know my name",
  "topK": 5,
  "source": "chat",
  "conversationId": "a2789edc-8258-4e5d-8cf1-585f87e27505"
}
[2025-03-23T03:06:57.311Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699217311",
  "textLength": 19,
  "textPreview": "do you know my name"
}
[2025-03-23T03:06:57.312Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T03:06:57.312Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699217311",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:06:58.125Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699217311",
  "duration": 813,
  "dimensions": 1536
}
[2025-03-23T03:06:58.126Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-23T03:06:58.127Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-23T03:06:58.658Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T03:06:58.837Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T03:06:58.837Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699218837",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T03:06:58.837Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699218837",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:06:59.198Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699218837",
  "duration": 361,
  "dimensions": 1536
}
[2025-03-23T03:06:59.198Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.3741036978406944,
  "title": "Test Knowledge"
}
[2025-03-23T03:06:59.199Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-23T03:06:59.199Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-23T03:06:59.199Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-23T03:06:59.199Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699219199",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-23T03:06:59.199Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699219199",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:06:59.199Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-23T03:06:59.199Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742699217311",
  "duration": 1888,
  "matchCount": 5
}
[2025-03-23T03:06:59.348Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742699219348"
}
[2025-03-23T03:06:59.349Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742699219348",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218,
  "conversationId": "a2789edc-8258-4e5d-8cf1-585f87e27505"
}
[2025-03-23T03:06:59.349Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742699219348"
}
[2025-03-23T03:06:59.349Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742699219349",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218
}
[2025-03-23T03:06:59.349Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-23T03:06:59.484Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742699219349",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-23T03:06:59.484Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742699219349",
  "contextLength": 218
}
[2025-03-23T03:06:59.484Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742699219349",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-23T03:06:59.794Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699219199",
  "duration": 595,
  "dimensions": 1536
}
[2025-03-23T03:06:59.794Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-23T03:06:59.931Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-23T03:07:00.601Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742699219349",
  "duration": 1117,
  "promptTokens": 75,
  "completionTokens": 53,
  "totalTokens": 128,
  "responseLength": 254
}
[2025-03-23T03:07:00.601Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742699219348",
  "conversationId": "a2789edc-8258-4e5d-8cf1-585f87e27505",
  "userMessageLength": 260,
  "assistantMessageLength": 254
}
[2025-03-23T03:07:00.784Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742699219348",
  "conversationId": "a2789edc-8258-4e5d-8cf1-585f87e27505"
}
[2025-03-23T03:07:00.784Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742699219348",
  "duration": 1252,
  "answerLength": 254
}
[2025-03-23T03:07:08.036Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742699228036"
}
[2025-03-23T03:07:08.036Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742699228036",
  "query": "do you know my name",
  "topK": 5,
  "source": "chat",
  "conversationId": "0f89b864-c2e4-430d-885c-f9e775b4162e"
}
[2025-03-23T03:07:08.036Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699228036",
  "textLength": 19,
  "textPreview": "do you know my name"
}
[2025-03-23T03:07:08.036Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699228036",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:07:08.808Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699228036",
  "duration": 772,
  "dimensions": 1536
}
[2025-03-23T03:07:08.808Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-23T03:07:08.809Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-23T03:07:09.134Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-23T03:07:09.304Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 2,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-23T03:07:09.304Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699229304",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-23T03:07:09.304Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699229304",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:07:09.560Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699229304",
  "duration": 256,
  "dimensions": 1536
}
[2025-03-23T03:07:09.561Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "95ff401d-2308-48a6-9d66-187a8ce71a58",
  "similarity": 0.4807209668742267,
  "title": "name"
}
[2025-03-23T03:07:09.561Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699229561",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-23T03:07:09.561Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699229561",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:07:10.083Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699229561",
  "duration": 522,
  "dimensions": 1536
}
[2025-03-23T03:07:10.084Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "b385ad78-e78e-4a78-a556-81cc52660e77",
  "similarity": 0.1696005564574638,
  "title": "test"
}
[2025-03-23T03:07:10.084Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 2
}
[2025-03-23T03:07:10.084Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-23T03:07:10.084Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 18,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-23T03:07:10.084Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699230084",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-23T03:07:10.084Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699230084",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:07:10.084Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-23T03:07:10.084Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742699228036",
  "duration": 2048,
  "matchCount": 5
}
[2025-03-23T03:07:10.093Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742699230093"
}
[2025-03-23T03:07:10.093Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742699230093",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1018,
  "conversationId": "0f89b864-c2e4-430d-885c-f9e775b4162e"
}
[2025-03-23T03:07:10.093Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742699230093"
}
[2025-03-23T03:07:10.093Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742699230093",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 1018
}
[2025-03-23T03:07:10.223Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742699230093",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-23T03:07:10.224Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742699230093",
  "contextLength": 1018
}
[2025-03-23T03:07:10.224Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742699230093",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-23T03:07:10.391Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699230084",
  "duration": 307,
  "dimensions": 1536
}
[2025-03-23T03:07:10.391Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 4,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-23T03:07:10.392Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742699230392",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-23T03:07:10.392Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742699230392",
  "model": "text-embedding-3-small"
}
[2025-03-23T03:07:10.950Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742699230392",
  "duration": 558,
  "dimensions": 1536
}
[2025-03-23T03:07:10.950Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-23T03:07:11.128Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742699230093",
  "duration": 904,
  "promptTokens": 261,
  "completionTokens": 41,
  "totalTokens": 302,
  "responseLength": 168
}
[2025-03-23T03:07:11.128Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742699230093",
  "conversationId": "0f89b864-c2e4-430d-885c-f9e775b4162e",
  "userMessageLength": 1060,
  "assistantMessageLength": 168
}
[2025-03-23T03:07:11.161Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-23T03:07:11.277Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742699230093",
  "conversationId": "0f89b864-c2e4-430d-885c-f9e775b4162e"
}
[2025-03-23T03:07:11.277Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742699230093",
  "duration": 1035,
  "answerLength": 168
}
[2025-03-24T01:54:11.192Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742781251192"
}
[2025-03-24T01:54:11.192Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742781251192",
  "query": "hey there can you remember new things about me? li",
  "topK": 5,
  "source": "chat",
  "conversationId": "7e43f3f9-f56d-4b3e-84db-d4729c3e887f"
}
[2025-03-24T01:54:11.193Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781251193",
  "textLength": 89,
  "textPreview": "hey there can you remember new things about me? li..."
}
[2025-03-24T01:54:11.193Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-24T01:54:11.194Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781251193",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:12.418Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781251193",
  "duration": 1224,
  "dimensions": 1536
}
[2025-03-24T01:54:12.418Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-24T01:54:12.419Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-24T01:54:13.187Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:13.440Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 1,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:13.441Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781253441",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-24T01:54:13.441Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781253441",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:14.210Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781253441",
  "duration": 769,
  "dimensions": 1536
}
[2025-03-24T01:54:14.211Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.2440634553774783,
  "title": "Test Knowledge"
}
[2025-03-24T01:54:14.211Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 1
}
[2025-03-24T01:54:14.211Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-24T01:54:14.211Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:14.211Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781254211",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-24T01:54:14.211Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781254211",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:14.211Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-24T01:54:14.211Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742781251192",
  "duration": 3019,
  "matchCount": 5
}
[2025-03-24T01:54:14.379Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742781254379"
}
[2025-03-24T01:54:14.379Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742781254379",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218,
  "conversationId": "7e43f3f9-f56d-4b3e-84db-d4729c3e887f"
}
[2025-03-24T01:54:14.379Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742781254379"
}
[2025-03-24T01:54:14.379Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742781254379",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218
}
[2025-03-24T01:54:14.379Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-24T01:54:14.483Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781254211",
  "duration": 272,
  "dimensions": 1536
}
[2025-03-24T01:54:14.483Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-24T01:54:14.555Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742781254379",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-24T01:54:14.556Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742781254379",
  "contextLength": 218
}
[2025-03-24T01:54:14.556Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742781254379",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-24T01:54:14.891Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-24T01:54:16.665Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742781254379",
  "duration": 2109,
  "promptTokens": 89,
  "completionTokens": 86,
  "totalTokens": 175,
  "responseLength": 406
}
[2025-03-24T01:54:16.665Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742781254379",
  "conversationId": "7e43f3f9-f56d-4b3e-84db-d4729c3e887f",
  "userMessageLength": 260,
  "assistantMessageLength": 406
}
[2025-03-24T01:54:16.862Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742781254379",
  "conversationId": "7e43f3f9-f56d-4b3e-84db-d4729c3e887f"
}
[2025-03-24T01:54:16.863Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742781254379",
  "duration": 2286,
  "answerLength": 406
}
[2025-03-24T01:54:40.222Z] [INFO] [API] Upserting knowledge item to Pinecone {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "itemId": "9f11361d-c878-4959-b610-015496a8f973",
  "contentLength": 17
}
[2025-03-24T01:54:40.223Z] [INFO] [Pinecone] Upserting documents {
  "count": 1
}
[2025-03-24T01:54:40.223Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-24T01:54:40.223Z] [DEBUG] [Pinecone] Generating embedding for document 1/1 {
  "textLength": 17,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:40.223Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781280223",
  "textLength": 17,
  "textPreview": "I love basketball"
}
[2025-03-24T01:54:40.223Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-24T01:54:40.224Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781280223",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:40.897Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781280223",
  "duration": 673,
  "dimensions": 1536
}
[2025-03-24T01:54:40.898Z] [INFO] [Pinecone] Upserting 1 vectors to Pinecone 
[2025-03-24T01:54:41.286Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-24T01:54:41.287Z] [INFO] [API] Knowledge item upserted to Pinecone 
[2025-03-24T01:54:50.065Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742781290065"
}
[2025-03-24T01:54:50.065Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742781290065",
  "query": "hey what do you konw about me",
  "topK": 5,
  "source": "chat",
  "conversationId": "d26c070b-ebc9-40df-a09b-121e1849cd3d"
}
[2025-03-24T01:54:50.065Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781290065",
  "textLength": 29,
  "textPreview": "hey what do you konw about me"
}
[2025-03-24T01:54:50.065Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-24T01:54:50.065Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781290065",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:50.862Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781290065",
  "duration": 797,
  "dimensions": 1536
}
[2025-03-24T01:54:50.862Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-24T01:54:50.862Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-24T01:54:51.224Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:51.402Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 2,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:51.403Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781291403",
  "textLength": 17,
  "textPreview": "I love basketball"
}
[2025-03-24T01:54:51.403Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781291403",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:51.922Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781291403",
  "duration": 519,
  "dimensions": 1536
}
[2025-03-24T01:54:51.923Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "9f11361d-c878-4959-b610-015496a8f973",
  "similarity": 0.20346452119341468,
  "title": "test"
}
[2025-03-24T01:54:51.923Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781291923",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-24T01:54:51.923Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781291923",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:52.284Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781291923",
  "duration": 361,
  "dimensions": 1536
}
[2025-03-24T01:54:52.284Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.3300633936279314,
  "title": "Test Knowledge"
}
[2025-03-24T01:54:52.284Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 2
}
[2025-03-24T01:54:52.284Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-24T01:54:52.284Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 17,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:52.284Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781292284",
  "textLength": 17,
  "textPreview": "I love basketball"
}
[2025-03-24T01:54:52.284Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781292284",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:52.284Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-24T01:54:52.284Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742781290065",
  "duration": 2219,
  "matchCount": 5
}
[2025-03-24T01:54:52.293Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742781292293"
}
[2025-03-24T01:54:52.294Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742781292293",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218,
  "conversationId": "d26c070b-ebc9-40df-a09b-121e1849cd3d"
}
[2025-03-24T01:54:52.294Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742781292293"
}
[2025-03-24T01:54:52.294Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742781292294",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218
}
[2025-03-24T01:54:52.482Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742781292294",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-24T01:54:52.482Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742781292294",
  "contextLength": 218
}
[2025-03-24T01:54:52.483Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742781292294",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-24T01:54:53.065Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781292284",
  "duration": 781,
  "dimensions": 1536
}
[2025-03-24T01:54:53.066Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:54:53.066Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781293066",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-24T01:54:53.066Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781293066",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:54:53.475Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781293066",
  "duration": 409,
  "dimensions": 1536
}
[2025-03-24T01:54:53.476Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-24T01:54:53.676Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-24T01:54:53.682Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742781292294",
  "duration": 1199,
  "promptTokens": 78,
  "completionTokens": 60,
  "totalTokens": 138,
  "responseLength": 278
}
[2025-03-24T01:54:53.682Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742781292293",
  "conversationId": "d26c070b-ebc9-40df-a09b-121e1849cd3d",
  "userMessageLength": 260,
  "assistantMessageLength": 278
}
[2025-03-24T01:54:53.859Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742781292293",
  "conversationId": "d26c070b-ebc9-40df-a09b-121e1849cd3d"
}
[2025-03-24T01:54:53.860Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742781292293",
  "duration": 1388,
  "answerLength": 278
}
[2025-03-24T01:54:54.057Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742781294057",
  "textLength": 278,
  "voice": "alloy"
}
[2025-03-24T01:54:54.057Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-24T01:54:54.057Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742781294057",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-24T01:54:57.722Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742781294057",
  "duration": 3665,
  "bufferSize": 323520
}
[2025-03-24T01:55:19.117Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742781319117"
}
[2025-03-24T01:55:19.118Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742781319117",
  "query": "what do you know about me",
  "topK": 5,
  "source": "chat",
  "conversationId": "729a770b-4857-4697-af3d-8fe5e06571b5"
}
[2025-03-24T01:55:19.119Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781319119",
  "textLength": 25,
  "textPreview": "what do you know about me"
}
[2025-03-24T01:55:19.119Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-24T01:55:19.119Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781319119",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:19.954Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781319119",
  "duration": 835,
  "dimensions": 1536
}
[2025-03-24T01:55:19.955Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-24T01:55:19.955Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-24T01:55:20.400Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-24T01:55:20.717Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 2,
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-24T01:55:20.717Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781320717",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-24T01:55:20.717Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781320717",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:21.062Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781320717",
  "duration": 345,
  "dimensions": 1536
}
[2025-03-24T01:55:21.063Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "95ff401d-2308-48a6-9d66-187a8ce71a58",
  "similarity": 0.3659140306308676,
  "title": "name"
}
[2025-03-24T01:55:21.064Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781321064",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-24T01:55:21.064Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781321064",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:24.907Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781321064",
  "duration": 3843,
  "dimensions": 1536
}
[2025-03-24T01:55:24.907Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "b385ad78-e78e-4a78-a556-81cc52660e77",
  "similarity": 0.1986500791106323,
  "title": "test"
}
[2025-03-24T01:55:24.907Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 2
}
[2025-03-24T01:55:24.907Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-24T01:55:24.907Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 18,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-24T01:55:24.907Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781324907",
  "textLength": 18,
  "textPreview": "my name is connor\n"
}
[2025-03-24T01:55:24.907Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781324907",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:24.907Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-24T01:55:24.907Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742781319117",
  "duration": 5788,
  "matchCount": 5
}
[2025-03-24T01:55:24.922Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742781324922"
}
[2025-03-24T01:55:24.923Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742781324922",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 567,
  "conversationId": "729a770b-4857-4697-af3d-8fe5e06571b5"
}
[2025-03-24T01:55:24.923Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742781324922"
}
[2025-03-24T01:55:24.924Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742781324924",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 567
}
[2025-03-24T01:55:25.085Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742781324924",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-24T01:55:25.086Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742781324924",
  "contextLength": 567
}
[2025-03-24T01:55:25.087Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742781324924",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-24T01:55:25.599Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781324907",
  "duration": 692,
  "dimensions": 1536
}
[2025-03-24T01:55:25.599Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 4,
  "source": "user_knowledge",
  "userId": "739cf529-f9af-4bd0-8d2f-daa43f9f8661"
}
[2025-03-24T01:55:25.599Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781325599",
  "textLength": 4,
  "textPreview": "test"
}
[2025-03-24T01:55:25.599Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781325599",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:26.117Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742781324924",
  "duration": 1030,
  "promptTokens": 177,
  "completionTokens": 44,
  "totalTokens": 221,
  "responseLength": 185
}
[2025-03-24T01:55:26.117Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742781324922",
  "conversationId": "729a770b-4857-4697-af3d-8fe5e06571b5",
  "userMessageLength": 609,
  "assistantMessageLength": 185
}
[2025-03-24T01:55:26.269Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742781324922",
  "conversationId": "729a770b-4857-4697-af3d-8fe5e06571b5"
}
[2025-03-24T01:55:26.269Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742781324922",
  "duration": 1194,
  "answerLength": 185
}
[2025-03-24T01:55:26.271Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781325599",
  "duration": 672,
  "dimensions": 1536
}
[2025-03-24T01:55:26.271Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-24T01:55:26.667Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-24T01:55:45.091Z] [INFO] [API] RAG service request received {
  "requestId": "api-rag-1742781345090"
}
[2025-03-24T01:55:45.091Z] [DEBUG] [API] RAG service request details {
  "requestId": "api-rag-1742781345090",
  "query": "what do you know about me",
  "topK": 5,
  "source": "chat",
  "conversationId": "5baf3045-cee5-4a48-966a-f3d148ca2e78"
}
[2025-03-24T01:55:45.092Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781345091",
  "textLength": 25,
  "textPreview": "what do you know about me"
}
[2025-03-24T01:55:45.092Z] [INFO] [OpenAI] Initializing OpenAI client 
[2025-03-24T01:55:45.092Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781345091",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:45.560Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781345091",
  "duration": 468,
  "dimensions": 1536
}
[2025-03-24T01:55:45.560Z] [INFO] [Pinecone] Initializing Pinecone client 
[2025-03-24T01:55:45.561Z] [DEBUG] [Pinecone] Querying Pinecone {
  "topK": 5,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a",
  "hasAdditionalContext": false,
  "hasFilter": true
}
[2025-03-24T01:55:45.901Z] [DEBUG] [Pinecone] Fetching user knowledge items {
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:55:46.053Z] [INFO] [Pinecone] Processing user knowledge items {
  "count": 2,
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:55:46.053Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781346053",
  "textLength": 17,
  "textPreview": "I love basketball"
}
[2025-03-24T01:55:46.054Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781346053",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:46.420Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781346053",
  "duration": 366,
  "dimensions": 1536
}
[2025-03-24T01:55:46.421Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "9f11361d-c878-4959-b610-015496a8f973",
  "similarity": 0.1896461766302622,
  "title": "test"
}
[2025-03-24T01:55:46.421Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781346421",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-24T01:55:46.421Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781346421",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:46.670Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781346421",
  "duration": 249,
  "dimensions": 1536
}
[2025-03-24T01:55:46.670Z] [DEBUG] [Pinecone] Knowledge item similarity {
  "itemId": "52fbce1a-396c-46b4-a669-749258773633",
  "similarity": 0.28303243296471675,
  "title": "Test Knowledge"
}
[2025-03-24T01:55:46.671Z] [DEBUG] [Pinecone] Upserting knowledge items to Pinecone {
  "count": 2
}
[2025-03-24T01:55:46.671Z] [INFO] [Pinecone] Upserting documents {
  "count": 2
}
[2025-03-24T01:55:46.671Z] [DEBUG] [Pinecone] Generating embedding for document 1/2 {
  "textLength": 17,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:55:46.671Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781346671",
  "textLength": 17,
  "textPreview": "I love basketball"
}
[2025-03-24T01:55:46.671Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781346671",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:46.671Z] [INFO] [Pinecone] Query results combined {
  "pineconeMatches": 5,
  "knowledgeMatches": 0,
  "totalMatches": 5
}
[2025-03-24T01:55:46.671Z] [INFO] [API] RAG service request completed {
  "requestId": "api-rag-1742781345090",
  "duration": 1580,
  "matchCount": 5
}
[2025-03-24T01:55:46.678Z] [INFO] [API] Completion request received {
  "requestId": "api-completion-1742781346678"
}
[2025-03-24T01:55:46.679Z] [DEBUG] [API] Completion request details {
  "requestId": "api-completion-1742781346678",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218,
  "conversationId": "5baf3045-cee5-4a48-966a-f3d148ca2e78"
}
[2025-03-24T01:55:46.679Z] [DEBUG] [API] Calling getCompletion {
  "requestId": "api-completion-1742781346678"
}
[2025-03-24T01:55:46.679Z] [INFO] [OpenAI] Getting completion {
  "requestId": "completion-1742781346679",
  "messageCount": 1,
  "hasContext": true,
  "contextLength": 218
}
[2025-03-24T01:55:46.850Z] [DEBUG] [OpenAI] Retrieved active system prompt {
  "requestId": "completion-1742781346679",
  "hasSystemPrompt": true,
  "promptName": "nice"
}
[2025-03-24T01:55:46.850Z] [DEBUG] [OpenAI] Adding context to system message {
  "requestId": "completion-1742781346679",
  "contextLength": 218
}
[2025-03-24T01:55:46.850Z] [DEBUG] [OpenAI] Calling chat completions API {
  "requestId": "completion-1742781346679",
  "model": "gpt-4o",
  "messageCount": 2
}
[2025-03-24T01:55:46.885Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781346671",
  "duration": 214,
  "dimensions": 1536
}
[2025-03-24T01:55:46.885Z] [DEBUG] [Pinecone] Generating embedding for document 2/2 {
  "textLength": 42,
  "source": "user_knowledge",
  "userId": "860577c7-2047-4ee4-85a5-1554916dfc5a"
}
[2025-03-24T01:55:46.885Z] [INFO] [OpenAI] Generating embedding {
  "requestId": "embed-1742781346885",
  "textLength": 42,
  "textPreview": "My name is Connor and I live in California"
}
[2025-03-24T01:55:46.886Z] [DEBUG] [OpenAI] Calling embeddings API {
  "requestId": "embed-1742781346885",
  "model": "text-embedding-3-small"
}
[2025-03-24T01:55:47.182Z] [INFO] [OpenAI] Embedding generated successfully {
  "requestId": "embed-1742781346885",
  "duration": 296,
  "dimensions": 1536
}
[2025-03-24T01:55:47.183Z] [INFO] [Pinecone] Upserting 2 vectors to Pinecone 
[2025-03-24T01:55:47.394Z] [INFO] [Pinecone] Document upsert complete 
[2025-03-24T01:55:48.629Z] [INFO] [OpenAI] Completion generated successfully {
  "requestId": "completion-1742781346679",
  "duration": 1779,
  "promptTokens": 76,
  "completionTokens": 79,
  "totalTokens": 155,
  "responseLength": 389
}
[2025-03-24T01:55:48.630Z] [DEBUG] [API] Logging messages to database {
  "requestId": "api-completion-1742781346678",
  "conversationId": "5baf3045-cee5-4a48-966a-f3d148ca2e78",
  "userMessageLength": 260,
  "assistantMessageLength": 389
}
[2025-03-24T01:55:48.911Z] [INFO] [API] Messages logged to database {
  "requestId": "api-completion-1742781346678",
  "conversationId": "5baf3045-cee5-4a48-966a-f3d148ca2e78"
}
[2025-03-24T01:55:48.911Z] [INFO] [API] Completion request completed {
  "requestId": "api-completion-1742781346678",
  "duration": 1951,
  "answerLength": 389
}
[2025-03-24T01:55:48.921Z] [INFO] [OpenAI] Generating speech {
  "requestId": "tts-1742781348921",
  "textLength": 389,
  "voice": "alloy"
}
[2025-03-24T01:55:48.921Z] [DEBUG] [OpenAI] Calling speech API {
  "requestId": "tts-1742781348921",
  "model": "tts-1",
  "voice": "alloy"
}
[2025-03-24T01:55:52.753Z] [INFO] [OpenAI] Speech generated successfully {
  "requestId": "tts-1742781348921",
  "duration": 3832,
  "bufferSize": 487680
}
[2025-03-24T01:56:32.256Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-24T01:56:32.257Z] [INFO] [API] Getting server logs (and possibly message logs) 
[2025-03-24T01:56:32.582Z] [INFO] [API] Getting server logs (and possibly message logs) 
